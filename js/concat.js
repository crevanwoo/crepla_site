   
function activateBestWorksPage() {

    'use strict';

    if ($('.best_works_screen').length > 0) {

        $('div.single_work_bg').each(function () {
            $(this).css('background-image', 'url(' + $(this).parent().find('.single_work_bg_img img').attr('src') + ')');
        })

        $('.best_works_footer .single_work').on('mouseenter', function () {
            if (device.desktop()) {
                $(this).find('.single_work_hover').addClass('active');
            }
        })

        $('.best_works_footer .single_work').on('mouseleave', function () {
            $(this).find('.single_work_hover').removeClass('active');
        })

        $('.best_works_footer .single_work').on('click', function () {
            if (device.tablet()) {
                $(location).attr('href', $(this).find('.single_work_link a').attr('href'));
            }
        })

        $('.other_works').slick({
            infinite: true,
            slidesToShow: 2,
            slidesToScroll: 1,
            arrows: true,
        });
    }
}

activateBestWorksPage();




function showOnThinScreens() {
    if ($('.best_works_screen').length > 0 && !mark) {



        /*if ($('.best_works_pagination').find('.nav_item').length > 0) {
            $('.best_works_pagination').find('.nav_item').remove();
        }*/

        var showing_elems = ".single_work_description, .single_work_bg, .best_works_footer";
        $('.best_works_screen').addClass('active');
        $('.best_works_screen').addClass('active');
        $('.best_works_screen').find(showing_elems).css('opacity', '1');
        $('.best_works_screen').find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');
		$('.best_works_screen:last-of-type').css('visibility', 'visible');

    }

}

showOnThinScreens();
window.addEventListener('resize', function() {
	
		if (version = "tablet")
		showOnThinScreens();
});


var nav_created = false;

function showOnWideScreens() {
    if ($('.best_works_screen').length > 0 && mark) {
        fixBodyForSafari()
        var showing_elems = ".single_work_description, .single_work_bg, .best_works_footer";
        $('.best_works_screen:last-of-type').addClass('active');
        $('.best_works_screen:last-of-type').css('visibility', 'hidden');
        $('.best_works_screen:first-of-type').addClass('active');
        $('.best_works_screen:first-of-type').find(showing_elems).css('opacity', '1');
        $('.best_works_screen:first-of-type').find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');



    

        var screen_index = 0;


        var Settings = {
            total_slide_amount: $('section.single_work').length,
        }


        function createNav() {
			if (!nav_created) { nav_created = true;
            for (var i = 0; i <= Settings.total_slide_amount; i++) {
                var new_elem = document.createElement('li');
                new_elem.className = 'nav_item';
                new_elem.setAttribute('data-slide-num', i);
                $('.best_works_pagination').find('ul').append(new_elem);
            }
		  }
        };

        createNav()




        function setDefaultActive() {
            $('.best_works_pagination').find('.nav_item:first-of-type').addClass('active');
        }
        setDefaultActive()



        function showPageContent(index) {
            $('.best_works_screen:last-of-type').css('visibility', 'visible');
            hidePagePictures();
            $('.best_works_screen:eq(' + index + ')').addClass('active');
            setTimeout(function () {
                $('.best_works_screen:not(:eq(' + index + '))').find(showing_elems).animate({
                    opacity: 0
                })
                $('.best_works_screen:eq(' + index + ')').find(showing_elems).animate({
                        opacity: 1
                    },
                    showPagePictures.bind($('.best_works_screen:eq(' + index + ')'))
                )
            }, 1)

            setTimeout(
                function () {
                    $('.best_works_screen:not(:eq(' + index + '))').removeClass('active');
                    console.log($('.best_works_screen:not(:eq(' + index + '))'))
                },
                500);
        }







        function showPagePictures() {
            $(this).find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');
        }

        function hidePagePictures() {
            $('.single_work_picture .right_image, .single_work_picture .left_image').removeClass('active');
        }


        function addScrollListeners(funcName) {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    funcName(e);
                })
            }
        };

        addScrollListeners(pageScroll)


        function pageScroll(e) {
            if (mark) {
                mark = false;
                var direction = ScrollDirection.defineScrollDirection(e);
                if (direction == 'down' && screen_index < Settings.total_slide_amount) {
                    $('.nav_item').removeClass('active');
                    screen_index++;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                } else if (direction == 'up' && screen_index > 0) {
                    $('.nav_item').removeClass('active');
                    screen_index--;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                }
                activateMark()
            }
        }


        $('.nav_item').on('click', function () {
            if (mark) {
                mark = false;
                $('.nav_item').removeClass('active');
                $(this).addClass('active');
                screen_index = $(this).attr('data-slide-num');
                showPageContent(screen_index);
                activateMark()
            }
        })



        $('.best_works_pagination .arrow_top').on('click', function () {
            if (mark) {
                mark = false;
                if (screen_index > 0) {
                    $('.nav_item').removeClass('active');
                    screen_index--;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)

                }
                activateMark()
            }
        })


        $('.best_works_pagination .arrow_bottom').on('click', function () {
            if (mark) {
                mark = false;
                if (screen_index < Settings.total_slide_amount) {
                    $('.nav_item').removeClass('active');
                    screen_index++;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                }
                activateMark()
            }
        })



        function activateMark() {
            setTimeout(function () {
                mark = true

            }, 1000)
        }

    }
}

showOnWideScreens();
window.addEventListener('resize', function() {
	
		if (version = "desktop")
		showOnWideScreens();
});
//window.addEventListener('resize', showOnWideScreens);
   
function activateBestWorksPage() {

    'use strict';

    if ($('.best_works_screen').length > 0) {

        $('div.single_work_bg').each(function () {
            $(this).css('background-image', 'url(' + $(this).parent().find('.single_work_bg_img img').attr('src') + ')');
        })

        $('.best_works_footer .single_work').on('mouseenter', function () {
            if (device.desktop()) {
                $(this).find('.single_work_hover').addClass('active');
            }
        })

        $('.best_works_footer .single_work').on('mouseleave', function () {
            $(this).find('.single_work_hover').removeClass('active');
        })

        $('.best_works_footer .single_work').on('click', function () {
            if (device.tablet()) {
                $(location).attr('href', $(this).find('.single_work_link a').attr('href'));
            }
        })

        $('.other_works').slick({
            infinite: true,
            slidesToShow: 2,
            slidesToScroll: 1,
            arrows: true,
        });
    }
}

activateBestWorksPage();




function showOnThinScreens() {
    if ($('.best_works_screen').length > 0 && !mark) {



        /*if ($('.best_works_pagination').find('.nav_item').length > 0) {
            $('.best_works_pagination').find('.nav_item').remove();
        }*/

        var showing_elems = ".single_work_description, .single_work_bg, .best_works_footer";
        $('.best_works_screen').addClass('active');
        $('.best_works_screen').addClass('active');
        $('.best_works_screen').find(showing_elems).css('opacity', '1');
        $('.best_works_screen').find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');
		$('.best_works_screen:last-of-type').css('visibility', 'visible');

    }

}

showOnThinScreens();
window.addEventListener('resize', function() {
	
		if (version = "tablet")
		showOnThinScreens();
});


var nav_created = false;

function showOnWideScreens() {
    if ($('.best_works_screen').length > 0 && mark) {
        fixBodyForSafari()
        var showing_elems = ".single_work_description, .single_work_bg, .best_works_footer";
        $('.best_works_screen:last-of-type').addClass('active');
        $('.best_works_screen:last-of-type').css('visibility', 'hidden');
        $('.best_works_screen:first-of-type').addClass('active');
        $('.best_works_screen:first-of-type').find(showing_elems).css('opacity', '1');
        $('.best_works_screen:first-of-type').find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');



    

        var screen_index = 0;


        var Settings = {
            total_slide_amount: $('section.single_work').length,
        }


        function createNav() {
			if (!nav_created) { nav_created = true;
            for (var i = 0; i <= Settings.total_slide_amount; i++) {
                var new_elem = document.createElement('li');
                new_elem.className = 'nav_item';
                new_elem.setAttribute('data-slide-num', i);
                $('.best_works_pagination').find('ul').append(new_elem);
            }
		  }
        };

        createNav()




        function setDefaultActive() {
            $('.best_works_pagination').find('.nav_item:first-of-type').addClass('active');
        }
        setDefaultActive()



        function showPageContent(index) {
            $('.best_works_screen:last-of-type').css('visibility', 'visible');
            hidePagePictures();
            $('.best_works_screen:eq(' + index + ')').addClass('active');
            setTimeout(function () {
                $('.best_works_screen:not(:eq(' + index + '))').find(showing_elems).animate({
                    opacity: 0
                })
                $('.best_works_screen:eq(' + index + ')').find(showing_elems).animate({
                        opacity: 1
                    },
                    showPagePictures.bind($('.best_works_screen:eq(' + index + ')'))
                )
            }, 1)

            setTimeout(
                function () {
                    $('.best_works_screen:not(:eq(' + index + '))').removeClass('active');
                    console.log($('.best_works_screen:not(:eq(' + index + '))'))
                },
                500);
        }







        function showPagePictures() {
            $(this).find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');
        }

        function hidePagePictures() {
            $('.single_work_picture .right_image, .single_work_picture .left_image').removeClass('active');
        }


        function addScrollListeners(funcName) {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    funcName(e);
                })
            }
        };

        addScrollListeners(pageScroll)


        function pageScroll(e) {
            if (mark) {
                mark = false;
                var direction = ScrollDirection.defineScrollDirection(e);
                if (direction == 'down' && screen_index < Settings.total_slide_amount) {
                    $('.nav_item').removeClass('active');
                    screen_index++;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                } else if (direction == 'up' && screen_index > 0) {
                    $('.nav_item').removeClass('active');
                    screen_index--;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                }
                activateMark()
            }
        }


        $('.nav_item').on('click', function () {
            if (mark) {
                mark = false;
                $('.nav_item').removeClass('active');
                $(this).addClass('active');
                screen_index = $(this).attr('data-slide-num');
                showPageContent(screen_index);
                activateMark()
            }
        })



        $('.best_works_pagination .arrow_top').on('click', function () {
            if (mark) {
                mark = false;
                if (screen_index > 0) {
                    $('.nav_item').removeClass('active');
                    screen_index--;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)

                }
                activateMark()
            }
        })


        $('.best_works_pagination .arrow_bottom').on('click', function () {
            if (mark) {
                mark = false;
                if (screen_index < Settings.total_slide_amount) {
                    $('.nav_item').removeClass('active');
                    screen_index++;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                }
                activateMark()
            }
        })



        function activateMark() {
            setTimeout(function () {
                mark = true

            }, 1000)
        }

    }
}

showOnWideScreens();
window.addEventListener('resize', function() {
	
		if (version = "desktop")
		showOnWideScreens();
});
//window.addEventListener('resize', showOnWideScreens);
   
function activateBestWorksPage() {

    'use strict';

    if ($('.best_works_screen').length > 0) {

        $('div.single_work_bg').each(function () {
            $(this).css('background-image', 'url(' + $(this).parent().find('.single_work_bg_img img').attr('src') + ')');
        })

        $('.best_works_footer .single_work').on('mouseenter', function () {
            if (device.desktop()) {
                $(this).find('.single_work_hover').addClass('active');
            }
        })

        $('.best_works_footer .single_work').on('mouseleave', function () {
            $(this).find('.single_work_hover').removeClass('active');
        })

        $('.best_works_footer .single_work').on('click', function () {
            if (device.tablet()) {
                $(location).attr('href', $(this).find('.single_work_link a').attr('href'));
            }
        })

        $('.other_works').slick({
            infinite: true,
            slidesToShow: 2,
            slidesToScroll: 1,
            arrows: true,
        });
    }
}

activateBestWorksPage();




function showOnThinScreens() {
    if ($('.best_works_screen').length > 0 && !mark) {



        /*if ($('.best_works_pagination').find('.nav_item').length > 0) {
            $('.best_works_pagination').find('.nav_item').remove();
        }*/

        var showing_elems = ".single_work_description, .single_work_bg, .best_works_footer";
        $('.best_works_screen').addClass('active');
        $('.best_works_screen').addClass('active');
        $('.best_works_screen').find(showing_elems).css('opacity', '1');
        $('.best_works_screen').find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');
		$('.best_works_screen:last-of-type').css('visibility', 'visible');

    }

}

showOnThinScreens();
window.addEventListener('resize', function() {
	
		if (version = "tablet")
		showOnThinScreens();
});


var nav_created = false;

function showOnWideScreens() {
    if ($('.best_works_screen').length > 0 && mark) {
        fixBodyForSafari()
        var showing_elems = ".single_work_description, .single_work_bg, .best_works_footer";
        $('.best_works_screen:last-of-type').addClass('active');
        $('.best_works_screen:last-of-type').css('visibility', 'hidden');
        $('.best_works_screen:first-of-type').addClass('active');
        $('.best_works_screen:first-of-type').find(showing_elems).css('opacity', '1');
        $('.best_works_screen:first-of-type').find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');



    

        var screen_index = 0;


        var Settings = {
            total_slide_amount: $('section.single_work').length,
        }


        function createNav() {
			if (!nav_created) { nav_created = true;
            for (var i = 0; i <= Settings.total_slide_amount; i++) {
                var new_elem = document.createElement('li');
                new_elem.className = 'nav_item';
                new_elem.setAttribute('data-slide-num', i);
                $('.best_works_pagination').find('ul').append(new_elem);
            }
		  }
        };

        createNav()




        function setDefaultActive() {
            $('.best_works_pagination').find('.nav_item:first-of-type').addClass('active');
        }
        setDefaultActive()



        function showPageContent(index) {
            $('.best_works_screen:last-of-type').css('visibility', 'visible');
            hidePagePictures();
            $('.best_works_screen:eq(' + index + ')').addClass('active');
            setTimeout(function () {
                $('.best_works_screen:not(:eq(' + index + '))').find(showing_elems).animate({
                    opacity: 0
                })
                $('.best_works_screen:eq(' + index + ')').find(showing_elems).animate({
                        opacity: 1
                    },
                    showPagePictures.bind($('.best_works_screen:eq(' + index + ')'))
                )
            }, 1)

            setTimeout(
                function () {
                    $('.best_works_screen:not(:eq(' + index + '))').removeClass('active');
                    console.log($('.best_works_screen:not(:eq(' + index + '))'))
                },
                500);
        }







        function showPagePictures() {
            $(this).find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');
        }

        function hidePagePictures() {
            $('.single_work_picture .right_image, .single_work_picture .left_image').removeClass('active');
        }


        function addScrollListeners(funcName) {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    funcName(e);
                })
            }
        };

        addScrollListeners(pageScroll)


        function pageScroll(e) {
            if (mark) {
                mark = false;
                var direction = ScrollDirection.defineScrollDirection(e);
                if (direction == 'down' && screen_index < Settings.total_slide_amount) {
                    $('.nav_item').removeClass('active');
                    screen_index++;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                } else if (direction == 'up' && screen_index > 0) {
                    $('.nav_item').removeClass('active');
                    screen_index--;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                }
                activateMark()
            }
        }


        $('.nav_item').on('click', function () {
            if (mark) {
                mark = false;
                $('.nav_item').removeClass('active');
                $(this).addClass('active');
                screen_index = $(this).attr('data-slide-num');
                showPageContent(screen_index);
                activateMark()
            }
        })



        $('.best_works_pagination .arrow_top').on('click', function () {
            if (mark) {
                mark = false;
                if (screen_index > 0) {
                    $('.nav_item').removeClass('active');
                    screen_index--;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)

                }
                activateMark()
            }
        })


        $('.best_works_pagination .arrow_bottom').on('click', function () {
            if (mark) {
                mark = false;
                if (screen_index < Settings.total_slide_amount) {
                    $('.nav_item').removeClass('active');
                    screen_index++;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                }
                activateMark()
            }
        })



        function activateMark() {
            setTimeout(function () {
                mark = true

            }, 1000)
        }

    }
}

showOnWideScreens();
window.addEventListener('resize', function() {
	
		if (version = "desktop")
		showOnWideScreens();
});
//window.addEventListener('resize', showOnWideScreens);
   
function activateBestWorksPage() {

    'use strict';

    if ($('.best_works_screen').length > 0) {

        $('div.single_work_bg').each(function () {
            $(this).css('background-image', 'url(' + $(this).parent().find('.single_work_bg_img img').attr('src') + ')');
        })

        $('.best_works_footer .single_work').on('mouseenter', function () {
            if (device.desktop()) {
                $(this).find('.single_work_hover').addClass('active');
            }
        })

        $('.best_works_footer .single_work').on('mouseleave', function () {
            $(this).find('.single_work_hover').removeClass('active');
        })

        $('.best_works_footer .single_work').on('click', function () {
            if (device.tablet()) {
                $(location).attr('href', $(this).find('.single_work_link a').attr('href'));
            }
        })

        $('.other_works').slick({
            infinite: true,
            slidesToShow: 2,
            slidesToScroll: 1,
            arrows: true,
        });
    }
}

activateBestWorksPage();




function showOnThinScreens() {
    if ($('.best_works_screen').length > 0 && !mark) {



        /*if ($('.best_works_pagination').find('.nav_item').length > 0) {
            $('.best_works_pagination').find('.nav_item').remove();
        }*/

        var showing_elems = ".single_work_description, .single_work_bg, .best_works_footer";
        $('.best_works_screen').addClass('active');
        $('.best_works_screen').addClass('active');
        $('.best_works_screen').find(showing_elems).css('opacity', '1');
        $('.best_works_screen').find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');
		$('.best_works_screen:last-of-type').css('visibility', 'visible');

    }

}

showOnThinScreens();
window.addEventListener('resize', function() {
	
		if (version = "tablet")
		showOnThinScreens();
});


var nav_created = false;

function showOnWideScreens() {
    if ($('.best_works_screen').length > 0 && mark) {
        fixBodyForSafari()
        var showing_elems = ".single_work_description, .single_work_bg, .best_works_footer";
        $('.best_works_screen:last-of-type').addClass('active');
        $('.best_works_screen:last-of-type').css('visibility', 'hidden');
        $('.best_works_screen:first-of-type').addClass('active');
        $('.best_works_screen:first-of-type').find(showing_elems).css('opacity', '1');
        $('.best_works_screen:first-of-type').find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');



    

        var screen_index = 0;


        var Settings = {
            total_slide_amount: $('section.single_work').length,
        }


        function createNav() {
			if (!nav_created) { nav_created = true;
            for (var i = 0; i <= Settings.total_slide_amount; i++) {
                var new_elem = document.createElement('li');
                new_elem.className = 'nav_item';
                new_elem.setAttribute('data-slide-num', i);
                $('.best_works_pagination').find('ul').append(new_elem);
            }
		  }
        };

        createNav()




        function setDefaultActive() {
            $('.best_works_pagination').find('.nav_item:first-of-type').addClass('active');
        }
        setDefaultActive()



        function showPageContent(index) {
            $('.best_works_screen:last-of-type').css('visibility', 'visible');
            hidePagePictures();
            $('.best_works_screen:eq(' + index + ')').addClass('active');
            setTimeout(function () {
                $('.best_works_screen:not(:eq(' + index + '))').find(showing_elems).animate({
                    opacity: 0
                })
                $('.best_works_screen:eq(' + index + ')').find(showing_elems).animate({
                        opacity: 1
                    },
                    showPagePictures.bind($('.best_works_screen:eq(' + index + ')'))
                )
            }, 1)

            setTimeout(
                function () {
                    $('.best_works_screen:not(:eq(' + index + '))').removeClass('active');
                    console.log($('.best_works_screen:not(:eq(' + index + '))'))
                },
                500);
        }







        function showPagePictures() {
            $(this).find('.single_work_picture .right_image, .single_work_picture .left_image').addClass('active');
        }

        function hidePagePictures() {
            $('.single_work_picture .right_image, .single_work_picture .left_image').removeClass('active');
        }


        function addScrollListeners(funcName) {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    funcName(e);
                })
            }
        };

        addScrollListeners(pageScroll)


        function pageScroll(e) {
            if (mark) {
                mark = false;
                var direction = ScrollDirection.defineScrollDirection(e);
                if (direction == 'down' && screen_index < Settings.total_slide_amount) {
                    $('.nav_item').removeClass('active');
                    screen_index++;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                } else if (direction == 'up' && screen_index > 0) {
                    $('.nav_item').removeClass('active');
                    screen_index--;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                }
                activateMark()
            }
        }


        $('.nav_item').on('click', function () {
            if (mark) {
                mark = false;
                $('.nav_item').removeClass('active');
                $(this).addClass('active');
                screen_index = $(this).attr('data-slide-num');
                showPageContent(screen_index);
                activateMark()
            }
        })



        $('.best_works_pagination .arrow_top').on('click', function () {
            if (mark) {
                mark = false;
                if (screen_index > 0) {
                    $('.nav_item').removeClass('active');
                    screen_index--;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)

                }
                activateMark()
            }
        })


        $('.best_works_pagination .arrow_bottom').on('click', function () {
            if (mark) {
                mark = false;
                if (screen_index < Settings.total_slide_amount) {
                    $('.nav_item').removeClass('active');
                    screen_index++;
                    $('.nav_item[data-slide-num="' + screen_index + '"]').addClass('active');
                    showPageContent(screen_index)
                }
                activateMark()
            }
        })



        function activateMark() {
            setTimeout(function () {
                mark = true

            }, 1000)
        }

    }
}

showOnWideScreens();
window.addEventListener('resize', function() {
	
		if (version = "desktop")
		showOnWideScreens();
});
//window.addEventListener('resize', showOnWideScreens);
function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);
for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();
var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),
document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){
var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),
window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),
manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}();
;
(function () {
    'use strict';
    if ($('.work_directions').length > 0) {

        var CustomScrollSettings = {
            wrapper_selector: '.scroll_container_wrapper',
            container_selector: '.scroll_container',
            container_step_size: 300,
            /* Amount of scrolling pictures */
            runner_step: 0, //don't touch
            runner_marker: true, //don't touch
            runner_selector: '.scroll_runner',
            step: 0, //don't touch
            marker: '.scroll_marker',
            scroll_position_trigger: true,
            scroll_position_selector: '.scroll_position',
            scroll_position: 'start',
        };


        function addScrollListeners() {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    pageScroll(e);
                })
            }
        };


        function pageScroll(e) {
            if (document.querySelector(CustomScrollSettings.marker).value) {
                CustomScrollSettings.direction = ScrollDirection.defineScrollDirection(e);
                ElementsMoving.containerMove();
                ElementsMoving.runnerMove();
            }
        }

        function setScrollPositionValue() {
            if (CustomScrollSettings.scroll_position_trigger) {
                document.querySelector(CustomScrollSettings.scroll_position_selector).value = CustomScrollSettings.scroll_position
            }
        }



        var ElementsDefinition = {

            container: function () {
                return document.querySelector(CustomScrollSettings.container_selector)
            },

            thumb: function () {
                return this.container().parentElement.querySelector(CustomScrollSettings.runner_selector)
            },

        }


        var ElementsSizes = {

            wrapper_height: function (elem) {
                return elem.parentElement.offsetHeight;
            },

            container_height: function (elem) {
                return elem.offsetHeight;
            },

            container_step_size: function () {
                return (100 * CustomScrollSettings.container_step_size / this.container_height(ElementsDefinition.container()))
            },

            runner_step_size: function () {
                return this.container_step_size()
            },

            setRunnerSize: function () {
                var container = ElementsDefinition.container();
                ElementsDefinition.thumb().style.height = 100 / this.container_height(container) * this.wrapper_height(container) + "%";
            },

        }


        var ScrollDirection = {

            getKeyCode: function (e) {
                if (e.keyCode == 40) {
                    return 'down'
                } else if (e.keyCode == 38) {
                    return 'up'
                }
            },

            getTouchCoord: function (e) {
                return e.touches[0].clientY
            },

            getSwipeDirection: function (e) {
                if (e.type == 'touchstart') {
                    this.firstCoord = this.getTouchCoord(e);
                } else if (e.type == 'touchmove') {
                    this.lastCoord = this.getTouchCoord(e);
                } else if (e.type == 'touchend') {
                    if (this.lastCoord - this.firstCoord > 10) {
                        return 'up';
                    } else if (this.lastCoord - this.firstCoord < -10) {
                        return 'down';
                    }
                }
            },

            getWheelDirection: function (e) {
                if (e.deltaY > 0) {
                    return 'down'
                } else if (e.deltaY < 0) {
                    return 'up'
                }
            },

            defineScrollDirection: function (e) {
                if (e.type == "keydown") {
                    return this.getKeyCode(e);
                } else if (e.type == "touchstart" || e.type == "touchmove" || e.type == "touchend") {
                    return this.getSwipeDirection(e);
                } else if (e.type == "wheel") {
                    return this.getWheelDirection(e);
                }
            },

        }


        var ElementsMoving = {


            runnerMove: function () {

                var direction = CustomScrollSettings.direction,
                    step_size = ElementsSizes.container_step_size(),
                    runner_marker = CustomScrollSettings.runner_marker,
                    thumb = ElementsDefinition.thumb(),
                    runner_step_size = ElementsSizes.runner_step_size();


                if (direction == 'down') { //-
                    if (runner_marker) {
                        CustomScrollSettings.runner_step += runner_step_size;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    } else {
                        CustomScrollSettings.runner_step = (100 - parseFloat(thumb.style.height));
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    }
                } else if (direction == 'up') { //+
                    if (runner_marker) {
                        CustomScrollSettings.runner_step -= runner_step_size;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    } else {
                        CustomScrollSettings.runner_step = 0;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    }
                }
            },


            containerMove: function () {
                var direction = CustomScrollSettings.direction,
                    step_size = CustomScrollSettings.container_step_size,
                    container = ElementsDefinition.container(),
                    wrapper_height = ElementsSizes.wrapper_height(container),
                    container_height = ElementsSizes.container_height(container);

                if (direction == 'down') {
                    if (container_height - wrapper_height + CustomScrollSettings.step > step_size) { //-  
                        CustomScrollSettings.runner_marker = true;
                        CustomScrollSettings.step -= step_size;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "";
                        setScrollPositionValue();
                    } else {
                        CustomScrollSettings.runner_marker = false;
                        container.style.transform = "translateY(-" + (container_height - wrapper_height) + "px)";
                        CustomScrollSettings.scroll_position = "end";
                        setScrollPositionValue();
                    }
                } else if (direction == 'up') {
                    if (CustomScrollSettings.step + step_size < 0) {
                        CustomScrollSettings.runner_marker = true;
                        CustomScrollSettings.step += step_size;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "";
                        setScrollPositionValue();
                    } else {
                        CustomScrollSettings.runner_marker = false;
                        CustomScrollSettings.step = 0;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "start";
                        setScrollPositionValue();
                    }
                }
            },

        }

        ElementsSizes.setRunnerSize();

        addScrollListeners();

    }

})();
/*! device.js 0.2.7 */
(function(){var a,b,c,d,e,f,g,h,i,j;b=window.device,a={},window.device=a,d=window.document.documentElement,j=window.navigator.userAgent.toLowerCase(),a.ios=function(){return a.iphone()||a.ipod()||a.ipad()},a.iphone=function(){return!a.windows()&&e("iphone")},a.ipod=function(){return e("ipod")},a.ipad=function(){return e("ipad")},a.android=function(){return!a.windows()&&e("android")},a.androidPhone=function(){return a.android()&&e("mobile")},a.androidTablet=function(){return a.android()&&!e("mobile")},a.blackberry=function(){return e("blackberry")||e("bb10")||e("rim")},a.blackberryPhone=function(){return a.blackberry()&&!e("tablet")},a.blackberryTablet=function(){return a.blackberry()&&e("tablet")},a.windows=function(){return e("windows")},a.windowsPhone=function(){return a.windows()&&e("phone")},a.windowsTablet=function(){return a.windows()&&e("touch")&&!a.windowsPhone()},a.fxos=function(){return(e("(mobile;")||e("(tablet;"))&&e("; rv:")},a.fxosPhone=function(){return a.fxos()&&e("mobile")},a.fxosTablet=function(){return a.fxos()&&e("tablet")},a.meego=function(){return e("meego")},a.cordova=function(){return window.cordova&&"file:"===location.protocol},a.nodeWebkit=function(){return"object"==typeof window.process},a.mobile=function(){return a.androidPhone()||a.iphone()||a.ipod()||a.windowsPhone()||a.blackberryPhone()||a.fxosPhone()||a.meego()},a.tablet=function(){return a.ipad()||a.androidTablet()||a.blackberryTablet()||a.windowsTablet()||a.fxosTablet()},a.desktop=function(){return!a.tablet()&&!a.mobile()},a.television=function(){var a;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],a=0;a<television.length;){if(e(television[a]))return!0;a++}return!1},a.portrait=function(){return window.innerHeight/window.innerWidth>1},a.landscape=function(){return window.innerHeight/window.innerWidth<1},a.noConflict=function(){return window.device=b,this},e=function(a){return-1!==j.indexOf(a)},g=function(a){var b;return b=new RegExp(a,"i"),d.className.match(b)},c=function(a){var b=null;g(a)||(b=d.className.replace(/^\s+|\s+$/g,""),d.className=b+" "+a)},i=function(a){g(a)&&(d.className=d.className.replace(" "+a,""))},a.ios()?a.ipad()?c("ios ipad tablet"):a.iphone()?c("ios iphone mobile"):a.ipod()&&c("ios ipod mobile"):a.android()?c(a.androidTablet()?"android tablet":"android mobile"):a.blackberry()?c(a.blackberryTablet()?"blackberry tablet":"blackberry mobile"):a.windows()?c(a.windowsTablet()?"windows tablet":a.windowsPhone()?"windows mobile":"desktop"):a.fxos()?c(a.fxosTablet()?"fxos tablet":"fxos mobile"):a.meego()?c("meego mobile"):a.nodeWebkit()?c("node-webkit"):a.television()?c("television"):a.desktop()&&c("desktop"),a.cordova()&&c("cordova"),f=function(){a.landscape()?(i("portrait"),c("landscape")):(i("landscape"),c("portrait"))},h=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(h,f,!1):window.attachEvent?window.attachEvent(h,f):window[h]=f,f(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:window.device=a}).call(this);

var header = document.getElementsByTagName('header')[0];



/**
 * set modal button
 */
function setModalButton() {
    for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
        document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
    }
    if (document.querySelector('section.work_top_part .bg_top .wrapper .description a')) {
        document.querySelector('section.work_top_part .bg_top .wrapper .description a').addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
        document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
        document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
    }
    if (document.querySelector('footer .contacts >p >a')) {
        document.querySelector('footer .contacts >p >a').addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
        document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
    }
}



function modalOpen(e) {
	mark = false;
    e.preventDefault();
    takeUsedButton(e);
    var modal_id = e.target.getAttribute('data-modal-id');

    document.getElementById(modal_id).style.display = "block";
    var int = setInterval(function () {
        if ((getComputedStyle(document.getElementById(modal_id)).opacity) < 0.98) {
            document.getElementById(modal_id).style.opacity = +document.getElementById(modal_id).style.opacity + 0.1;
        } else {
            clearInterval(int)
        }
    }, 30)
    var body_width = document.body.offsetWidth;
    window_offset = window.pageYOffset;
    document.body.style.marginRight = window.innerWidth - body_width + "px";
    header.style.marginRight = window.innerWidth - body_width + "px";
    document.body.style.width = body_width + "px";
    document.body.style.top = "-" + window_offset + "px";
    document.body.classList.add('hidden');
    header.style.display = "none";

}

function modalClose(e) {
    checkSize();
    var elem = e.target;
    while (!elem.classList.contains('modal')) {
        elem = elem.parentElement;
    }
    var modal_id = elem.id;
    document.getElementById(modal_id).style.display = "none";
    document.getElementById(modal_id).style.opacity = "0";
    document.body.style.marginRight = 0;
    header.style.marginRight = 0;
    document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
    document.body.classList.remove('hidden');
    window.scrollTo(0, window_offset);
    header.style.display = "block";
}

function takeUsedButton(e) {
    if (e.target.hasAttribute('data-trigger-ident') && $('.work_directions').length > 0) {
        document.getElementById('takes_used_button').value = e.target.getAttribute('data-trigger-ident')
    }
}



setModalButton()





function setModalAttribute() {
    var elem = document.querySelector('section.work_top_part .description a[href^="#"]');
    if (elem) {
        console.log('link exist');
        elem.setAttribute('data-modal-id', 'modal_order');
        elem.setAttribute('data-trigger-ident', 'vnutryak')
    }


}


setModalAttribute()




if (document.getElementById('tel_modal')) {
    document.getElementById('tel_modal').addEventListener('focus', showTelComment);
    document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
}

/**
 * show comment for tel form in modal window
 */
function showTelComment() {
    var tel_comment = document.querySelector('.tel_comment');
    tel_comment.style.visibility = "visible";
    tel_comment.style.opacity = "1";
}

function hideTelComment() {
    var tel_comment = document.querySelector('.tel_comment');
    tel_comment.style.visibility = "hidden";
    tel_comment.style.opacity = "0";
}
;
var window_offset;
var aspect_ratio = 1280 / 900;
var mark;
var version;
checkSize();
setDefaultVersion();

	$(window).on('resize', checkSize)

	
	function checkSize(){
		if (window.innerWidth / window.innerHeight > aspect_ratio) {
			mark = true;
			version = "desktop";
			
			
		} else  {
			mark = false;
			version = "tablet";
			
			
		}	
	}

	function setDefaultVersion(){
		if (mark) {			
			version = "desktop";			
			
		} else  {		
			version = "tablet";		
			
		}	
	}



(function () {
    'use strict';

    if ($('.work_content').length > 0) {

        $('body').css('overflow', 'auto')
    }





    // Show/hide footer on header in button click

    document.querySelector('#cont_btn').addEventListener('click', function (e) {
        e.preventDefault();
        $('footer').addClass('active');
    })

    document.querySelector('.footer_close').addEventListener('click', function () {
        $('footer').removeClass('active');
    })

    /* -----------------------------------------  Header ----------------------------------------- */




    /* Sliding header elems when page has loaded */



    function addTransitionClassToHeaderElems() {
        var header_elem = document.querySelectorAll('header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn ');
        for (var i = 0; i < header_elem.length; i++) {
            header_elem[i].classList.add('trans_right');
        }
    }


    function slideHeaderElems() {
        var header_elem = document.querySelectorAll('.trans_right');
        var i = 0;
        var interval = setInterval(function () {
            if (i < header_elem.length) {
                header_elem[i].classList.remove('trans_right');
                i++
            } else(clearInterval(interval))
        }, 300)
    }


    addTransitionClassToHeaderElems(); //this commented on the site
    slideHeaderElems(); //this commented on the site



    /**
     * show header lang onhover
     * @param {object} e [[lang elem]]
     */

    if (document.getElementsByClassName('tel_num').length > 0 && device.desktop()) {
        for (var i = 0; i < document.getElementsByClassName('tel_num').length; i++) {
            document.getElementsByClassName('tel_num')[i].addEventListener('mouseenter', showHeaderTel);
            document.getElementsByClassName('tel_num')[i].addEventListener('mouseleave', hideHeaderTel);
        }
    }


    function showHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].removeAttribute('hidden');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.add('active');
        document.querySelector('header .contacts .tel').classList.add('active');
    }

    function hideHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].setAttribute('hidden', '');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.remove('active');
        document.querySelector('header .contacts .tel').classList.remove('active');

    }


    /**
     * elem on tel header
     */
    function createElemsForTablets() {
        if (!device.desktop() && document.querySelector('header .contacts .tel')) {
            var area = document.createElement('div');
            document.querySelector('header .contacts .tel').appendChild(area);
            area.classList.add('correct_work_on_tablet');
        }
    }
    createElemsForTablets();


    /**
     * [show header tels on tablets]
     */
    function tabletHeaderTelToggle() {
        if (document.querySelector('.correct_work_on_tablet').classList.contains('active')) {
            document.querySelector('.correct_work_on_tablet').classList.remove('active');
            hideHeaderTel()
        } else {
            document.querySelector('.correct_work_on_tablet').classList.add('active');
            showHeaderTel()
        }
    }


    if (document.querySelector('.correct_work_on_tablet')) {
        document.querySelector('.correct_work_on_tablet').addEventListener('click', tabletHeaderTelToggle);
    }





    /**
     * show and hide header lists
     * @param {[[string]]} elem_class_name [name of class of list element]
     */
    function showElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.add('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].removeAttribute('hidden')
        }
    }

    function hideElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.remove('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].setAttribute('hidden', '')
        }
    }






    /**
     * for header menus
     * @param {object} e [clicked elem]
     */
    function checkTarget(e) {
        if (document.getElementsByClassName('lang').length > 0) {
            if (!e.target.classList.contains('lang') || (e.target.classList.contains('lang') && e.target.classList.contains('active'))) {
                if (e.target.classList.contains('lang')) {
                    e.target.classList.remove('active')
                }
                hideElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.remove('active')
                }
            } else if (e.target.classList.contains('lang')) {
                showElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.add('active')
                }
            }
        }
    }

    window.addEventListener('click', checkTarget);
    window.addEventListener('touchstart', checkTarget);



    /* ----------------------------------------- < HEADER ----------------------------------------- */



    /* ----------------------------------------- PLANETS > ----------------------------------------- */



    /**
     * add listeners for animated planets glowing
     */
    function manageGlowing() {
        var elem = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < elem.length; i++) {
            elem[i].addEventListener('mouseenter', showGlowing);
            elem[i].addEventListener('mouseleave', hideGlowing);
        }
    };
    manageGlowing();


    /**
     * create glowing across animated planets
     */
    function createGlowingPlanets() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var parent = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < img.length; i++) {
            var new_elem = document.createElement('div');
            new_elem.classList.add('glowing');
            parent[i].insertBefore(new_elem, img[i]);
        }
    };
    createGlowingPlanets();

    /**
     * tuning of glowing planets
     */
    function glowingPlanet() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img'),
            planet = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service .glowing');
        for (var i = 0; i < planet.length; i++) {
            planet[i].style.left = '5%';
            planet[i].style.top = img[i].offsetHeight / 4 + 'px';
            planet[i].style.width = '20%';
            planet[i].style.height = img[i].offsetHeight / 2 + 'px';
        }
    };
    glowingPlanet();

    function showGlowing(e) {
        e.target.querySelector(".glowing").classList.add('active');
    }

    function hideGlowing(e) {
        e.target.querySelector(".glowing").classList.remove('active');
    }


    /* ----------------------------------------- < PLANETS ----------------------------------------- */


    /* ----------------------------------------- HIGHSLIDE FIX > ----------------------------------------- */




    /**
     * [highslide run as modal window]
     */
    function bodyFixOn() {
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        document.querySelector('header').style.display = "none";
        addStyleForHighslide()
    }

    /* replace to highslide.js
    function bodyFixOut() {
         document.body.style.marginRight = 0;
         document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
         document.body.classList.remove('hidden');
         window.scrollTo(0, window_offset);
         document.body.removeChild(document.querySelector('.style_tag'))
     }*/


    /**
     * [calc height for slide depends on window height and add style on page]
     */
    function addStyleForHighslide() {
        var height = window.innerHeight - 30;
        var div = document.createElement('div');
        var style = document.createElement('style');
        document.body.appendChild(div);
        div.appendChild(style);
        div.classList.add('style_tag');
        var newtext = document.createTextNode('.highslide-container {position: fixed !important; overflow: auto !important; height: ' + height + 'px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}');
        style.appendChild(newtext);
    }
    /**
     * [on page 'works' add listener on links bounded with highslide module ]
     */
    function highSlidePopUp() {
        var slide_link = document.querySelectorAll('.work_content a.highslide');
        if (slide_link.length > 0) {
            for (var i = 0; i < slide_link.length; i++) {
                slide_link[i].addEventListener('click', bodyFixOn)
            }
        }
    };
    highSlidePopUp();

    /* ----------------------------------------- < HIGHSLIDE FIX ----------------------------------------- */



    /* ----------------------------------------- FORMS > ----------------------------------------- */

    if (document.getElementsByTagName('button')) {
        addButtonListener()
    }


    /**
     * listener for change color of invalid field
     */
    function addButtonListener() {
        var form_button = document.getElementsByTagName('button')
        for (var i = 0; i < form_button.length; i++) {
            form_button[i].addEventListener('click', changeInvalidColor)
        }
    }
    /**
     * change color of input form if there is wrong value
     * @param {object} e [get clicked element (search in it's parent)]
     */
    function changeInvalidColor(e) {
        var form_input = e.target.parentElement.getElementsByTagName('input');
        for (var i = 0; i < form_input.length; i++) {
            form_input[i].classList.add('valid')
        }
    }



    /* ----------------------------------------- < FORMS ----------------------------------------- */


    /* ----------------------------------------- OTHER > ----------------------------------------- */



    function createRedLine() {
        var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');

        if (title.length > 2) {
            for (var i = 0; i < title.length; i++) {
                var elem = document.createElement('div')
                var line = title[i].appendChild(elem);
                line.classList.add('thin_red_line');
            }
        }
    }

    createRedLine();


    /* ----------------------------------------- < OTHER ----------------------------------------- */


})();




var ScrollDirection = {

    getKeyCode: function (e) {
        if (e.keyCode == 40) {
            return 'down'
        } else if (e.keyCode == 38) {
            return 'up'
        }
    },

    getTouchCoord: function (e) {
        return e.touches[0].clientY
    },

    getSwipeDirection: function (e) {
        if (e.type == 'touchstart') {
            this.firstCoord = this.getTouchCoord(e);
            this.lastCoord = NaN;
        } else if (e.type == 'touchmove') {
            this.lastCoord = this.getTouchCoord(e);
        } else {
            if (this.lastCoord - this.firstCoord > GlobalVariables.touch_sensitivity) {
                return 'up';
            } else if (this.lastCoord - this.firstCoord < -GlobalVariables.touch_sensitivity) {
                return 'down';
            }
        }

    },

    getWheelDirection: function (e) {
        if (e.deltaY > 0) {
            return 'down'
        } else if (e.deltaY < 0) {
            return 'up'
        }
    },

    defineScrollDirection: function (e) {
        if (e.type == "keydown") {
            return this.getKeyCode(e);
        } else if (e.type == "touchstart" || e.type == "touchmove" || e.type == "touchend") {
            return this.getSwipeDirection(e);
        } else if (e.type == "wheel") {
            return this.getWheelDirection(e);
        }
    },
}




function fixBodyForSafari() {

    $('body').addClass('fix_for_safari');

}



function unfixBodyForSafari() {

    $('body').removeClass('fix_for_safari');

}


/* HEADER & FOOTER > */


function changeHeaderColor() {
    if ($("header").length > 0) {
        if (window.pageYOffset > 0) {
            showHeaderBg();
        } else {
            hideHeaderBg();
        }
    }
}

function showHeaderBg() {
    $('header .header_bg').css('opacity', '0.9');
}

function hideHeaderBg() {
    $('header .header_bg').css('opacity', '0');
}



function addHeaderContactButton() {
    if (window.innerWidth / window.innerHeight > aspect_ratio) {

        document.querySelector('#cont_btn').addEventListener('click', function (e) {
            e.preventDefault();
            $('footer').addClass('active');
        })

        document.querySelector('.footer_close').addEventListener('click', function (e) {
            e.preventDefault();
            $('footer').removeClass('active');
        })
    }

}

addHeaderContactButton();



function manageHeader() {
    if (window.innerWidth / window.innerHeight <= aspect_ratio || $('.work_content').length > 0) {
        unfixBodyForSafari();
        window.addEventListener('scroll', changeHeaderColor);
    } else {
        window.removeEventListener('scroll', changeHeaderColor);
    }
}

manageHeader();

function setFooterOffset() {
    if (window.innerWidth / window.innerHeight > aspect_ratio && $('.works_directions').length > 0 || $('.best_works_screen').length > 0) {
        $('footer').css('bottom', -$('footer').innerHeight());
    }
	else { $('footer').css('bottom', 0);}
}
setFooterOffset()

$(window).on('resize', setFooterOffset)



/* < HEADER & FOOTER */

;
(function () {
    'use strict';

    var window_offset;
    var head_nav_btn = document.querySelector('.toggle_btn');
    var lang_btn = document.querySelector('.lang_btn');
    var slider = document.getElementsByClassName('slider');
    var direction;
    var x1, x2;

    setModalButton();
    addListeners();




    /**
     * set modal button
     */
    function setModalButton() {
        for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
            document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('section.work_part a')) {
            document.querySelector('section.work_part a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
            document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
            document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
            document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
        }
    }




    /**
     * modal_window + smooth display
     */
    function modalOpen(e) {
        var index;
        if (e.target.classList.contains('submit_app_btn') || (!e.target.classList.contains('modal_resume') && !e.target.classList.contains('modal_comment') && e.target.tagName == 'A')) {
            index = 0;
        } else if (e.target.classList.contains('modal_resume')) {
            e.preventDefault();
            index = 1
        } else if (e.target.classList.contains('modal_comment')) {
            e.preventDefault();
            index = 2
        }

        document.getElementsByClassName('modal')[index].removeAttribute('hidden');
        document.getElementsByClassName('modal')[index].style.opacity = "1";
        window_offset = window.pageYOffset;
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
    }

    function modalClose(e) {
        var index;
        if (e.target.parentElement.parentElement.id == 'modal_order') {
            index = 0
        } else if (e.target.parentElement.parentElement.id == 'modal_resume') {
            index = 1
        } else if (e.target.parentElement.parentElement.id == 'modal_comment') {
            index = 2
        }
        document.getElementsByClassName('modal')[index].setAttribute('hidden', '');
        document.getElementsByClassName('modal')[index].style.opacity = "0";

        document.body.classList.remove('hidden');
        document.body.style.top = "0";
        window.scrollTo(0, window_offset);
    }


    /**
     * add listeners for toggle elements
     */
    function addListeners() {
        if (head_nav_btn) {
            head_nav_btn.addEventListener('click', toggleNav);
        }

        if (document.getElementById('tel_modal')) {
            document.getElementById('tel_modal').addEventListener('focus', showTelComment);
            document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
        }
    }

    /**
     * show/hide header nav
     */

    function toggleNav() {
        if (head_nav_btn.classList.contains('active')) {
            head_nav_btn.classList.remove('active');
            head_nav_btn.parentElement.querySelector('ul').setAttribute('hidden', '');
            head_nav_btn.parentElement.querySelector('ul').style.opacity = "0"

        } else {
            head_nav_btn.classList.add('active');
            head_nav_btn.parentElement.querySelector('ul').removeAttribute('hidden')
            head_nav_btn.parentElement.querySelector('ul').style.opacity = "1"
        }
    }



    /**
     * show comment for tel form in modal window
     */
    function showTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "visible";
        tel_comment.style.opacity = "1";
    }

    function hideTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "hidden";
        tel_comment.style.opacity = "0";
    }









    /**
     * set width of slider_wrapper
     */
    function setSliderWidth() {
        if (slider.length > 0) {
            for (var i = 1; i < slider.length; i++) {
                var slide = slider[i].getElementsByClassName('slide');

                slider[i].querySelector('.slides_wrapper').style.width = slide.length * 100 + '%';
                var full_width = slide.length * 100;
                for (var j = 0; j < slide.length; j++) {
                    slide[j].style.width = 100 / slide.length + '%';
                }


            }
        }
    }



    setSliderWidth()






    /* --------------------------------------------- sliders --------------------------------------------- */


    /**
     * slider: moving + arrow hiding;
     * @param {object} e [clicked element]
     */
    function sliderArrowMove(e) {
        var elem = e.target;
        console.log(e.target)
        if (!elem.classList.contains('slider')) {

            while (!elem.parentElement.classList.contains('slider')) {
                elem = elem.parentElement;

            }


            //    if (elem.parentElement.classList.contains('slider')) {





            var control = elem.parentElement.querySelector('input[type="hidden"]');
            var slide_index = parseInt(elem.parentElement.querySelector('.slide_index').getAttribute('data-slider'));
            var tick = parseInt(control.value);


            if (elem.getAttribute('data-direction') == 'right' || direction == 'left' && tick != 0) {
                control.value = tick - 1;
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(slide_index, 0);
                } else if (tick === (elem.parentElement.querySelectorAll('.slide').length - 2)) {
                    showSliderArrow(slide_index, 1);
                }
            } else if (elem.getAttribute('data-direction') == 'left' || direction == 'right' && tick != (elem.parentElement.querySelectorAll('.slide').length - 1)) {
                control.value = tick + 1;
                tick += 1;
                console.log(tick);
                if (tick == (elem.parentElement.querySelectorAll('.slide').length - 1)) {
                    hideSliderArrow(slide_index, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(slide_index, 0);
                }
            }
            var slides_wrapper = elem.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";


        }



    }


    /*
    
    
    function sliderArrowMove(e) {console.log(e.target);
                                 
                                 
                                 
                                 
                                 
        var control = e.target.parentElement.querySelector('input[type="hidden"]');
        var slide_index = parseInt(e.target.parentElement.querySelector('.slide_index').getAttribute('data-slider')) ;
        var tick = parseInt(control.value);


        if (e.target.getAttribute('data-direction') == 'right' || sliderTouch() == 'left') {
            control.value = tick - 1;
            tick -= 1;
            if (tick === 0) {

                hideSliderArrow(slide_index, 0);
            } else if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                showSliderArrow(slide_index, 1);
            }
        } else if (e.target.getAttribute('data-direction') == 'left' || sliderTouch() == 'right') {
            control.value = tick + 1;
            tick += 1;
            console.log(tick);
            if (tick == (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                hideSliderArrow(slide_index, 1);
            }
            if (tick >= 1) {
                showSliderArrow(slide_index, 0);
            }
        }
        var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        slides_wrapper.style.transform = "translateX(-" + tick * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";
                                 
                                 
                                 
                                 

    }

    
    */

    /* --------------------------------------------- events --------------------------------------------- */

    /**
     * add listener for arrows at sliders
     */
    function getArrows() {
        for (var i = 0; i < document.querySelectorAll('.slider .arrow').length; i++) {
            document.querySelectorAll('.slider .arrow')[i].addEventListener('click', sliderArrowMove);
        }
    }


    getArrows()



    /**
     * Hiding arrows when slides ends
     * @param {[[num]]} indexSlider [[index of slider on page]]
     * @param {[[num]]} indexArrow  [[index of arrow]]
     */

    function hideSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
        }

    }

    function showSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
        }
    }

    function checkIfSlidesExist() {
        for (var i = 0; i < slider.length; i++) {
            if (slider[i]) {
                hideSliderArrow(i, 0);
                if (slider[i].getElementsByClassName('slide').length < 2) {

                    hideSliderArrow(i, 1)
                }
            }
        }
    }
    checkIfSlidesExist()


    function sliderController() {
        for (var i = 0; i < slider.length; i++) {
            slider[i].querySelector('input[type="hidden"]').value = "0";
        }
    }


    sliderController()




    function sliderTouch() {
        for (var i = 0; i < slider.length; i++) {
            slider[i].addEventListener('touchstart', sliderTouchMove);
            slider[i].addEventListener('touchmove', sliderTouchMove)
            slider[i].addEventListener('touchend', sliderTouchMove);
        }

    }





    function sliderTouchMove(e) {

        if (e.type == "touchstart") {
            x1 = e.touches[0].clientX;
        } else if (e.type == "touchmove") {
            x2 = e.touches[0].clientX;
        } else if (e.type == "touchend") {
            calcTouchDifference(e)
        }
    }


    function calcTouchDifference(e) {
        direction = null;
        var difference = x1 - x2;
        if (x1 > x2 && difference > 10 && x2 !== 0) {
            direction = 'right';
            x1 = 0;
            x2 = 0;
        } else if (x2 > x1 && difference < -10) {
            direction = "left";
            x1 = 0;
            x2 = 0;
        }
        if (direction !== null) {
            sliderArrowMove(e)


        }
    }


    sliderTouch()
    
    
    function workCarouselSize() {
        var scr_wrap = document.querySelector('.screens_wrapper');
        if (scr_wrap) {
            scr_wrap.style.width = parseFloat(getComputedStyle(scr_wrap.querySelector('img')).width) * scr_wrap.querySelectorAll('img').length + 'px';
                               
                      }
        
        
    }
    workCarouselSize() 

    
 







})();
function showIndexPageSaparately() {
	 'use strict';
	if ($('.work_directions').length > 0) {

    /* INDEX PAGE ON WIDE SCREEN*/


   
	
	$(window).on('resize', checkVersion)
	
	function checkVersion(){
	if (mark && version == "tablet") {
			version = "desktop";	
			changeParameters();
		} else if (!mark && version == "desktop"){
			version = "tablet";
			changeParameters();
		}
	}

	function changeParameters() {
		GlobalVariables.screen_num = 1;
		translateFullScreen(screen_effect.scr1);
		removeAllClassesFromPortfolio();
		window.scrollTo(0,0);
  
	}
	



        fixBodyForSafari();

        var GlobalVariables = {
            transition_time: "700",
            screen_num: 1,          
            touch_sensitivity: 30,

        }

        var screen_effect = {
            scr1: "0",
            scr2: "-100%",
            scr3: "-200%",
            scr4: "-300%",
        }



        function addScrollListeners(funcName) {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    funcName(e);
                })
            }
        };

        addScrollListeners(pageScroll)



        function addTransitionTime(selector) {
            for (var i = 0; i < arguments.length; i++) {
                if (document.querySelector(arguments[i])) {
                    document.querySelector(arguments[i]).style.transition = GlobalVariables.transition_time + "ms";
                }
            }
        }

        addTransitionTime('.main_wrapper',
            '.single_work:nth-of-type(1)',
            '.single_work:nth-of-type(1) >div:nth-of-type(1)',
            '.single_work:nth-of-type(1) >div:nth-of-type(2)',
            '.single_work:nth-of-type(2)',
            '.single_work:nth-of-type(3)',
            '.single_work:nth-of-type(4)',
            '.single_work:nth-of-type(5) >div:nth-of-type(1)',
            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
            '.single_work:nth-of-type(6)');




        function pageScroll(e) {
            var direction = ScrollDirection.defineScrollDirection(e);
            if (direction == 'down') {
                if (mark) {
                    mark = false;
                    translateBody('down');
                    if (!GlobalVariables.screen_num == 2) {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    } else {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    }
                }
            } else if (direction == 'up' && GlobalVariables.screen_num > 1) {
                if (mark) {
                   mark = false;
                    translateBody('up');
                    if (!GlobalVariables.screen_num == 3) {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    } else {
                        setSecurityTrigger(GlobalVariables.transition_time * 2)
                    }
                }
            }
        }



        function setSecurityTrigger(time) {
            setTimeout(function () {
                mark = true;
            }, time)
        }






        //  

        function displayOn(selector) {
            for (var i = 0; i < arguments.length; i++) {
                document.querySelector(arguments[i]).style.display = "block"
            }

        }

        function displayOff(is_transit, transit_time, selector) {
            var time = transit_time || GlobalVariables.transition_time;

            function dOff() {
                for (var i = 2; i < arguments.length; i++) {
                    document.querySelector(arguments[i]).style.display = "none"
                }
            }
            var args = arguments;

            if (is_transit) {
                setTimeout(function () {
                    dOff.apply(null, args)
                }, time)
            } else {
                dOff.apply(null, arguments)
            }
        }

        function translateFullScreen(coord) {
            return document.querySelector('.main_wrapper').style.top = coord;
        }

        function addClass(classSelector, selector) {
            for (var i = 1; i < arguments.length; i++) {
                document.querySelector(arguments[i]).classList.add(classSelector);
            }
        }

        function removeClass(classSelector, selector) {
            for (var i = 1; i < arguments.length; i++) {
                document.querySelector(arguments[i]).classList.remove(classSelector);
            }
        }

        function setHeight(selector) {
            document.querySelector(selector).style.height = getHeight(selector) + 'px';
        }

        function getHeight(selector) {
            return document.querySelector(selector).offsetHeight
        }



        function removeAllClassesFromPortfolio() {
            var work = document.querySelectorAll('.single_work');
            for (var i = 1; i <= work.length; i++) {
                displayOff(true, false, '.single_work:nth-of-type(' + i + ')')
            }

            removeClass('active',
                '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                '.single_work:nth-of-type(1) >div:nth-of-type(2)',
                '.single_work:nth-of-type(2)',
                '.single_work:nth-of-type(3)',
                '.single_work:nth-of-type(4)',
                '.single_work:nth-of-type(5) >div:nth-of-type(1)',
                '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                '.single_work:nth-of-type(6)'
            );

            removeClass('remove',
                '.single_work:nth-of-type(1)',
                '.single_work:nth-of-type(2)',
                '.single_work:nth-of-type(3)',
                '.single_work:nth-of-type(4)',
                '.single_work:nth-of-type(5) >div:nth-of-type(2)');

        }




        function translateBody(direction) {


            if (direction == "down") {

                switch (GlobalVariables.screen_num) {

                    case 1:

                        translateFullScreen(screen_effect.scr2);

                        showUnderlinePlanets();

                        GlobalVariables.screen_num++;

                        break;

                    case 2:

                        translateFullScreen(screen_effect.scr3);

                        displayOn('.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)',
                            '.single_work:nth-of-type(4)');

                        setTimeout(function () {
                            addClass('active',
                                '.scroll_mouse',
                                '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                                '.single_work:nth-of-type(1) >div:nth-of-type(2)');

                        }, GlobalVariables.transition_time);

                        setTimeout(function () {
                            displayOn('.single_work:nth-of-type(1) .hover_logo');

                        }, GlobalVariables.transition_time * 2);

                        GlobalVariables.screen_num++;
                        break;

                    case 3:
                        addClass('active',
                            '.single_work:nth-of-type(2)');

                        GlobalVariables.screen_num++;
                        break;

                    case 4:
                        addClass('active',
                            '.single_work:nth-of-type(3)');

                        GlobalVariables.screen_num++;
                        break;

                    case 5:

                        addClass('remove',
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        addClass('active',
                            '.single_work:nth-of-type(4)');

                        displayOn('.single_work:nth-of-type(5)',
                            '.single_work:nth-of-type(6)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo',
                            '.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num++;
                        break;

                    case 6:
                        addClass('remove',
                            '.single_work:nth-of-type(4)');

                        addClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');


                        displayOff(true,
                            false,
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        displayOn('.single_work:nth-of-type(5) .hover_logo');

                        GlobalVariables.screen_num++;
                        break;

                    case 7:
                        addClass('remove',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                        addClass('active',
                            '.single_work:nth-of-type(6)',
                            '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        removeClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo');

                        manageNavArrows();

                        GlobalVariables.screen_num++;
                        break;

                    case 8:
                        translateFullScreen(screen_effect.scr4);

                        setHeight('.scroll_container_wrapper .scroll_block');

                        addClass('remove', '.scroll_mouse');

                        removeClass('active', '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        GlobalVariables.screen_num++;
                        break;

                    case 9:
                        document.querySelector('.scroll_marker').value = "true";
                        if (document.querySelector('.scroll_position').value == "end") {
                            addClass('active', 'footer');
                        }
                        break;



                }
            } else if (direction == "up") {

                switch (GlobalVariables.screen_num) {

                    case 1:
                        break;

                    case 2:
                        translateFullScreen(screen_effect.scr1);

                        GlobalVariables.screen_num--;
                        break;

                    case 3:
                        removeClass('active',
                            '.scroll_mouse',
                            '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                            '.single_work:nth-of-type(1) >div:nth-of-type(2)')

                        displayOff(true,
                            false,
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)',
                            '.single_work:nth-of-type(4)');

                        setTimeout(function () {
                            translateFullScreen(screen_effect.scr2);

                        }, GlobalVariables.transition_time)

                        showUnderlinePlanets();

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num--;
                        break;

                    case 4:
                        removeClass('active',
                            '.single_work:nth-of-type(2)');

                        GlobalVariables.screen_num--;
                        break;

                    case 5:

                        removeClass('active', '.single_work:nth-of-type(3)');

                        GlobalVariables.screen_num--;
                        break;

                    case 6:
                        removeClass('remove', '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        removeClass('active', '.single_work:nth-of-type(4)');

                        displayOff(true, false,
                            '.single_work:nth-of-type(5)',
                            '.single_work:nth-of-type(6)');

                        displayOn('.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num--;
                        break;

                    case 7:
                        removeClass('remove',
                            '.single_work:nth-of-type(4)');

                        removeClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOn('.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo');


                        GlobalVariables.screen_num--;
                        break;

                    case 8:
                        removeClass('remove',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                        removeClass('active',
                            '.single_work:nth-of-type(6)',
                            '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        addClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOn('.single_work:nth-of-type(5) .hover_logo');

                        GlobalVariables.screen_num--
                            break;

                    case 9:
                        document.querySelector('.scroll_marker').value = "";

                        if (document.querySelector('footer').classList.contains('active')) {

                            removeClass('active', 'footer');

                        } else if (document.querySelector('.scroll_container').style.transform == "translateY(0px)") {
                            document.querySelector('.scroll_marker').value = "";

                            translateFullScreen(screen_effect.scr3);

                            displayOn('.single_work:nth-of-type(5)',
                                '.single_work:nth-of-type(6)');

                            addClass('active',
                                '.single_work_full_bg',
                                '.works_arrows_wrapper',
                                'section.performed_works .main_h');

                            GlobalVariables.screen_num--;
                        } else {

                            document.querySelector('.scroll_marker').value = "true";
                        }

                        break;



                }
            }


        }









        /* PORT ARROWS > */

        function createNavArrows(inner_name, outer_name) {
            inner_name = $("<div>").addClass(inner_name);
            $(outer_name).append(inner_name);

        }

        createNavArrows('works_arrows_wrapper', 'section.performed_works');

        createNavArrows('up_arrow', '.works_arrows_wrapper');

        createNavArrows('down_arrow', '.works_arrows_wrapper');





        function manageNavArrows() {

            $('.works_arrows_wrapper').css('display', 'block');

            $('.works_arrows_wrapper .up_arrow').on('click', function () {
                if (GlobalVariables.screen_num > 2 && GlobalVariables.screen_num < 9) {
                    GlobalVariables.screen_num = 3;
                    translateBody('up');
                    removeAllClassesFromPortfolio();
                    removeClass('active',
                        '.single_work_full_bg',
                        '.works_arrows_wrapper',
                        'section.performed_works .main_h');
                }
            });

            $('.works_arrows_wrapper .down_arrow').on('click', function () {

                GlobalVariables.screen_num = 8;

                translateBody('down');

                addClass('active',
                    '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                    '.single_work:nth-of-type(1) >div:nth-of-type(2)',
                    '.single_work:nth-of-type(2)',
                    '.single_work:nth-of-type(3)',
                    '.single_work:nth-of-type(4)',
                    '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                    '.single_work:nth-of-type(6)');

                addClass('remove',
                    '.single_work:nth-of-type(1)',
                    '.single_work:nth-of-type(2)',
                    '.single_work:nth-of-type(3)',
                    '.single_work:nth-of-type(4)',
                    '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                removeClass('active',
                    '.single_work:nth-of-type(5) >div:nth-of-type(1)',
                    '.single_work_full_bg',
                    '.works_arrows_wrapper',
                    'section.performed_works .main_h');

            });

        }


        /* < PORT ARROWS */









        /* DEFAULT SETTINGS > */


        document.querySelector('.scroll_container').style.transform = "translateY(0px)";


        /* < DEFAULT SETTINGS */









        /* --------- --------- ---------  UNDERLINES > --------- --------- --------- */


        // last work
        $('.single_work:nth-of-type(6)').on('mouseenter', function () {
            $(this).find('div').addClass('active');
        })


        $('.single_work:nth-of-type(6)').on('mouseleave', function () {
            $(this).find('div').removeClass('active');
        })



        // headers
        var scroll_container_height = document.querySelector('.scroll_container').offsetHeight,
            window_height = window.innerHeight;


        function showRedLine() {
            var scrolled_distance_str = document.querySelector('.scroll_container').style.transform,
                scrolled_distance_num = parseInt(scrolled_distance_str.slice(scrolled_distance_str.indexOf('(') + 1)) * -1;
            if (GlobalVariables.screen_num == 3) {
                setTimeout(function () {
                    setUnderline('section.performed_works .main_h .thin_red_line', "100rem")
                }, GlobalVariables.transition_time)


            } else if (GlobalVariables.screen_num == 9) {
                //console.log(scrolled_distance_num + '' + scroll_container_height);

                if (scrolled_distance_num > 0) {
                    setUnderline('section.review .main_h .thin_red_line', "100rem")


                }
                if (scrolled_distance_num > scroll_container_height * 2 / 5) {
                    setUnderline('section.team .main_h .thin_red_line', "100rem")
                }


            }
        }


        function setUnderline(selector, size) {
            return document.querySelector(selector).style.width = size;


        }


        addScrollListeners(showRedLine);






        //planets
        var long_line = $('section.work_directions .lines .direct_line'),
            skew_line = long_line.find('.skew_line'),
            _1_circle = long_line.find('.first_circle'),
            _2_circle = long_line.find('.second_circle'),
            _3_circle = long_line.find('.third_circle');


        function hideUnderlinePlanets() {
            long_line.css('width', '0');
            skew_line.css('width', '0');
            _1_circle.css('opacity', '0');
            _2_circle.css('opacity', '0');
            _3_circle.css('opacity', '0');
        }

        hideUnderlinePlanets()

        function showUnderlinePlanets() {
            long_line.delay(700).animate({
                width: '205rem'
            }, 600);
            skew_line.delay(2100).animate({
                width: '55rem'
            }, 600)
            _1_circle.delay(1500).animate({
                opacity: '1'
            }, 200);
            _2_circle.delay(1300).animate({
                opacity: '1'
            }, 200);
            _3_circle.delay(1300).animate({
                opacity: '1'
            }, 200);
        }

        /* --------- --------- --------- < UNDERLINES --------- --------- --------- */









        /* --------- --------- ---------  HEADER & FOOTER > --------- --------- ---------  */

        /*  change color of fixed nav block when scrolled under nth px       */



        function changeHeaderColor() {
            if ($("header").length > 0) {
                if (GlobalVariables.screen_num > 1) {
                    showHeaderBg();
                } else {
                    hideHeaderBg();
                }
            }
        }

        window.addEventListener('touchstart', changeHeaderColor);
        window.addEventListener('wheel', changeHeaderColor);
        window.addEventListener('keydown', changeHeaderColor);






        // Scroll to position from header button 

        document.querySelector('#works_btn').addEventListener('click', function (e) {
            e.preventDefault();
            changeHeaderColor();
            removeClass('active', 'footer');
            if (GlobalVariables.screen_num > 8) {
                translateFullScreen(screen_effect.scr3);
                GlobalVariables.screen_num = 8;
            } else if (GlobalVariables.screen_num < 3) {
                GlobalVariables.screen_num = 2;
                translateBody('down');
            }
        })



        document.querySelector('#offers_btn').addEventListener('click', function (e) {
            e.preventDefault();
            changeHeaderColor();
            removeClass('active', 'footer');
            translateFullScreen(screen_effect.scr2);
            GlobalVariables.screen_num = 2;
            removeAllClassesFromPortfolio()
        })





        /* --------- --------- --------- < HEADER & FOOTER --------- --------- --------- */







        /* --------- --------- --------- PORTFOLIO HOVERS > --------- --------- --------- */


        var port = document.querySelectorAll('.dynamic_portfolio >div');

        function hoverShow(e) {

            e.target.querySelector('.hover_logo').classList.add('active');
        }

        function hoverHide(e) {
            e.target.querySelector('.hover_logo').classList.remove('active');
        }

        function goToWorkPage(e) {
            document.location.href = e.target.querySelector('a').getAttribute('href');
        }

        function addPortfolioListeners() {
            for (var i = 0; i < port.length - 1; i++) {
                if (i !== 0 && i !== 4) {
                    port[i].addEventListener('mouseenter', function (e) {
                        hoverShow(e)
                    });
                    port[i].addEventListener('mouseleave', function (e) {
                        hoverHide(e)
                    });
                    port[i].addEventListener('click', function (e) {
                        goToWorkPage(e)
                    });
                }

            }
        }

        addPortfolioListeners();

        function addHoverToWideImagesPortfolio(block_index) {
            for (var i = 0; i < arguments.length; i++) {
                port[arguments[i]].addEventListener('mouseenter',
                    function (e) {
                        hoverShow(e)
                    });

                port[arguments[i]].addEventListener('mouseleave',
                    function (e) {
                        hoverHide(e)
                    });
                port[arguments[i]].addEventListener('click',
                    function (e) {
                        goToWorkPage(e)
                    });
            }
        }

        addHoverToWideImagesPortfolio(0, 4);



        /* --------- --------- --------- PORTFOLIO HOVERS < --------- --------- --------- */


        /* ANCHOR FIX > */
        function checkLocation() {
            if (window.innerWidth / window.innerHeight > aspect_ratio && document.querySelector('.work_directions')) {
                var url = $(location).attr('href');

                if (url.indexOf('#') != -1) {
                    var from = url.indexOf('#');
                    if (url.indexOf('?') != -1) {
                        var to = url.indexOf('?');
                    }
                    var anchor = url.slice(from, to || url.length);

                    switch (anchor) {

                        case '#portfolio':

                            GlobalVariables.screen_num = 2;

                            translateBody('down');

                            changeHeaderColor();

                            showRedLine();

                            break;

                        case '#services':

                            GlobalVariables.screen_num = 1;

                            translateBody('down');

                            changeHeaderColor();

                            break;
                    }
                }
            }
        }

        checkLocation();

        /* < ANCHOR FIX  */
		
		$('.single_work:eq(5)').on('click', function(){
	 
			location.href="best_works.html"
		
		})






}

    
}


showIndexPageSaparately();

//window.addEventListener('resize', showIndexPageSaparately);

;
(function () {


    if (($('.work_directions').length > 0)) {

        var current_slider = $('section.team .slider'),
            wrapper = current_slider.find('.slides_wrapper'), // slides_wrapper
            slide = wrapper.find('.slide'), //slide_position
            amount = slide.length;


        function setWidthOnSliderElements() {

            wrapper.css('width', amount + "00%");
            slide.each(function () {
                $(this).css('width', 100 / (amount * 3) + '%')

            })
        }


        setWidthOnSliderElements();

        function setElemsAttr() {
            var slide_position = current_slider.find('.slide');
            if (slide_position[0]) {
                slide_position[0].setAttribute('data-slide-position', 'left');
            }
            if (slide_position[1]) {
                slide_position[1].setAttribute('data-slide-position', 'top');
            }
            if (slide_position[2]) {
                slide_position[2].setAttribute('data-slide-position', 'right');
            }
            if (slide_position[3]) {
                slide_position[3].setAttribute('data-slide-position', 'right_bottom');
            }
        }

        setElemsAttr()


        current_slider.find('.arrow').on('click', function (e) {
            manageSlider(e)
        })




        var tick = 0;


        function manageSlider(e) {




            var position, next, prev;
            if (e.target.getAttribute('data-direction') == 'right' && tick != 0) {
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(2, 0);
                }
                if (tick === (amount - 4)) {
                    showSliderArrow(2, 1);
                }
                for (var j = 0; j < amount; j++) {
                    position = slide[j].getAttribute('data-slide-position');

                    switch (position) {
                    case 'left_bottom':
                        slide[j].setAttribute('data-slide-position', 'left');
                        prev = slide[j].previousElementSibling;
                        break;
                    case 'left':
                        slide[j].setAttribute('data-slide-position', 'top');
                        break;
                    case 'top':
                        slide[j].setAttribute('data-slide-position', 'right')
                        break;
                    case 'right':
                        slide[j].setAttribute('data-slide-position', 'right_bottom');
                        break;
                    case 'right_bottom':
                        slide[j].removeAttribute('data-slide-position');
                        break;
                    }
                }

                if (prev) {
                    prev.setAttribute('data-slide-position', 'left_bottom');
                }
            } else if (e.target.getAttribute('data-direction') == 'left' && tick != (amount - 3)) {
                tick += 1;

                if (tick == (amount - 3)) {
                    hideSliderArrow(2, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(2, 0);
                }

                for (var j = 0; j < amount; j++) {
                    position = slide[j].getAttribute('data-slide-position');

                    switch (position) {
                    case 'left_bottom':
                        slide[j].removeAttribute('data-slide-position');
                        break;
                    case 'left':
                        slide[j].setAttribute('data-slide-position', 'left_bottom');
                        break;
                    case 'top':
                        slide[j].setAttribute('data-slide-position', 'left');
                        break;
                    case 'right':
                        slide[j].setAttribute('data-slide-position', 'top');
                        break;
                    case 'right_bottom':
                        slide[j].setAttribute('data-slide-position', 'right');
                        next = slide[j].nextElementSibling;
                        break;
                    }
                }

                if (next) {
                    next.setAttribute('data-slide-position', 'right_bottom');
                }
            }
            sliderArrowMove(e);

        }



        function sliderArrowMove(e) {
            var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / (amount * 3) + "%)";
        }


    }

})();
	    if (($('.work_directions').length > 0)) {

	        var slider = document.querySelectorAll('.slider');

	        function hideSliderArrow(indexSlider, indexArrow) {
	            if (slider[indexSlider]) {
	                slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
	            }

	        }

	        function showSliderArrow(indexSlider, indexArrow) {
	            if (slider[indexSlider]) {
	                slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
	            }
	        }



	        function hideArrowsByDefault() {
	            if (slider.length > 0) {
	                if (slider[1].getElementsByClassName('slide').length === 1) {
	                    hideSliderArrow(1, 1)
	                }
	                if (slider[2].getElementsByClassName('slide').length < 4 && slider[2].getElementsByClassName('slide').length > 1) {
	                    hideSliderArrow(2, 1)
	                }
	            }
	        }

	        hideArrowsByDefault()
	    }
;
(function () {

    'use strict';

    if (($('.work_directions').length > 0)) {

        var SliderPaginationSettings = {
            wrapper: function () {
                return this.current_slider.find('.slides_wrapper')
            },
            slide_arr: function () {
                return this.wrapper().find('.slide')
            },
            pag: function () {
                return this.current_slider.find('.pagination')
            },
            slides_amount: function () {
                return this.slide_arr().length
            }
        }

        SliderPaginationSettings.current_slider = $('section.full_screen_slider .slider');





        function createNav() {
            if (SliderPaginationSettings.slide_arr().length > 1 && SliderPaginationSettings.pag().length > 0) {
                for (var i = 0; i < SliderPaginationSettings.slides_amount(); i++) {
                    var new_elem = document.createElement('div');
                    new_elem.className = 'nav_item';
                    new_elem.setAttribute('data-slide-num', i);
                    SliderPaginationSettings.pag().find('>div').append(new_elem);
                }
            }
        };

        createNav()




        function addDefaultSettingsOnSlides() {
            SliderPaginationSettings.slide_arr()[0].classList.add('active'); //for fade in effect
            SliderPaginationSettings.slide_arr()[0].querySelector('.slide_content_wrapper').style.opacity = "1"; //for fade in effect
            if (SliderPaginationSettings.current_slider.find('.nav_item').length > 0) {
                SliderPaginationSettings.current_slider.find('.nav_item')[0].classList.add('active');
            }
        }


        addDefaultSettingsOnSlides()



        function setAttrOnSlides() {
            for (var i = 0; i < SliderPaginationSettings.slides_amount(); i++) {
                SliderPaginationSettings.slide_arr()[i].setAttribute('data-slide-num', i)
            }
        }
        setAttrOnSlides()


        function addPaginationListeners() {
            SliderPaginationSettings.current_slider.find('.nav_item').each(function () {
                this.addEventListener('click', function (e) {
                    sliderPagMove(e)
                });
            });
        }

        addPaginationListeners()



        /**
         * for slider with pagination
         * @param {object} slide_index [clicked element]
         */
        function sliderPagMove(ev) {
            end_animation_marker = false;
            var prev_index,
                active_slide,
                pag_index = ev.target.getAttribute('data-slide-num'),
                nav_item = ev.target.parentElement.getElementsByClassName('nav_item'),
                slide = ev.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="' + pag_index + '"]');
            for (var j = 0; j < nav_item.length; j++) {
                if (nav_item[j].classList.contains('active')) {
                    prev_index = j;
                    nav_item[j].classList.remove('active'); //change style of nav elem
                    active_slide = ev.target.parentElement.parentElement.parentElement.querySelectorAll('.slide')[prev_index];
                }
            }
            active_slide.classList.remove('active');
            active_slide.querySelector('.slide_content_wrapper').style.opacity = "0";
            ev.target.classList.add('active'); //change style of nav elem
            slide.classList.add('active'); //show slide
            slide.querySelector('.slide_content_wrapper').style.opacity = "1";
        }

    }
})();
;
(function () {


    'use strict';


    if ($('.work_directions').length > 0) {

        var current_slider = $('section.review .slider'),
            wrapper = current_slider.find('.slides_wrapper'),
            slide = wrapper.find('.slide'),
            amount = slide.length;


        function setWidthOnSliderElements() {

            wrapper.css('width', amount + "00%");
            slide.each(function () {
                $(this).css('width', 100 / amount + '%');

            });
        }



        setWidthOnSliderElements();




        /**
         * for slider with arrows where moving all slide: moving + arrow hiding;
         * @param {object} e [clicked element]
         */

        var tick = 0;


        function sliderArrowMove(e) {
            var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / amount + "%)";
        }


        function manageSlider(e) {
            if (e.target.getAttribute('data-direction') === 'right' && tick !== 0) {
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(1, 0);
                } else if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                    showSliderArrow(1, 1);
                }
            } else if (e.target.getAttribute('data-direction') === 'left' && tick !== (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                tick += 1;
                if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                    hideSliderArrow(1, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(1, 0);
                }
            }
            sliderArrowMove(e);
        }


        current_slider.find('.arrow').on('click', function (e) {
            manageSlider(e);
        })


    }
})();
var end_animation_marker = true;

function createSlideAnimation() { /* INDEX PAGE */



    'use strict';


    if ($('.work_directions').length > 0) {





        function animateGuys() {


            setTimeout(function () {
                moveOld();
            }, 1500)


        }


        var AnimationSettings = {
            fps: 20,
            transition_old: 1,
            transition_young: 1,
            frame_state: true,
        }



        var old = document.querySelector('.old_guy'),
            image_1 = "url(" + old.getAttribute('data-img-1') + ")",
            image_2 = "url(" + old.getAttribute('data-img-2') + ")";

        function moveOld() {

            if (AnimationSettings.frame_state) {
                old.style.backgroundImage = image_1;
                AnimationSettings.frame_state = false
            } else {
                old.style.backgroundImage = image_2;
                AnimationSettings.frame_state = true;
            }
            old.style.transform = "translateX(" + AnimationSettings.transition_old + "rem)";
            AnimationSettings.transition_old += (window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 100;
            setTimeout(function () {
                if (AnimationSettings.transition_old > (((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 3))) {
                    cancelAnimationFrame(moveOld);
                    document.querySelector('.old_guy .speak').classList.add('active');
                    AnimationSettings.frame_state = true;
                    showBtn();


                    return
                }
                requestAnimationFrame(moveOld);

            }, 1000 / AnimationSettings.fps);
        }


        var young = document.querySelector('.young_guy'),
            image_3 = "url(" + young.getAttribute('data-img-1') + ")",
            image_4 = "url(" + young.getAttribute('data-img-2') + ")";

        function moveYoung() {

            if (AnimationSettings.frame_state) {
                young.style.backgroundImage = image_3;
                AnimationSettings.frame_state = false
            } else {
                young.style.backgroundImage = image_4;
                AnimationSettings.frame_state = true;
            }
            young.style.transform = "translateX(" + AnimationSettings.transition_young + "rem)";
            AnimationSettings.transition_young += (window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 50;
            setTimeout(function () {
                if (AnimationSettings.transition_young > (((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 3))) {
                    cancelAnimationFrame(moveYoung);
                    document.querySelector('.young_guy .speak').classList.add('active');
                    setTimeout(function () {
                        if (end_animation_marker) {
                            autonomicSlider()
                        }
                    }, 3000);


                    return
                }
                requestAnimationFrame(moveYoung);

            }, 1000 / AnimationSettings.fps);
        }

        function setYoungPos() {
            document.querySelector('.young_guy').style.right = ((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 2) + 'px';
        }

        setYoungPos();


        function showBtn() {
            setTimeout(function () {
                document.querySelector('.slide_content .submit_app_btn').classList.add('active');
                showCaterpillar()
            }, 500)

        }

        function showCaterpillar() {
            setTimeout(function () {
                document.querySelector('.slide_content .icons_block').classList.add('active');
                showYoungGuy();
            }, 500)

        }

        function showYoungGuy() {
            document.querySelector('.young_guy').classList.add('active');
            moveYoung()
        }

        animateGuys();


        var slider_counter = 0,
            pag_slide = document.querySelectorAll('.full_screen_slider .slide');

        var slider_interval = setInterval(function () {
            if (slider_counter < pag_slide.length - 1) {
                sliderAutoMove(slider_counter, pag_slide);
                slider_counter++
            } else {
                sliderAutoMove(slider_counter, pag_slide);
                slider_counter = 0;
            }
        }, 7000)


        function sliderAutoMove(slider_counter, pag_slide) {
            var nav_item = document.querySelectorAll('.pagination .nav_item');
            if (slider_counter !== 0) {
                nav_item[slider_counter - 1].classList.remove('active');
                pag_slide[slider_counter - 1].classList.remove('active');
                pag_slide[slider_counter - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
            } else {
                nav_item[nav_item.length - 1].classList.remove('active');
                pag_slide[pag_slide.length - 1].classList.remove('active');
                pag_slide[pag_slide.length - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
            }
            nav_item[slider_counter].classList.add('active'); //change style of nav elem
            pag_slide[slider_counter].classList.add('active'); //show slide
            pag_slide[slider_counter].querySelector('.slide_content_wrapper').style.opacity = "1";
        }



        function autonomicSlider() {

            if (pag_slide.length > 0) {
                sliderAutoMove(slider_counter, pag_slide)

            }
        }



        function autoSliderStop() {
            for (var i = 0; i < document.querySelectorAll('.pagination .nav_item').length; i++) {
                document.querySelectorAll('.pagination .nav_item')[i].addEventListener('click', sliderStop)
            }
        }



        function sliderStop() {
            clearInterval(slider_interval)
        }


        autoSliderStop();

    }


}

createSlideAnimation();

 ;
 (function () {
     if (window.innerWidth / window.innerHeight <= aspect_ratio) {

         /**
          * total page height
          * @returns {num} [page_height]
          */
         function calcPageHeight() {
             if (header) {
                 var total = 0;
                 for (var i = 0; i < document.body.children.length; i++) {
                     total += document.body.children[i].offsetHeight;
                 }
                 total -= getHeaderHeight();
                 return total;
             }
         }

         /**
          * Define to what elem should scrolling in setTimeOut func 
          * first param: which elem I want to see 
          * second param: border when scrolling should stop (created additional element for fixed header offset)
          */
         function setScrollingArguments0() {
             elem_position = "0";
             elem_name = 'body'
         }

         function setScrollingArguments1() {

             elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
             elem_name = 'footer .invisible_scroll'
         }

         function setScrollingArguments2() {

             elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight - getHeaderHeight();
             elem_name = 'section.work_directions .invisible_scroll'
         }

         function setScrollingArguments3() {

             elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight + document.getElementsByClassName('work_directions')[0].offsetHeight - getHeaderHeight();
             elem_name = 'section.performed_works .invisible_scroll'
         }

         /**
          * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
          */
         function setElemForPropertyScrolling() {
             for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
                 document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
                 document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
             }
         }
         setElemForPropertyScrolling();

         function getHeaderHeight() {
             return header.offsetHeight;
         }




         /**
          * smooth scrolling 
          * @param {object} e [coord of clicked link from what is scrolling]
          * arguments --> look in "sizes" part, there is a points where scrolling stop
          * scrollIntoView(true): stop whete element on top of a page
          * last "if" mean "stop at the end of page"
          */
         function scrollingButtonAction(e) {
             var button_coord = e.pageY;
             e.preventDefault();
             var scroll_interval = setInterval(function scrolling() {
                 arguments[1] = elem_position;
                 console.log(arguments[1]);
                 arguments[2] = elem_name;
                 if (button_coord < arguments[1]) {
                     window.scrollBy(0, 70);
                     if (window.pageYOffset >= arguments[1]) {
                         clearInterval(scroll_interval);
                         document.querySelector(arguments[2]).scrollIntoView(true)
                     }
                     if (window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) {
                         console.log(window.pageYOffset);
                         console.log(document.documentElement.clientHeight);
                         console.log(document.body.offsetHeight);
                         clearInterval(scroll_interval)
                     }
                 } else if (button_coord > arguments[1]) {
                     window.scrollBy(0, -70);
                     if (window.pageYOffset <= arguments[1] + 70) {
                         clearInterval(scroll_interval);
                         document.querySelector(arguments[2]).scrollIntoView(true)
                     }
                 }
             }, 30);
         }



         function addListeners() {
             if (document.getElementById('logo_btn')) {
                 document.getElementById('logo_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('logo_btn').addEventListener('click', setScrollingArguments0);
             }
             if (document.getElementById('cont_btn')) {
                 document.getElementById('cont_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('cont_btn').addEventListener('click', setScrollingArguments1);
             }

             if (document.getElementById('offers_btn')) {
                 document.getElementById('offers_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('offers_btn').addEventListener('click', setScrollingArguments2);
             }
             if (document.getElementById('works_btn')) {
                 document.getElementById('works_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('works_btn').addEventListener('click', setScrollingArguments3);
             }
         }

         addListeners()


     }
 })();




    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if (header) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }

    var scroll_size = 70;
    var fps = 30;
    var elem_name, elem_position;



    /**
     * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
     */
    function setElemForPropertyScrolling() {
        for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
            document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
            document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
        }
    }
    setElemForPropertyScrolling();

    function getHeaderHeight() {
        return header.offsetHeight;
    }



    var cancel_condition, transition_size;

    function movePage() {

        if (cancel_condition()) {
            //  document.querySelector(elem_name).scrollIntoView(true);
            window.scrollTo(0, elem_position);
            cancelAnimationFrame(movePage);
            return
        }

        window.scrollBy(0, transition_size);
        setTimeout(function () {
            requestAnimationFrame(movePage);

        }, 1000 / fps)

    }



    function calcConditionCaseDown() {
        if ((window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) || (window.pageYOffset >= elem_position - scroll_size)) {
            return true
        } else {
            return false
        }
    }


    function calcConditionCaseUp() {
        if ((document.body.offsetHeight <= document.documentElement.clientHeight) || (window.pageYOffset <= elem_position + scroll_size)) {
            return true
        } else {
            return false
        }
    }


    /**
     * smooth scrolling 
     * @param {object} e [coord of clicked link from what is scrolling]
     * arguments --> look in "sizes" part, there is a points where scrolling stop
     * scrollIntoView(true): stop whete element on top of a page
     * last "if" mean "stop at the end of page"
     */
    function manageMoving(e) {

        var button_coord = e.pageY;
        e.preventDefault();
        if (button_coord < elem_position) {
            transition_size = scroll_size;
            cancel_condition = calcConditionCaseDown;
            movePage();




        } else if (button_coord > elem_position) {

            transition_size = -scroll_size;
            cancel_condition = calcConditionCaseUp;
            movePage();


        }
    }


    $('#works_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0) {
            e.preventDefault();
            elem_name = 'section.performed_works .invisible_scroll';
            elem_position = $(elem_name).parent().offset().top;
            manageMoving(e);
        } else if ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio)) {
            e.preventDefault();
            elem_name = 'section.performed_works .invisible_scroll';
            elem_position = document.querySelector('section.full_screen_slider').offsetHeight + document.querySelector('section.work_directions').offsetHeight - getHeaderHeight();
            manageMoving(e);
        }
    });

    $('#cont_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0 || ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio))) {
            e.preventDefault();
            elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
            elem_name = 'footer .invisible_scroll';
            manageMoving(e);
        }
    })

    $('#logo_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0 || ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio))) {
            e.preventDefault();
            elem_name = 'body';
            elem_position = "0";
            manageMoving(e);
        }

    })

    $('#offers_btn').on('click', function (e) {
        if ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio)) {
            e.preventDefault();
            elem_name = 'section.work_directions .invisible_scroll';
            elem_position = document.querySelector('section.full_screen_slider').offsetHeight - getHeaderHeight();
            manageMoving(e);
        }
    })





;
(function () {
    'use strict';
    /* INDEX PAGE ON THIN SCREEN*/




    function getHeaderHeight() {
        return $('header').outerHeight();
    }

    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if ($("header")) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }


    /*  Show red line below titles when page scrolling */

    function showRedLine() {
        var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');

        if (title.length > 2) {
            if (window.pageYOffset > (calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight) - (document.querySelector('section.team').offsetHeight * 2)) {
                document.querySelector('section.team .main_h .thin_red_line').style.width = "100rem";
            } else if (window.pageYOffset >
                (document.querySelector('.slide_content_wrapper').offsetHeight + document.querySelector('.performed_works').offsetHeight + document.querySelector('.work_directions').offsetHeight)) {
                document.querySelector('section.review .main_h .thin_red_line').style.width = "100rem";
            } else if (window.pageYOffset > (document.querySelector('.slide_content_wrapper').offsetHeight + (document.querySelector('.work_directions').offsetHeight / 2))) {
                document.querySelector('section.performed_works .main_h .thin_red_line').style.width = "100rem";
            }
        }
    }









    /* ----------------------------------------- PORTFOLIO > ----------------------------------------- */

    /**
     * [hover effect for portfolio]
     * @param {object} e [portfolio item]
     */
    function showPortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.add('active');
    }

    function hidePortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.remove('active');
    }

    function zoomInImg(e) {
        e.target.querySelector('img').classList.add('zoom_img')
    }

    function zoomOutImg(e) {
        e.target.querySelector('img').classList.remove('zoom_img')
    }

    /**
     * field with image in portfolio section becomes clickable (takes link from hover area) itself
     * @param {object} e [[direct project image]]
     */
    function goPortfolioLink(e) {
        if (e.target.tagName == 'IMG') {
            document.location.href = e.target.parentElement.getElementsByTagName('a')[0].getAttribute('href')
        } else {
            document.location.href = e.target.getElementsByTagName('a')[0].getAttribute('href')
        }
    }

    /* ----------------------------------------- < PORTFOLIO ----------------------------------------- */


    function addPortfolioListeners() {
        if (document.querySelectorAll('.portfolio >div').length > 0) {
            for (var i = 0; i < document.querySelectorAll('.portfolio >div').length; i++) {
                document.querySelectorAll('.portfolio >div')[i].addEventListener('click', goPortfolioLink);
                if (device.desktop()) {
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', showPortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', hidePortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', zoomInImg);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', zoomOutImg);
                } else {
                    document.querySelectorAll('.portfolio >div .hover_logo')[i].style.zIndex = "-1";
                }

            }
        }

    }





    function managePage() {
       // if (window.innerWidth / window.innerHeight <= aspect_ratio) {
          
            addPortfolioListeners();
            window.addEventListener('scroll', showRedLine);

       // } else {
          //  window.removeEventListener('scroll', showRedLine);

       // }
    }

    managePage()





  //  window.addEventListener('resize', managePage);




})();
var window_offset;

;



//for modal windows - create modal window with class "modal" and id, create trigger with "data-modal-id" attribute, with value is modal id. in func "set modal button" add trigger selector
(function () {
    'use strict';

    var element,
        elem_position,
        elem_name,
        wrapper,
        slides_wrapper,
        slide,
        slides_amount,
        pag,
        pag_index,
        slider,
        header,
        slider_interval,

        // window_offset,
        tick1 = 0,
        tick2 = 0;

    /* --------------------------------------------- calls --------------------------------------------- */

    callFunctions();
    addListeners();
    setSliderWidth();
    getArrows();
    getArrowsInParticularSlider();
    setModalButton();
    setElemForPropertyScrolling();
    createGlowingPlanets();
    glowingPlanet();
    manageGlowing();
    hideSliderArrow(1, 0);
    hideSliderArrow(2, 0);
    checkIfSlidesExist();
    highSlidePopUp();




    function callFunctions() {
        slider = document.getElementsByClassName('slider');
        header = document.getElementsByTagName('header')[0];
        if (slider.length > 0) {
            createNav(0);
        }
        if (header) {
            changeHeaderColor();
        }
        if (document.getElementsByClassName('slider')[2]) {
            setElemsAttr();
        }
    }

    /* --------------------------------------------- create elements --------------------------------------------- */

    /**
     * create pagination for slider and attr for slides
     * @param {number} slider_num [number of slider on page]
     */
    function createNav(slider_num) {
        wrapper = slider[slider_num].querySelector('.slides_wrapper');
        slide = wrapper.querySelectorAll('.slide');
        pag = slider[slider_num].querySelector('.pagination');
        slides_amount = slide.length;
        slide[0].classList.add('active'); //for fade in effect
        slide[0].querySelector('.slide_content_wrapper').style.opacity = "1"; //for fade in effect

        if (slide.length > 1 && pag) {
            for (var i = 0; i < slides_amount; i++) {
                var new_elem = document.createElement('div');
                new_elem.className = 'nav_item';
                new_elem.setAttribute('data-slide-num', i);
                new_elem.addEventListener('click', sliderMove);
                var full_elem = pag.querySelector('div').appendChild(new_elem) //.setAttribute('data-slide', i)
                ;
                slide[i].setAttribute('data-slide-num', i)
                if (i === 0) {
                    new_elem.classList.add('active');
                }
            }
        }
    };

    /**
     * set attr elems for slider with part slides
     */
    function setElemsAttr() {
        var slide_position = document.getElementsByClassName('slider')[2].querySelectorAll('.slide');
        if (slide_position[0]) {
            slide_position[0].setAttribute('data-slide-position', 'left');
        }
        if (slide_position[1]) {
            slide_position[1].setAttribute('data-slide-position', 'top');
        }
        if (slide_position[2]) {
            slide_position[2].setAttribute('data-slide-position', 'right');
        }
        if (slide_position[3]) {
            slide_position[3].setAttribute('data-slide-position', 'right_bottom');
        }
    }
    /**
     * create glowing across animated planets
     */
    function createGlowingPlanets() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var parent = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < img.length; i++) {
            var new_elem = document.createElement('div');
            new_elem.classList.add('glowing');
            parent[i].insertBefore(new_elem, img[i]);
        }
    }

    /**
     * Hiding arrows when slides ends
     * @param {[[num]]} indexSlider [[index of slider on page]]
     * @param {[[num]]} indexArrow  [[index of arrow]]
     */

    function hideSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
        }

    }

    function showSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
        }
    }

    function checkIfSlidesExist() {
        if (slider.length > 0) {
            if (slider[1].getElementsByClassName('slide').length === 1) {
                hideSliderArrow(1, 1)
            }
            if (slider[2].getElementsByClassName('slide').length < 4 && slider[2].getElementsByClassName('slide').length > 1) {
                hideSliderArrow(2, 1)
            }
        }
    }

    /**
     * elem on tel header
     */
    function createElemsForTablets() {
        if (!device.desktop() && document.querySelector('header .contacts .tel')) {
            var area = document.createElement('div');
            document.querySelector('header .contacts .tel').appendChild(area);
            area.classList.add('correct_work_on_tablet');
        }
    }
    /* --------------------------------------------- sizes --------------------------------------------- */



    /**
     * set width of slider_wrapper
     */
    function setSliderWidth() {
        if (slider.length > 0) {
            for (var i = 1; i < slider.length; i++) {
                slide = slider[i].getElementsByClassName('slide');
                var width = slide[0].offsetWidth;
                if (window.innerWidth > 1200) {
                    slider[i].querySelector('.slides_wrapper').style.width = width * slide.length + "rem"
                } else {
                    slider[i].querySelector('.slides_wrapper').style.width = (width /*n px*/ * Math.ceil((100 / window.innerWidth) * 1000) / 1000) /*n vw*/ * 1000 / 82 * slide.length + "rem";
                }
            }
        }
    }

    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if (header) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }

    /**
     * Define to what elem should scrolling in setTimeOut func 
     * first param: which elem I want to see 
     * second param: border when scrolling should stop (created additional element for fixed header offset)
     */
    function setScrollingArguments0() {
        elem_position = "0";
        elem_name = 'body'
    }

    function setScrollingArguments1() {

        elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
        elem_name = 'footer .invisible_scroll'
    }

    function setScrollingArguments2() {

        elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight - getHeaderHeight();
        elem_name = 'section.work_directions .invisible_scroll'
    }

    function setScrollingArguments3() {

        elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight + document.getElementsByClassName('work_directions')[0].offsetHeight - getHeaderHeight();
        elem_name = 'section.performed_works .invisible_scroll'
    }

    /**
     * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
     */
    function setElemForPropertyScrolling() {
        for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
            document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
            document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
        }
    }

    /**
     * get header height (for adaptivity)
     * @returns {[num]} [height of header]
     */
    function getHeaderHeight() {
        return header.offsetHeight;
    }

    /**
     * [calc height for slide depends on window height and add style on page]
     */
    function addStyleForHighslide() {
        var height = window.innerHeight - 30;
        var div = document.createElement('div');
        var style = document.createElement('style');
        document.body.appendChild(div);
        div.appendChild(style);
        div.classList.add('style_tag');
        var newtext = document.createTextNode('.highslide-container {position: fixed !important; overflow: auto !important; height: ' + height + 'px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}');
        style.appendChild(newtext);
    }

    /* --------------------------------------------- sliders --------------------------------------------- */

    /**
     * for slider with pagination
     * @param {object} slide_index [clicked element]
     */
    function sliderMove(slide_index) {
        var prev_index;
        var active_slide;
        pag_index = slide_index.target.getAttribute('data-slide-num');
        var nav_item = slide_index.target.parentElement.getElementsByClassName('nav_item');
        var slide = slide_index.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="' + pag_index + '"]');
        for (var j = 0; j < nav_item.length; j++) {
            if (nav_item[j].classList.contains('active')) {
                prev_index = j;
                nav_item[j].classList.remove('active'); //change style of nav elem
                active_slide = slide_index.target.parentElement.parentElement.parentElement.querySelectorAll('.slide')[prev_index];
            }
        }
        active_slide.classList.remove('active');
        active_slide.querySelector('.slide_content_wrapper').style.opacity = "0";
        slide_index.target.classList.add('active'); //change style of nav elem
        slide.classList.add('active'); //show slide
        slide.querySelector('.slide_content_wrapper').style.opacity = "1";
    }

    /**
     * for slider with arrows where moving all slide: moving + arrow hiding;
     * @param {object} e [clicked element]
     */
    function sliderArrowMove(e) {
        //checkWidth(e, 1);

        if (e.target.getAttribute('data-direction') == 'right' && tick1 != 0) {
            tick1 -= 1;
            if (tick1 === 0) {
                hideSliderArrow(1, 0);
            } else if (tick1 === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                showSliderArrow(1, 1);
            }
        } else if (e.target.getAttribute('data-direction') == 'left' && tick1 != (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
            tick1 += 1;
            if (tick1 == (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                hideSliderArrow(1, 1);
            }
            if (tick1 >= 1) {
                showSliderArrow(1, 0);
            }
        }
        slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        //var width = parseFloat(getComputedStyle(slides_wrapper.querySelector('.slide')).width);
        //slides_wrapper.style.right = tick1 * width + "px";
        slides_wrapper.style.transform = "translateX(-" + tick1 * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";

    }

    /**
     * for slider with arrows where moving part of slide + hiding arrows
     * @param {object} e [clicked element]
     */
    function sliderArrowMoveInParticularSlider(e) {
        //checkWidth(e, 3);
        slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        var slide_position = slides_wrapper.querySelectorAll('.slide'),
            next, prev;
        if (e.target.getAttribute('data-direction') == 'right' && tick2 != 0) {
            tick2 -= 1;
            if (tick2 === 0) {
                hideSliderArrow(2, 0);
            }
            if (tick2 === (e.target.parentElement.querySelectorAll('.slide').length - 4)) {
                showSliderArrow(2, 1);
            }
            for (var j = 0; j < slide_position.length; j++) {
                var position = slide_position[j].getAttribute('data-slide-position');
                if (position == 'right_bottom') {
                    slide_position[j].removeAttribute('data-slide-position');
                } else if (position == 'right') {
                    slide_position[j].setAttribute('data-slide-position', 'right_bottom');
                } else if (position == 'top') {
                    slide_position[j].setAttribute('data-slide-position', 'right')
                } else if (position == 'left') {
                    slide_position[j].setAttribute('data-slide-position', 'top');
                } else if (position == 'left_bottom') {
                    slide_position[j].setAttribute('data-slide-position', 'left');
                    prev = slide_position[j].previousElementSibling;
                }
            }
            if (prev) {
                prev.setAttribute('data-slide-position', 'left_bottom');
            }
        } else if (e.target.getAttribute('data-direction') == 'left' && tick2 != (e.target.parentElement.querySelectorAll('.slide').length - 3)) {
            tick2 += 1;

            if (tick2 == (e.target.parentElement.querySelectorAll('.slide').length - 3)) {
                hideSliderArrow(2, 1);
            }
            if (tick2 >= 1) {
                showSliderArrow(2, 0);
            }

            for (var j = 0; j < slide_position.length; j++) {
                var position = slide_position[j].getAttribute('data-slide-position');
                if (position == 'left_bottom') {
                    slide_position[j].removeAttribute('data-slide-position')
                } else if (position == 'left') {
                    slide_position[j].setAttribute('data-slide-position', 'left_bottom');
                } else if (position == 'top') {
                    slide_position[j].setAttribute('data-slide-position', 'left')
                } else if (position == 'right') {
                    slide_position[j].setAttribute('data-slide-position', 'top');
                } else if (position == 'right_bottom') {
                    slide_position[j].setAttribute('data-slide-position', 'right');
                    next = slide_position[j].nextElementSibling;
                }
            }
            if (next) {
                next.setAttribute('data-slide-position', 'right_bottom');
            }
        }
        //var width = parseFloat(getComputedStyle(slides_wrapper.querySelector('.slide')).width);
        //slides_wrapper.style.right = tick2 * width + "px";
        slides_wrapper.style.transform = "translateX(-" + tick2 * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";

    }

    /* --------------------------------------------- events --------------------------------------------- */

    /**
     * add listener for arrows at slider with arrows where moving all slide
     */
    function getArrows() {
        for (var i = 0; i < document.querySelectorAll('.review .slider .arrow').length; i++) {
            document.querySelectorAll('.review .slider .arrow')[i].addEventListener('click', sliderArrowMove)
        }
    }
    /**
     * add listener for arrows at slider with arrows where moving part of slide
     */
    function getArrowsInParticularSlider() {
        for (var i = 0; i < document.querySelectorAll('.team .slider .arrow').length; i++) {
            document.querySelectorAll('.team .slider .arrow')[i].addEventListener('click', sliderArrowMoveInParticularSlider)
        }
    }

    /**
     * set modal button
     */
    function setModalButton() {
        for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
            document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('section.work_top_part .bg_top .wrapper .description a')) {
            document.querySelector('section.work_top_part .bg_top .wrapper .description a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
            document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
            document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('footer .contacts >p >a')) {
            document.querySelector('footer .contacts >p >a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
            document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
        }
    }

    /**
     * for header menus
     * @param {object} e [clicked elem]
     */
    function checkTarget(e) {
        if (document.getElementsByClassName('lang').length > 0) {
            if (!e.target.classList.contains('lang') || (e.target.classList.contains('lang') && e.target.classList.contains('active'))) {
                if (e.target.classList.contains('lang')) {
                    e.target.classList.remove('active')
                }
                hideElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.remove('active')
                }
            } else if (e.target.classList.contains('lang')) {
                showElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.add('active')
                }
            }
        }
    }

    /**
     * add listeners for animated planets glowing
     */
    function manageGlowing() {
        var elem = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < elem.length; i++) {
            elem[i].addEventListener('mouseenter', showGlowing);
            elem[i].addEventListener('mouseleave', hideGlowing);
        }
    }

    /**
     * listener for change color of invalid field
     */
    function addButtonListener() {
        var form_button = document.getElementsByTagName('button')
        for (var i = 0; i < form_button.length; i++) {
            form_button[i].addEventListener('click', changeInvalidColor)
        }
    }

    /**
     * checking if element exist - add listener
     */
    function addListeners() {
        if (document.getElementById('logo_btn')) {
            document.getElementById('logo_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('logo_btn').addEventListener('click', setScrollingArguments0);
        }
        if (document.getElementById('cont_btn')) {
            document.getElementById('cont_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('cont_btn').addEventListener('click', setScrollingArguments1);
        }

        if (document.getElementById('offers_btn')) {
            document.getElementById('offers_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('offers_btn').addEventListener('click', setScrollingArguments2);
        }
        if (document.getElementById('works_btn')) {
            document.getElementById('works_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('works_btn').addEventListener('click', setScrollingArguments3);
        }
        if (document.getElementById('tel_modal')) {
            document.getElementById('tel_modal').addEventListener('focus', showTelComment);
            document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
        }
        if (document.getElementsByTagName('button')) {
            addButtonListener()
        }
        if (document.querySelectorAll('.portfolio >div').length > 0) {
            for (var i = 0; i < document.querySelectorAll('.portfolio >div').length; i++) {
                document.querySelectorAll('.portfolio >div')[i].addEventListener('click', goPortfolioLink);
                if (device.desktop()) {
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', showPortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', hidePortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', zoomInImg);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', zoomOutImg);
                } else {
                    document.querySelectorAll('.portfolio >div .hover_logo')[i].style.zIndex = "-1";
                }

            }
        }
        if (document.getElementsByClassName('tel_num').length > 0 && device.desktop()) {
            for (var i = 0; i < document.getElementsByClassName('tel_num').length; i++) {
                document.getElementsByClassName('tel_num')[i].addEventListener('mouseenter', showHeaderTel);
                document.getElementsByClassName('tel_num')[i].addEventListener('mouseleave', hideHeaderTel);
            }
        }
        createElemsForTablets();
        if (document.querySelector('.correct_work_on_tablet')) {
            document.querySelector('.correct_work_on_tablet').addEventListener('click', tabletHeaderTelToggle);
        }
    }

    /**
     * field with image in portfolio section becomes clickable (takes link from hover area) itself
     * @param {object} e [[direct project image]]
     */
    function goPortfolioLink(e) {
        if (e.target.tagName == 'IMG') {
            document.location.href = e.target.parentElement.getElementsByTagName('a')[0].getAttribute('href')
        } else {
            document.location.href = e.target.getElementsByTagName('a')[0].getAttribute('href')
        }
    }


    /**
     * [on page 'works' add listener on links bounded with highslide module ]
     */
    function highSlidePopUp() {
        var slide_link = document.querySelectorAll('.work_content a.highslide');
        if (slide_link.length > 0) {
            for (var i = 0; i < slide_link.length; i++) {
                slide_link[i].addEventListener('click', bodyFixOn)
            }
        }
    }


    window.addEventListener('click', checkTarget);
    window.addEventListener('scroll', changeHeaderColor);
    //window.addEventListener('resize', setSliderWidth);	
    window.addEventListener('resize', calcPageHeight);
    window.addEventListener('resize', glowingPlanet);


    /* --------------------------------------------- other functions --------------------------------------------- */

    /**
     * modal_window + smooth display
     */
    /*function modalOpen(e) {
        var index;
        if (e.target.classList.contains('submit_app_btn') || (!e.target.classList.contains('modal_resume') && !e.target.classList.contains('modal_comment') && e.target.tagName == 'A')) {
            index = 0;
        } else if (e.target.classList.contains('modal_resume')) {
            e.preventDefault();
            index = 1
        } else if (e.target.classList.contains('modal_comment')) {
            e.preventDefault();
            index = 2
        }
        document.getElementsByClassName('modal')[index].style.display = "block";
        var int = setInterval(function () {
            if ((getComputedStyle(document.getElementsByClassName('modal')[index]).opacity) < 0.98) {
                document.getElementsByClassName('modal')[index].style.opacity = +document.getElementsByClassName('modal')[index].style.opacity + 0.1;
            } else {
                clearInterval(int)
            }
        }, 30)


        document.body.style.marginRight = window.innerWidth - document.body.offsetWidth + "px";
        header.style.marginRight = window.innerWidth - document.body.offsetWidth + "px";
        document.body.style.width = "initial";
        document.body.classList.add('hidden');


    }

    function modalClose(e) {
        var index;
        if (e.target.parentElement.parentElement.parentElement.id == 'modal_order') {
            index = 0
        } else if (e.target.parentElement.parentElement.parentElement.id == 'modal_resume') {
            index = 1
        } else if (e.target.parentElement.parentElement.parentElement.id == 'modal_comment') {
            index = 2
        }
        document.getElementsByClassName('modal')[index].style.display = "none";
        document.getElementsByClassName('modal')[index].style.opacity = "0";
        document.body.style.marginRight = 0;
        header.style.marginRight = 0;
        document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
        document.body.classList.remove('hidden');
    }*/


    function modalOpen(e) {
        e.preventDefault();
        takeUsedButton(e);
        var modal_id = e.target.getAttribute('data-modal-id');

        document.getElementById(modal_id).style.display = "block";
        var int = setInterval(function () {
            if ((getComputedStyle(document.getElementById(modal_id)).opacity) < 0.98) {
                document.getElementById(modal_id).style.opacity = +document.getElementById(modal_id).style.opacity + 0.1;
            } else {
                clearInterval(int)
            }
        }, 30)
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        header.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        header.style.display = "none";


        // window.addEventListener('scroll', scrollBodySync)
    }

    function modalClose(e) {
        var elem = e.target;
        while (!elem.classList.contains('modal')) {
            elem = elem.parentElement;
        }
        var modal_id = elem.id;
        document.getElementById(modal_id).style.display = "none";
        document.getElementById(modal_id).style.opacity = "0";
        document.body.style.marginRight = 0;
        header.style.marginRight = 0;
        document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
        document.body.classList.remove('hidden');
        window.scrollTo(0, window_offset);
        header.style.display = "block";
        // window.removeEventListener('scroll', scrollBodySync)
    }



    /**
     * change color of fixed nav block when scrolled under nth px
     */
    function changeHeaderColor() {
        if (header) {
            if (window.pageYOffset > 0) {
                header.getElementsByClassName('header_bg')[0].style.opacity = "0.9";

            } else {
                header.getElementsByClassName('header_bg')[0].style.opacity = "0";

            }
        }
    }

    /**
     * smooth scrolling 
     * @param {object} e [coord of clicked link from what is scrolling]
     * arguments --> look in "sizes" part, there is a points where scrolling stop
     * scrollIntoView(true): stop whete element on top of a page
     * last "if" mean "stop at the end of page"
     */
    function scrollingButtonAction(e) {
        var button_coord = e.pageY;
        e.preventDefault();
        var scroll_interval = setInterval(function scrolling() {
            arguments[1] = elem_position;
            console.log(arguments[1]);
            arguments[2] = elem_name;
            if (button_coord < arguments[1]) {
                window.scrollBy(0, 70);
                if (window.pageYOffset >= arguments[1]) {
                    clearInterval(scroll_interval);
                    document.querySelector(arguments[2]).scrollIntoView(true)
                }
                if (window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) {
                    console.log(window.pageYOffset);
                    console.log(document.documentElement.clientHeight);
                    console.log(document.body.offsetHeight);
                    clearInterval(scroll_interval)
                }
            } else if (button_coord > arguments[1]) {
                window.scrollBy(0, -70);
                if (window.pageYOffset <= arguments[1] + 70) {
                    clearInterval(scroll_interval);
                    document.querySelector(arguments[2]).scrollIntoView(true)
                }
            }
        }, 30);
    }

    /**
     * show and hide header lists
     * @param {[[string]]} elem_class_name [name of class of list element]
     */
    function showElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.add('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].removeAttribute('hidden')
        }
    }

    function hideElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.remove('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].setAttribute('hidden', '')
        }
    }


    /**
     * tuning of glowing planets
     */
    function glowingPlanet() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var planet = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service .glowing');
        for (var i = 0; i < planet.length; i++) {
            planet[i].style.left = '5%';
            planet[i].style.top = img[i].offsetHeight / 4 + 'px';
            planet[i].style.width = '20%';
            planet[i].style.height = img[i].offsetHeight / 2 + 'px';
        }
    };

    function showGlowing(e) {
        e.target.querySelector(".glowing").classList.add('active');
    }

    function hideGlowing(e) {
        e.target.querySelector(".glowing").classList.remove('active');
    }

    /**
     * change color of input form if there is wrong value
     * @param {object} e [get clicked element (search in it's parent)]
     */
    function changeInvalidColor(e) {
        var form_input = e.target.parentElement.getElementsByTagName('input');
        for (var i = 0; i < form_input.length; i++) {
            form_input[i].classList.add('valid')
        }
    }

    /**
     * show comment for tel form in modal window
     */
    function showTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "visible";
        tel_comment.style.opacity = "1";
    }

    function hideTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "hidden";
        tel_comment.style.opacity = "0";
    }
    /**
     * [hover effect for portfolio]
     * @param {object} e [portfolio item]
     */
    function showPortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.add('active');
    }

    function hidePortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.remove('active');
    }

    /**
     * show header lang onhover
     * @param {object} e [[lang elem]]
     */

    function showHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].removeAttribute('hidden');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.add('active');
        document.querySelector('header .contacts .tel').classList.add('active');
    }

    function hideHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].setAttribute('hidden', '');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.remove('active');
        document.querySelector('header .contacts .tel').classList.remove('active');

    }

    /**
     * [highslide run as modal window]
     */
    function bodyFixOn() {
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        document.querySelector('header').style.display = "none";
        addStyleForHighslide()
    }

    /* replace to highslide.js
    function bodyFixOut() {
         document.body.style.marginRight = 0;
         document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
         document.body.classList.remove('hidden');
         window.scrollTo(0, window_offset);
         document.body.removeChild(document.querySelector('.style_tag'))
     }*/

    /**
     * [show header tels on tablets]
     */
    function tabletHeaderTelToggle() {
        if (document.querySelector('.correct_work_on_tablet').classList.contains('active')) {
            document.querySelector('.correct_work_on_tablet').classList.remove('active');
            hideHeaderTel()
        } else {
            document.querySelector('.correct_work_on_tablet').classList.add('active');
            showHeaderTel()
        }
    }




    /*
	
	
	
	
	


    $('.arrow_right').on('click', function () {
    	if (click_amount == 0) {
    		click_amount++;
    		if (ind == 0) {
    			ind = sliderPictures.length
    		}
    		ind--;
    		$('.off').remove();
    		$('.central_slide').before('<div class="prev_slide"></div>');
    		$('.prev_slide').css('background-image', sliderPictures[ind]);
    		$('.central_slide, .prev_slide').animate({
    			left: '100%',
    		});
    		$('.central_slide').addClass('off');
    		setTimeout(function () {
    			$('.central_slide').addClass('next_slide').removeClass('central_slide');
    			$('.prev_slide').addClass('central_slide').removeClass('prev_slide').css('left', 'initial');
    			click_amount = 0
    		}, 410)
    	}
    });
	
	
	
    var sli_com = document.getElementsByClassName('slider')[1];
    var sli_team = document.getElementsByClassName('slider')[2]
    var arr_l = sli_com.querySelector('.arrow.left');
    var arr_r = sli_com.querySelector('.arrow.right');
    arr_l.addEventListener('click', moveToRight);
    arr_r.addEventListener('click', moveToLeft);
	
	
	
    $('.arrow_left').on('click', function () {
    	if (click_amount == 0) {
    		click_amount++;
    		ind++;
    		if (ind == sliderPictures.length) {
    			ind = 0
    		}
    		$('.off').remove();
    		$('.central_slide').after('<div class="next_slide"></div>');
    		$('.next_slide').css('background-image', sliderPictures[ind]);
    		$('.central_slide, .next_slide').animate({
    			right: '100%',
    		});
    		$('.central_slide').addClass('off');
    		setTimeout(function () {
    			$('.central_slide').addClass('prev_slide').removeClass('central_slide');
    			$('.next_slide').addClass('central_slide').removeClass('next_slide').css('right', 'initial');
    			click_amount = 0
    		}, 410)
    	}
    });
	
    function moveToRight(e) {
    	var slide = e.target.parentElement.getElementsByClassName('slide');
    }
	
	
	
    function sliderVisibility() {
    	for (var i = 1; i<sli_com.getElementsByClassName('slide').length; i++ ) {
    		sli_com.getElementsByClassName('slide')[i].setAttribute('hidden', '')			
    	}
    		for (var i = 3; i<sli_team.getElementsByClassName('slide').length; i++ ) {
    		sli_team.getElementsByClassName('slide')[i].setAttribute('hidden', '')			
    	}	
    }
	
	
	
	
    */





    /*function checkWidth(e, slides_part_amount) {	if  (e.target.parentElement.querySelector('.slides_wrapper').offsetWidth < e.target.parentElement.querySelectorAll('.slide')[0].offsetWidth * e.target.parentElement.querySelectorAll('.slide').length / slides_part_amount ) {console.log('script didnt work last time');
	setSliderWidth()
}}*/





    /*function scrollBodySync(e) {console.log('sdf    ')
        //e.preventDefault()

       //console.log(window.pageYOffset);
       // document.body.style.marginTop = window.pageYOffset + "px";
    document.body.style.


    }*/









    /*
       
           hs.registerOverlay({
        html: '<div class=\"close_btn\" onclick=\"return hs.close(this)\" title=\"Close\"></div>',
        position: 'top right',
        fade: 2 // fading the semi-transparent overlay looks bad in IE
    });
       
       */


    /*  
    window.addEventListener('mousemove', 'checkSlideClosing')
    
    function checkSlideClosing() {
        if (document.querySelectorAll('.highslide-container table') > 0) {
        for(var i = 0; i < document.querySelectorAll('.highslide-container table') )
    if (document.querySelectorAll('.highslide-container table')) {
            bodyFixOut()
        }}

}*/


    function takeUsedButton(e) {
        if (e.target.hasAttribute('data-trigger-ident')) {
            document.getElementById('takes_used_button').value = e.target.getAttribute('data-trigger-ident')
        }
    }


    function setModalAttribute() {
        var elem = document.querySelector('section.work_top_part .description a[href^="#"]');
        if (elem) {
            console.log('link exist');
            elem.setAttribute('data-modal-id', 'modal_order');
            elem.setAttribute('data-trigger-ident', 'vnutryak')
        }


    }


    setModalAttribute()


    function zoomInImg(e) {
        e.target.querySelector('img').classList.add('zoom_img')
    }

    function zoomOutImg(e) {
        e.target.querySelector('img').classList.remove('zoom_img')
    }



    function autonomicSlider() {
        var slide = document.querySelectorAll('.full_screen_slider .slide');
        var i = 1;
        if (slide.length > 0) {
            slider_interval = setInterval(function () {
                if (i < slide.length - 1) {
                    sliderAutoMove(i);
                    i++
                } else {
                    sliderAutoMove(i);
                    i = 0;
                }
            }, 7000)
        }
    }


    function sliderAutoMove(i) {
        var slide = document.querySelectorAll('.full_screen_slider .slide');
        var nav_item = document.querySelectorAll('.pagination .nav_item');
        if (i !== 0) {
            nav_item[i - 1].classList.remove('active');
            slide[i - 1].classList.remove('active');
            slide[i - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
        } else {
            nav_item[nav_item.length - 1].classList.remove('active');
            slide[slide.length - 1].classList.remove('active');
            slide[slide.length - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
        }
        nav_item[i].classList.add('active'); //change style of nav elem
        slide[i].classList.add('active'); //show slide
        slide[i].querySelector('.slide_content_wrapper').style.opacity = "1";
    }



    function autoSliderStop() {
        for (var i = 0; i < document.querySelectorAll('.pagination .nav_item').length; i++) {
            document.querySelectorAll('.pagination .nav_item')[i].addEventListener('click', sliderStop)
        }
    }


    function sliderStop() {
        clearInterval(slider_interval)

    }




    autonomicSlider()
    autoSliderStop()

    
    
    /*new*/



    function slideDownHeaderElems() {

        var header_elem = document.querySelectorAll('header nav ul li');
        for (var i = 0; i < header_elem.length; i++) {
            header_elem[i].classList.add('up');
        }
        // document.querySelector('.tel').classList.add('up');
         //  document.querySelector('.submit_app_btn').classList.add('up');
            //  document.querySelector('.lang_btn').classList.add('up');
        console.log( document.querySelector('.tel'))
        
  
       


    }


    function slideDownElems() {
      
        var header_elem = document.querySelectorAll('.up');
        var i = 0;

        setInterval(function () {
            if (i < header_elem.length)

                header_elem[i].classList.remove('up');
            i++

        }, 500)



    }




    slideDownHeaderElems();

    slideDownElems();
    
     
    
    

    
    
    /*  new  */
    
    function showRedLine()  {
        if (window.pageYOffset > (calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight) - (document.querySelector('section.team').offsetHeight*2)) {
            console.log('dfg');
        document.querySelector('section.team .main_h .thin_red_line').style.width = "100rem";
            
        }
        
        
     
        
        
    }
    
    
    window.addEventListener('scroll', showRedLine)

    
    function createRedLine() { console.log('sdfg');
       var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');
        for (var i = 0; i < title.length; i++) {
            var elem = document.createElement('div')
            var line = title[i].appendChild(elem);
            line.classList.add('thin_red_line');
        }
        
        
    }
    
     createRedLine()



})();

function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);
for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();
var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),
document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){
var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),
window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),
manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}();
;
(function () {
    'use strict';
    if ($('.work_directions').length > 0) {

        var CustomScrollSettings = {
            wrapper_selector: '.scroll_container_wrapper',
            container_selector: '.scroll_container',
            container_step_size: 300,
            /* Amount of scrolling pictures */
            runner_step: 0, //don't touch
            runner_marker: true, //don't touch
            runner_selector: '.scroll_runner',
            step: 0, //don't touch
            marker: '.scroll_marker',
            scroll_position_trigger: true,
            scroll_position_selector: '.scroll_position',
            scroll_position: 'start',
        };


        function addScrollListeners() {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    pageScroll(e);
                })
            }
        };


        function pageScroll(e) {
            if (document.querySelector(CustomScrollSettings.marker).value) {
                CustomScrollSettings.direction = ScrollDirection.defineScrollDirection(e);
                ElementsMoving.containerMove();
                ElementsMoving.runnerMove();
            }
        }

        function setScrollPositionValue() {
            if (CustomScrollSettings.scroll_position_trigger) {
                document.querySelector(CustomScrollSettings.scroll_position_selector).value = CustomScrollSettings.scroll_position
            }
        }



        var ElementsDefinition = {

            container: function () {
                return document.querySelector(CustomScrollSettings.container_selector)
            },

            thumb: function () {
                return this.container().parentElement.querySelector(CustomScrollSettings.runner_selector)
            },

        }


        var ElementsSizes = {

            wrapper_height: function (elem) {
                return elem.parentElement.offsetHeight;
            },

            container_height: function (elem) {
                return elem.offsetHeight;
            },

            container_step_size: function () {
                return (100 * CustomScrollSettings.container_step_size / this.container_height(ElementsDefinition.container()))
            },

            runner_step_size: function () {
                return this.container_step_size()
            },

            setRunnerSize: function () {
                var container = ElementsDefinition.container();
                ElementsDefinition.thumb().style.height = 100 / this.container_height(container) * this.wrapper_height(container) + "%";
            },

        }


        var ScrollDirection = {

            getKeyCode: function (e) {
                if (e.keyCode == 40) {
                    return 'down'
                } else if (e.keyCode == 38) {
                    return 'up'
                }
            },

            getTouchCoord: function (e) {
                return e.touches[0].clientY
            },

            getSwipeDirection: function (e) {
                if (e.type == 'touchstart') {
                    this.firstCoord = this.getTouchCoord(e);
                } else if (e.type == 'touchmove') {
                    this.lastCoord = this.getTouchCoord(e);
                } else if (e.type == 'touchend') {
                    if (this.lastCoord - this.firstCoord > 10) {
                        return 'up';
                    } else if (this.lastCoord - this.firstCoord < -10) {
                        return 'down';
                    }
                }
            },

            getWheelDirection: function (e) {
                if (e.deltaY > 0) {
                    return 'down'
                } else if (e.deltaY < 0) {
                    return 'up'
                }
            },

            defineScrollDirection: function (e) {
                if (e.type == "keydown") {
                    return this.getKeyCode(e);
                } else if (e.type == "touchstart" || e.type == "touchmove" || e.type == "touchend") {
                    return this.getSwipeDirection(e);
                } else if (e.type == "wheel") {
                    return this.getWheelDirection(e);
                }
            },

        }


        var ElementsMoving = {


            runnerMove: function () {

                var direction = CustomScrollSettings.direction,
                    step_size = ElementsSizes.container_step_size(),
                    runner_marker = CustomScrollSettings.runner_marker,
                    thumb = ElementsDefinition.thumb(),
                    runner_step_size = ElementsSizes.runner_step_size();


                if (direction == 'down') { //-
                    if (runner_marker) {
                        CustomScrollSettings.runner_step += runner_step_size;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    } else {
                        CustomScrollSettings.runner_step = (100 - parseFloat(thumb.style.height));
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    }
                } else if (direction == 'up') { //+
                    if (runner_marker) {
                        CustomScrollSettings.runner_step -= runner_step_size;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    } else {
                        CustomScrollSettings.runner_step = 0;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    }
                }
            },


            containerMove: function () {
                var direction = CustomScrollSettings.direction,
                    step_size = CustomScrollSettings.container_step_size,
                    container = ElementsDefinition.container(),
                    wrapper_height = ElementsSizes.wrapper_height(container),
                    container_height = ElementsSizes.container_height(container);

                if (direction == 'down') {
                    if (container_height - wrapper_height + CustomScrollSettings.step > step_size) { //-  
                        CustomScrollSettings.runner_marker = true;
                        CustomScrollSettings.step -= step_size;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "";
                        setScrollPositionValue();
                    } else {
                        CustomScrollSettings.runner_marker = false;
                        container.style.transform = "translateY(-" + (container_height - wrapper_height) + "px)";
                        CustomScrollSettings.scroll_position = "end";
                        setScrollPositionValue();
                    }
                } else if (direction == 'up') {
                    if (CustomScrollSettings.step + step_size < 0) {
                        CustomScrollSettings.runner_marker = true;
                        CustomScrollSettings.step += step_size;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "";
                        setScrollPositionValue();
                    } else {
                        CustomScrollSettings.runner_marker = false;
                        CustomScrollSettings.step = 0;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "start";
                        setScrollPositionValue();
                    }
                }
            },

        }

        ElementsSizes.setRunnerSize();

        addScrollListeners();

    }

})();
/*! device.js 0.2.7 */
(function(){var a,b,c,d,e,f,g,h,i,j;b=window.device,a={},window.device=a,d=window.document.documentElement,j=window.navigator.userAgent.toLowerCase(),a.ios=function(){return a.iphone()||a.ipod()||a.ipad()},a.iphone=function(){return!a.windows()&&e("iphone")},a.ipod=function(){return e("ipod")},a.ipad=function(){return e("ipad")},a.android=function(){return!a.windows()&&e("android")},a.androidPhone=function(){return a.android()&&e("mobile")},a.androidTablet=function(){return a.android()&&!e("mobile")},a.blackberry=function(){return e("blackberry")||e("bb10")||e("rim")},a.blackberryPhone=function(){return a.blackberry()&&!e("tablet")},a.blackberryTablet=function(){return a.blackberry()&&e("tablet")},a.windows=function(){return e("windows")},a.windowsPhone=function(){return a.windows()&&e("phone")},a.windowsTablet=function(){return a.windows()&&e("touch")&&!a.windowsPhone()},a.fxos=function(){return(e("(mobile;")||e("(tablet;"))&&e("; rv:")},a.fxosPhone=function(){return a.fxos()&&e("mobile")},a.fxosTablet=function(){return a.fxos()&&e("tablet")},a.meego=function(){return e("meego")},a.cordova=function(){return window.cordova&&"file:"===location.protocol},a.nodeWebkit=function(){return"object"==typeof window.process},a.mobile=function(){return a.androidPhone()||a.iphone()||a.ipod()||a.windowsPhone()||a.blackberryPhone()||a.fxosPhone()||a.meego()},a.tablet=function(){return a.ipad()||a.androidTablet()||a.blackberryTablet()||a.windowsTablet()||a.fxosTablet()},a.desktop=function(){return!a.tablet()&&!a.mobile()},a.television=function(){var a;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],a=0;a<television.length;){if(e(television[a]))return!0;a++}return!1},a.portrait=function(){return window.innerHeight/window.innerWidth>1},a.landscape=function(){return window.innerHeight/window.innerWidth<1},a.noConflict=function(){return window.device=b,this},e=function(a){return-1!==j.indexOf(a)},g=function(a){var b;return b=new RegExp(a,"i"),d.className.match(b)},c=function(a){var b=null;g(a)||(b=d.className.replace(/^\s+|\s+$/g,""),d.className=b+" "+a)},i=function(a){g(a)&&(d.className=d.className.replace(" "+a,""))},a.ios()?a.ipad()?c("ios ipad tablet"):a.iphone()?c("ios iphone mobile"):a.ipod()&&c("ios ipod mobile"):a.android()?c(a.androidTablet()?"android tablet":"android mobile"):a.blackberry()?c(a.blackberryTablet()?"blackberry tablet":"blackberry mobile"):a.windows()?c(a.windowsTablet()?"windows tablet":a.windowsPhone()?"windows mobile":"desktop"):a.fxos()?c(a.fxosTablet()?"fxos tablet":"fxos mobile"):a.meego()?c("meego mobile"):a.nodeWebkit()?c("node-webkit"):a.television()?c("television"):a.desktop()&&c("desktop"),a.cordova()&&c("cordova"),f=function(){a.landscape()?(i("portrait"),c("landscape")):(i("landscape"),c("portrait"))},h=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(h,f,!1):window.attachEvent?window.attachEvent(h,f):window[h]=f,f(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:window.device=a}).call(this);

var header = document.getElementsByTagName('header')[0];



/**
 * set modal button
 */
function setModalButton() {
    for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
        document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
    }
    if (document.querySelector('section.work_top_part .bg_top .wrapper .description a')) {
        document.querySelector('section.work_top_part .bg_top .wrapper .description a').addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
        document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
        document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
    }
    if (document.querySelector('footer .contacts >p >a')) {
        document.querySelector('footer .contacts >p >a').addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
        document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
    }
}



function modalOpen(e) {
	mark = false;
    e.preventDefault();
    takeUsedButton(e);
    var modal_id = e.target.getAttribute('data-modal-id');

    document.getElementById(modal_id).style.display = "block";
    var int = setInterval(function () {
        if ((getComputedStyle(document.getElementById(modal_id)).opacity) < 0.98) {
            document.getElementById(modal_id).style.opacity = +document.getElementById(modal_id).style.opacity + 0.1;
        } else {
            clearInterval(int)
        }
    }, 30)
    var body_width = document.body.offsetWidth;
    window_offset = window.pageYOffset;
    document.body.style.marginRight = window.innerWidth - body_width + "px";
    header.style.marginRight = window.innerWidth - body_width + "px";
    document.body.style.width = body_width + "px";
    document.body.style.top = "-" + window_offset + "px";
    document.body.classList.add('hidden');
    header.style.display = "none";

}

function modalClose(e) {
    checkSize();
    var elem = e.target;
    while (!elem.classList.contains('modal')) {
        elem = elem.parentElement;
    }
    var modal_id = elem.id;
    document.getElementById(modal_id).style.display = "none";
    document.getElementById(modal_id).style.opacity = "0";
    document.body.style.marginRight = 0;
    header.style.marginRight = 0;
    document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
    document.body.classList.remove('hidden');
    window.scrollTo(0, window_offset);
    header.style.display = "block";
}

function takeUsedButton(e) {
    if (e.target.hasAttribute('data-trigger-ident') && $('.work_directions').length > 0) {
        document.getElementById('takes_used_button').value = e.target.getAttribute('data-trigger-ident')
    }
}



setModalButton()





function setModalAttribute() {
    var elem = document.querySelector('section.work_top_part .description a[href^="#"]');
    if (elem) {
        console.log('link exist');
        elem.setAttribute('data-modal-id', 'modal_order');
        elem.setAttribute('data-trigger-ident', 'vnutryak')
    }


}


setModalAttribute()




if (document.getElementById('tel_modal')) {
    document.getElementById('tel_modal').addEventListener('focus', showTelComment);
    document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
}

/**
 * show comment for tel form in modal window
 */
function showTelComment() {
    var tel_comment = document.querySelector('.tel_comment');
    tel_comment.style.visibility = "visible";
    tel_comment.style.opacity = "1";
}

function hideTelComment() {
    var tel_comment = document.querySelector('.tel_comment');
    tel_comment.style.visibility = "hidden";
    tel_comment.style.opacity = "0";
}
;
var window_offset;
var aspect_ratio = 1280 / 900;
var mark;
var version;
checkSize();
setDefaultVersion();

	$(window).on('resize', checkSize)

	
	function checkSize(){
		if (window.innerWidth / window.innerHeight > aspect_ratio) {
			mark = true;
			version = "desktop";
			
			
		} else  {
			mark = false;
			version = "tablet";
			
			
		}	
	}

	function setDefaultVersion(){
		if (mark) {			
			version = "desktop";			
			
		} else  {		
			version = "tablet";		
			
		}	
	}



(function () {
    'use strict';

    if ($('.work_content').length > 0) {

        $('body').css('overflow', 'auto')
    }





    // Show/hide footer on header in button click

    document.querySelector('#cont_btn').addEventListener('click', function (e) {
        e.preventDefault();
        $('footer').addClass('active');
    })

    document.querySelector('.footer_close').addEventListener('click', function () {
        $('footer').removeClass('active');
    })

    /* -----------------------------------------  Header ----------------------------------------- */




    /* Sliding header elems when page has loaded */



    function addTransitionClassToHeaderElems() {
        var header_elem = document.querySelectorAll('header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn ');
        for (var i = 0; i < header_elem.length; i++) {
            header_elem[i].classList.add('trans_right');
        }
    }


    function slideHeaderElems() {
        var header_elem = document.querySelectorAll('.trans_right');
        var i = 0;
        var interval = setInterval(function () {
            if (i < header_elem.length) {
                header_elem[i].classList.remove('trans_right');
                i++
            } else(clearInterval(interval))
        }, 300)
    }


    addTransitionClassToHeaderElems(); //this commented on the site
    slideHeaderElems(); //this commented on the site



    /**
     * show header lang onhover
     * @param {object} e [[lang elem]]
     */

    if (document.getElementsByClassName('tel_num').length > 0 && device.desktop()) {
        for (var i = 0; i < document.getElementsByClassName('tel_num').length; i++) {
            document.getElementsByClassName('tel_num')[i].addEventListener('mouseenter', showHeaderTel);
            document.getElementsByClassName('tel_num')[i].addEventListener('mouseleave', hideHeaderTel);
        }
    }


    function showHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].removeAttribute('hidden');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.add('active');
        document.querySelector('header .contacts .tel').classList.add('active');
    }

    function hideHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].setAttribute('hidden', '');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.remove('active');
        document.querySelector('header .contacts .tel').classList.remove('active');

    }


    /**
     * elem on tel header
     */
    function createElemsForTablets() {
        if (!device.desktop() && document.querySelector('header .contacts .tel')) {
            var area = document.createElement('div');
            document.querySelector('header .contacts .tel').appendChild(area);
            area.classList.add('correct_work_on_tablet');
        }
    }
    createElemsForTablets();


    /**
     * [show header tels on tablets]
     */
    function tabletHeaderTelToggle() {
        if (document.querySelector('.correct_work_on_tablet').classList.contains('active')) {
            document.querySelector('.correct_work_on_tablet').classList.remove('active');
            hideHeaderTel()
        } else {
            document.querySelector('.correct_work_on_tablet').classList.add('active');
            showHeaderTel()
        }
    }


    if (document.querySelector('.correct_work_on_tablet')) {
        document.querySelector('.correct_work_on_tablet').addEventListener('click', tabletHeaderTelToggle);
    }





    /**
     * show and hide header lists
     * @param {[[string]]} elem_class_name [name of class of list element]
     */
    function showElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.add('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].removeAttribute('hidden')
        }
    }

    function hideElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.remove('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].setAttribute('hidden', '')
        }
    }






    /**
     * for header menus
     * @param {object} e [clicked elem]
     */
    function checkTarget(e) {
        if (document.getElementsByClassName('lang').length > 0) {
            if (!e.target.classList.contains('lang') || (e.target.classList.contains('lang') && e.target.classList.contains('active'))) {
                if (e.target.classList.contains('lang')) {
                    e.target.classList.remove('active')
                }
                hideElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.remove('active')
                }
            } else if (e.target.classList.contains('lang')) {
                showElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.add('active')
                }
            }
        }
    }

    window.addEventListener('click', checkTarget);
    window.addEventListener('touchstart', checkTarget);



    /* ----------------------------------------- < HEADER ----------------------------------------- */



    /* ----------------------------------------- PLANETS > ----------------------------------------- */



    /**
     * add listeners for animated planets glowing
     */
    function manageGlowing() {
        var elem = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < elem.length; i++) {
            elem[i].addEventListener('mouseenter', showGlowing);
            elem[i].addEventListener('mouseleave', hideGlowing);
        }
    };
    manageGlowing();


    /**
     * create glowing across animated planets
     */
    function createGlowingPlanets() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var parent = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < img.length; i++) {
            var new_elem = document.createElement('div');
            new_elem.classList.add('glowing');
            parent[i].insertBefore(new_elem, img[i]);
        }
    };
    createGlowingPlanets();

    /**
     * tuning of glowing planets
     */
    function glowingPlanet() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img'),
            planet = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service .glowing');
        for (var i = 0; i < planet.length; i++) {
            planet[i].style.left = '5%';
            planet[i].style.top = img[i].offsetHeight / 4 + 'px';
            planet[i].style.width = '20%';
            planet[i].style.height = img[i].offsetHeight / 2 + 'px';
        }
    };
    glowingPlanet();

    function showGlowing(e) {
        e.target.querySelector(".glowing").classList.add('active');
    }

    function hideGlowing(e) {
        e.target.querySelector(".glowing").classList.remove('active');
    }


    /* ----------------------------------------- < PLANETS ----------------------------------------- */


    /* ----------------------------------------- HIGHSLIDE FIX > ----------------------------------------- */




    /**
     * [highslide run as modal window]
     */
    function bodyFixOn() {
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        document.querySelector('header').style.display = "none";
        addStyleForHighslide()
    }

    /* replace to highslide.js
    function bodyFixOut() {
         document.body.style.marginRight = 0;
         document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
         document.body.classList.remove('hidden');
         window.scrollTo(0, window_offset);
         document.body.removeChild(document.querySelector('.style_tag'))
     }*/


    /**
     * [calc height for slide depends on window height and add style on page]
     */
    function addStyleForHighslide() {
        var height = window.innerHeight - 30;
        var div = document.createElement('div');
        var style = document.createElement('style');
        document.body.appendChild(div);
        div.appendChild(style);
        div.classList.add('style_tag');
        var newtext = document.createTextNode('.highslide-container {position: fixed !important; overflow: auto !important; height: ' + height + 'px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}');
        style.appendChild(newtext);
    }
    /**
     * [on page 'works' add listener on links bounded with highslide module ]
     */
    function highSlidePopUp() {
        var slide_link = document.querySelectorAll('.work_content a.highslide');
        if (slide_link.length > 0) {
            for (var i = 0; i < slide_link.length; i++) {
                slide_link[i].addEventListener('click', bodyFixOn)
            }
        }
    };
    highSlidePopUp();

    /* ----------------------------------------- < HIGHSLIDE FIX ----------------------------------------- */



    /* ----------------------------------------- FORMS > ----------------------------------------- */

    if (document.getElementsByTagName('button')) {
        addButtonListener()
    }


    /**
     * listener for change color of invalid field
     */
    function addButtonListener() {
        var form_button = document.getElementsByTagName('button')
        for (var i = 0; i < form_button.length; i++) {
            form_button[i].addEventListener('click', changeInvalidColor)
        }
    }
    /**
     * change color of input form if there is wrong value
     * @param {object} e [get clicked element (search in it's parent)]
     */
    function changeInvalidColor(e) {
        var form_input = e.target.parentElement.getElementsByTagName('input');
        for (var i = 0; i < form_input.length; i++) {
            form_input[i].classList.add('valid')
        }
    }



    /* ----------------------------------------- < FORMS ----------------------------------------- */


    /* ----------------------------------------- OTHER > ----------------------------------------- */



    function createRedLine() {
        var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');

        if (title.length > 2) {
            for (var i = 0; i < title.length; i++) {
                var elem = document.createElement('div')
                var line = title[i].appendChild(elem);
                line.classList.add('thin_red_line');
            }
        }
    }

    createRedLine();


    /* ----------------------------------------- < OTHER ----------------------------------------- */


})();




var ScrollDirection = {

    getKeyCode: function (e) {
        if (e.keyCode == 40) {
            return 'down'
        } else if (e.keyCode == 38) {
            return 'up'
        }
    },

    getTouchCoord: function (e) {
        return e.touches[0].clientY
    },

    getSwipeDirection: function (e) {
        if (e.type == 'touchstart') {
            this.firstCoord = this.getTouchCoord(e);
            this.lastCoord = NaN;
        } else if (e.type == 'touchmove') {
            this.lastCoord = this.getTouchCoord(e);
        } else {
            if (this.lastCoord - this.firstCoord > GlobalVariables.touch_sensitivity) {
                return 'up';
            } else if (this.lastCoord - this.firstCoord < -GlobalVariables.touch_sensitivity) {
                return 'down';
            }
        }

    },

    getWheelDirection: function (e) {
        if (e.deltaY > 0) {
            return 'down'
        } else if (e.deltaY < 0) {
            return 'up'
        }
    },

    defineScrollDirection: function (e) {
        if (e.type == "keydown") {
            return this.getKeyCode(e);
        } else if (e.type == "touchstart" || e.type == "touchmove" || e.type == "touchend") {
            return this.getSwipeDirection(e);
        } else if (e.type == "wheel") {
            return this.getWheelDirection(e);
        }
    },
}




function fixBodyForSafari() {

    $('body').addClass('fix_for_safari');

}



function unfixBodyForSafari() {

    $('body').removeClass('fix_for_safari');

}


/* HEADER & FOOTER > */


function changeHeaderColor() {
    if ($("header").length > 0) {
        if (window.pageYOffset > 0) {
            showHeaderBg();
        } else {
            hideHeaderBg();
        }
    }
}

function showHeaderBg() {
    $('header .header_bg').css('opacity', '0.9');
}

function hideHeaderBg() {
    $('header .header_bg').css('opacity', '0');
}



function addHeaderContactButton() {
    if (window.innerWidth / window.innerHeight > aspect_ratio) {

        document.querySelector('#cont_btn').addEventListener('click', function (e) {
            e.preventDefault();
            $('footer').addClass('active');
        })

        document.querySelector('.footer_close').addEventListener('click', function (e) {
            e.preventDefault();
            $('footer').removeClass('active');
        })
    }

}

addHeaderContactButton();



function manageHeader() {
    if (window.innerWidth / window.innerHeight <= aspect_ratio || $('.work_content').length > 0) {
        unfixBodyForSafari();
        window.addEventListener('scroll', changeHeaderColor);
    } else {
        window.removeEventListener('scroll', changeHeaderColor);
    }
}

manageHeader();

function setFooterOffset() {
    if (window.innerWidth / window.innerHeight > aspect_ratio && $('.work_directions').length > 0 || $('.best_works_screen').length > 0) {
        $('footer').css('bottom', -$('footer').innerHeight());
    }
	else { $('footer').css('bottom', 0);}
}
setFooterOffset()

$(window).on('resize', setFooterOffset)



/* < HEADER & FOOTER */

;
(function () {
    'use strict';

    var window_offset;
    var head_nav_btn = document.querySelector('.toggle_btn');
    var lang_btn = document.querySelector('.lang_btn');
    var slider = document.getElementsByClassName('slider');
    var direction;
    var x1, x2;

    setModalButton();
    addListeners();




    /**
     * set modal button
     */
    function setModalButton() {
        for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
            document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('section.work_part a')) {
            document.querySelector('section.work_part a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
            document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
            document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
            document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
        }
    }




    /**
     * modal_window + smooth display
     */
    function modalOpen(e) {
        var index;
        if (e.target.classList.contains('submit_app_btn') || (!e.target.classList.contains('modal_resume') && !e.target.classList.contains('modal_comment') && e.target.tagName == 'A')) {
            index = 0;
        } else if (e.target.classList.contains('modal_resume')) {
            e.preventDefault();
            index = 1
        } else if (e.target.classList.contains('modal_comment')) {
            e.preventDefault();
            index = 2
        }

        document.getElementsByClassName('modal')[index].removeAttribute('hidden');
        document.getElementsByClassName('modal')[index].style.opacity = "1";
        window_offset = window.pageYOffset;
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
    }

    function modalClose(e) {
        var index;
        if (e.target.parentElement.parentElement.id == 'modal_order') {
            index = 0
        } else if (e.target.parentElement.parentElement.id == 'modal_resume') {
            index = 1
        } else if (e.target.parentElement.parentElement.id == 'modal_comment') {
            index = 2
        }
        document.getElementsByClassName('modal')[index].setAttribute('hidden', '');
        document.getElementsByClassName('modal')[index].style.opacity = "0";

        document.body.classList.remove('hidden');
        document.body.style.top = "0";
        window.scrollTo(0, window_offset);
    }


    /**
     * add listeners for toggle elements
     */
    function addListeners() {
        if (head_nav_btn) {
            head_nav_btn.addEventListener('click', toggleNav);
        }

        if (document.getElementById('tel_modal')) {
            document.getElementById('tel_modal').addEventListener('focus', showTelComment);
            document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
        }
    }

    /**
     * show/hide header nav
     */

    function toggleNav() {
        if (head_nav_btn.classList.contains('active')) {
            head_nav_btn.classList.remove('active');
            head_nav_btn.parentElement.querySelector('ul').setAttribute('hidden', '');
            head_nav_btn.parentElement.querySelector('ul').style.opacity = "0"

        } else {
            head_nav_btn.classList.add('active');
            head_nav_btn.parentElement.querySelector('ul').removeAttribute('hidden')
            head_nav_btn.parentElement.querySelector('ul').style.opacity = "1"
        }
    }



    /**
     * show comment for tel form in modal window
     */
    function showTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "visible";
        tel_comment.style.opacity = "1";
    }

    function hideTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "hidden";
        tel_comment.style.opacity = "0";
    }









    /**
     * set width of slider_wrapper
     */
    function setSliderWidth() {
        if (slider.length > 0) {
            for (var i = 1; i < slider.length; i++) {
                var slide = slider[i].getElementsByClassName('slide');

                slider[i].querySelector('.slides_wrapper').style.width = slide.length * 100 + '%';
                var full_width = slide.length * 100;
                for (var j = 0; j < slide.length; j++) {
                    slide[j].style.width = 100 / slide.length + '%';
                }


            }
        }
    }



    setSliderWidth()






    /* --------------------------------------------- sliders --------------------------------------------- */


    /**
     * slider: moving + arrow hiding;
     * @param {object} e [clicked element]
     */
    function sliderArrowMove(e) {
        var elem = e.target;
        console.log(e.target)
        if (!elem.classList.contains('slider')) {

            while (!elem.parentElement.classList.contains('slider')) {
                elem = elem.parentElement;

            }


            //    if (elem.parentElement.classList.contains('slider')) {





            var control = elem.parentElement.querySelector('input[type="hidden"]');
            var slide_index = parseInt(elem.parentElement.querySelector('.slide_index').getAttribute('data-slider'));
            var tick = parseInt(control.value);


            if (elem.getAttribute('data-direction') == 'right' || direction == 'left' && tick != 0) {
                control.value = tick - 1;
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(slide_index, 0);
                } else if (tick === (elem.parentElement.querySelectorAll('.slide').length - 2)) {
                    showSliderArrow(slide_index, 1);
                }
            } else if (elem.getAttribute('data-direction') == 'left' || direction == 'right' && tick != (elem.parentElement.querySelectorAll('.slide').length - 1)) {
                control.value = tick + 1;
                tick += 1;
                console.log(tick);
                if (tick == (elem.parentElement.querySelectorAll('.slide').length - 1)) {
                    hideSliderArrow(slide_index, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(slide_index, 0);
                }
            }
            var slides_wrapper = elem.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";


        }



    }


    /*
    
    
    function sliderArrowMove(e) {console.log(e.target);
                                 
                                 
                                 
                                 
                                 
        var control = e.target.parentElement.querySelector('input[type="hidden"]');
        var slide_index = parseInt(e.target.parentElement.querySelector('.slide_index').getAttribute('data-slider')) ;
        var tick = parseInt(control.value);


        if (e.target.getAttribute('data-direction') == 'right' || sliderTouch() == 'left') {
            control.value = tick - 1;
            tick -= 1;
            if (tick === 0) {

                hideSliderArrow(slide_index, 0);
            } else if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                showSliderArrow(slide_index, 1);
            }
        } else if (e.target.getAttribute('data-direction') == 'left' || sliderTouch() == 'right') {
            control.value = tick + 1;
            tick += 1;
            console.log(tick);
            if (tick == (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                hideSliderArrow(slide_index, 1);
            }
            if (tick >= 1) {
                showSliderArrow(slide_index, 0);
            }
        }
        var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        slides_wrapper.style.transform = "translateX(-" + tick * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";
                                 
                                 
                                 
                                 

    }

    
    */

    /* --------------------------------------------- events --------------------------------------------- */

    /**
     * add listener for arrows at sliders
     */
    function getArrows() {
        for (var i = 0; i < document.querySelectorAll('.slider .arrow').length; i++) {
            document.querySelectorAll('.slider .arrow')[i].addEventListener('click', sliderArrowMove);
        }
    }


    getArrows()



    /**
     * Hiding arrows when slides ends
     * @param {[[num]]} indexSlider [[index of slider on page]]
     * @param {[[num]]} indexArrow  [[index of arrow]]
     */

    function hideSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
        }

    }

    function showSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
        }
    }

    function checkIfSlidesExist() {
        for (var i = 0; i < slider.length; i++) {
            if (slider[i]) {
                hideSliderArrow(i, 0);
                if (slider[i].getElementsByClassName('slide').length < 2) {

                    hideSliderArrow(i, 1)
                }
            }
        }
    }
    checkIfSlidesExist()


    function sliderController() {
        for (var i = 0; i < slider.length; i++) {
            slider[i].querySelector('input[type="hidden"]').value = "0";
        }
    }


    sliderController()




    function sliderTouch() {
        for (var i = 0; i < slider.length; i++) {
            slider[i].addEventListener('touchstart', sliderTouchMove);
            slider[i].addEventListener('touchmove', sliderTouchMove)
            slider[i].addEventListener('touchend', sliderTouchMove);
        }

    }





    function sliderTouchMove(e) {

        if (e.type == "touchstart") {
            x1 = e.touches[0].clientX;
        } else if (e.type == "touchmove") {
            x2 = e.touches[0].clientX;
        } else if (e.type == "touchend") {
            calcTouchDifference(e)
        }
    }


    function calcTouchDifference(e) {
        direction = null;
        var difference = x1 - x2;
        if (x1 > x2 && difference > 10 && x2 !== 0) {
            direction = 'right';
            x1 = 0;
            x2 = 0;
        } else if (x2 > x1 && difference < -10) {
            direction = "left";
            x1 = 0;
            x2 = 0;
        }
        if (direction !== null) {
            sliderArrowMove(e)


        }
    }


    sliderTouch()
    
    
    function workCarouselSize() {
        var scr_wrap = document.querySelector('.screens_wrapper');
        if (scr_wrap) {
            scr_wrap.style.width = parseFloat(getComputedStyle(scr_wrap.querySelector('img')).width) * scr_wrap.querySelectorAll('img').length + 'px';
                               
                      }
        
        
    }
    workCarouselSize() 

    
 







})();
function showIndexPageSaparately() {
	 'use strict';
	if ($('.work_directions').length > 0) {

    /* INDEX PAGE ON WIDE SCREEN*/


   
	
	$(window).on('resize', checkVersion)
	
	function checkVersion(){
	if (mark && version == "tablet") {
			version = "desktop";	
			changeParameters();
		} else if (!mark && version == "desktop"){
			version = "tablet";
			changeParameters();
		}
	}

	function changeParameters() {
		GlobalVariables.screen_num = 1;
		translateFullScreen(screen_effect.scr1);
		removeAllClassesFromPortfolio();
		window.scrollTo(0,0);
  
	}
	



        fixBodyForSafari();

        var GlobalVariables = {
            transition_time: "700",
            screen_num: 1,          
            touch_sensitivity: 30,

        }

        var screen_effect = {
            scr1: "0",
            scr2: "-100%",
            scr3: "-200%",
            scr4: "-300%",
        }



        function addScrollListeners(funcName) {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    funcName(e);
                })
            }
        };

        addScrollListeners(pageScroll)



        function addTransitionTime(selector) {
            for (var i = 0; i < arguments.length; i++) {
                if (document.querySelector(arguments[i])) {
                    document.querySelector(arguments[i]).style.transition = GlobalVariables.transition_time + "ms";
                }
            }
        }

        addTransitionTime('.main_wrapper',
            '.single_work:nth-of-type(1)',
            '.single_work:nth-of-type(1) >div:nth-of-type(1)',
            '.single_work:nth-of-type(1) >div:nth-of-type(2)',
            '.single_work:nth-of-type(2)',
            '.single_work:nth-of-type(3)',
            '.single_work:nth-of-type(4)',
            '.single_work:nth-of-type(5) >div:nth-of-type(1)',
            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
            '.single_work:nth-of-type(6)');




        function pageScroll(e) {
            var direction = ScrollDirection.defineScrollDirection(e);
            if (direction == 'down') {
                if (mark) {
                    mark = false;
                    translateBody('down');
                    if (!GlobalVariables.screen_num == 2) {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    } else {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    }
                }
            } else if (direction == 'up' && GlobalVariables.screen_num > 1) {
                if (mark) {
                   mark = false;
                    translateBody('up');
                    if (!GlobalVariables.screen_num == 3) {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    } else {
                        setSecurityTrigger(GlobalVariables.transition_time * 2)
                    }
                }
            }
        }



        function setSecurityTrigger(time) {
            setTimeout(function () {
                mark = true;
            }, time)
        }






        //  

        function displayOn(selector) {
            for (var i = 0; i < arguments.length; i++) {
                document.querySelector(arguments[i]).style.display = "block"
            }

        }

        function displayOff(is_transit, transit_time, selector) {
            var time = transit_time || GlobalVariables.transition_time;

            function dOff() {
                for (var i = 2; i < arguments.length; i++) {
                    document.querySelector(arguments[i]).style.display = "none"
                }
            }
            var args = arguments;

            if (is_transit) {
                setTimeout(function () {
                    dOff.apply(null, args)
                }, time)
            } else {
                dOff.apply(null, arguments)
            }
        }

        function translateFullScreen(coord) {
            return document.querySelector('.main_wrapper').style.top = coord;
        }

        function addClass(classSelector, selector) {
            for (var i = 1; i < arguments.length; i++) {
                document.querySelector(arguments[i]).classList.add(classSelector);
            }
        }

        function removeClass(classSelector, selector) {
            for (var i = 1; i < arguments.length; i++) {
                document.querySelector(arguments[i]).classList.remove(classSelector);
            }
        }

        function setHeight(selector) {
            document.querySelector(selector).style.height = getHeight(selector) + 'px';
        }

        function getHeight(selector) {
            return document.querySelector(selector).offsetHeight
        }



        function removeAllClassesFromPortfolio() {
            var work = document.querySelectorAll('.single_work');
            for (var i = 1; i <= work.length; i++) {
                displayOff(true, false, '.single_work:nth-of-type(' + i + ')')
            }

            removeClass('active',
                '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                '.single_work:nth-of-type(1) >div:nth-of-type(2)',
                '.single_work:nth-of-type(2)',
                '.single_work:nth-of-type(3)',
                '.single_work:nth-of-type(4)',
                '.single_work:nth-of-type(5) >div:nth-of-type(1)',
                '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                '.single_work:nth-of-type(6)'
            );

            removeClass('remove',
                '.single_work:nth-of-type(1)',
                '.single_work:nth-of-type(2)',
                '.single_work:nth-of-type(3)',
                '.single_work:nth-of-type(4)',
                '.single_work:nth-of-type(5) >div:nth-of-type(2)');

        }




        function translateBody(direction) {


            if (direction == "down") {

                switch (GlobalVariables.screen_num) {

                    case 1:

                        translateFullScreen(screen_effect.scr2);

                        showUnderlinePlanets();

                        GlobalVariables.screen_num++;

                        break;

                    case 2:

                        translateFullScreen(screen_effect.scr3);

                        displayOn('.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)',
                            '.single_work:nth-of-type(4)');

                        setTimeout(function () {
                            addClass('active',
                                '.scroll_mouse',
                                '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                                '.single_work:nth-of-type(1) >div:nth-of-type(2)');

                        }, GlobalVariables.transition_time);

                        setTimeout(function () {
                            displayOn('.single_work:nth-of-type(1) .hover_logo');

                        }, GlobalVariables.transition_time * 2);

                        GlobalVariables.screen_num++;
                        break;

                    case 3:
                        addClass('active',
                            '.single_work:nth-of-type(2)');

                        GlobalVariables.screen_num++;
                        break;

                    case 4:
                        addClass('active',
                            '.single_work:nth-of-type(3)');

                        GlobalVariables.screen_num++;
                        break;

                    case 5:

                        addClass('remove',
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        addClass('active',
                            '.single_work:nth-of-type(4)');

                        displayOn('.single_work:nth-of-type(5)',
                            '.single_work:nth-of-type(6)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo',
                            '.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num++;
                        break;

                    case 6:
                        addClass('remove',
                            '.single_work:nth-of-type(4)');

                        addClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');


                        displayOff(true,
                            false,
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        displayOn('.single_work:nth-of-type(5) .hover_logo');

                        GlobalVariables.screen_num++;
                        break;

                    case 7:
                        addClass('remove',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                        addClass('active',
                            '.single_work:nth-of-type(6)',
                            '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        removeClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo');

                        manageNavArrows();

                        GlobalVariables.screen_num++;
                        break;

                    case 8:
                        translateFullScreen(screen_effect.scr4);

                        setHeight('.scroll_container_wrapper .scroll_block');

                        addClass('remove', '.scroll_mouse');

                        removeClass('active', '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        GlobalVariables.screen_num++;
                        break;

                    case 9:
                        document.querySelector('.scroll_marker').value = "true";
                        if (document.querySelector('.scroll_position').value == "end") {
                            addClass('active', 'footer');
                        }
                        break;



                }
            } else if (direction == "up") {

                switch (GlobalVariables.screen_num) {

                    case 1:
                        break;

                    case 2:
                        translateFullScreen(screen_effect.scr1);

                        GlobalVariables.screen_num--;
                        break;

                    case 3:
                        removeClass('active',
                            '.scroll_mouse',
                            '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                            '.single_work:nth-of-type(1) >div:nth-of-type(2)')

                        displayOff(true,
                            false,
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)',
                            '.single_work:nth-of-type(4)');

                        setTimeout(function () {
                            translateFullScreen(screen_effect.scr2);

                        }, GlobalVariables.transition_time)

                        showUnderlinePlanets();

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num--;
                        break;

                    case 4:
                        removeClass('active',
                            '.single_work:nth-of-type(2)');

                        GlobalVariables.screen_num--;
                        break;

                    case 5:

                        removeClass('active', '.single_work:nth-of-type(3)');

                        GlobalVariables.screen_num--;
                        break;

                    case 6:
                        removeClass('remove', '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        removeClass('active', '.single_work:nth-of-type(4)');

                        displayOff(true, false,
                            '.single_work:nth-of-type(5)',
                            '.single_work:nth-of-type(6)');

                        displayOn('.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num--;
                        break;

                    case 7:
                        removeClass('remove',
                            '.single_work:nth-of-type(4)');

                        removeClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOn('.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo');


                        GlobalVariables.screen_num--;
                        break;

                    case 8:
                        removeClass('remove',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                        removeClass('active',
                            '.single_work:nth-of-type(6)',
                            '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        addClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOn('.single_work:nth-of-type(5) .hover_logo');

                        GlobalVariables.screen_num--
                            break;

                    case 9:
                        document.querySelector('.scroll_marker').value = "";

                        if (document.querySelector('footer').classList.contains('active')) {

                            removeClass('active', 'footer');

                        } else if (document.querySelector('.scroll_container').style.transform == "translateY(0px)") {
                            document.querySelector('.scroll_marker').value = "";

                            translateFullScreen(screen_effect.scr3);

                            displayOn('.single_work:nth-of-type(5)',
                                '.single_work:nth-of-type(6)');

                            addClass('active',
                                '.single_work_full_bg',
                                '.works_arrows_wrapper',
                                'section.performed_works .main_h');

                            GlobalVariables.screen_num--;
                        } else {

                            document.querySelector('.scroll_marker').value = "true";
                        }

                        break;



                }
            }


        }









        /* PORT ARROWS > */

        function createNavArrows(inner_name, outer_name) {
            inner_name = $("<div>").addClass(inner_name);
            $(outer_name).append(inner_name);

        }

        createNavArrows('works_arrows_wrapper', 'section.performed_works');

        createNavArrows('up_arrow', '.works_arrows_wrapper');

        createNavArrows('down_arrow', '.works_arrows_wrapper');





        function manageNavArrows() {

            $('.works_arrows_wrapper').css('display', 'block');

            $('.works_arrows_wrapper .up_arrow').on('click', function () {
                if (GlobalVariables.screen_num > 2 && GlobalVariables.screen_num < 9) {
                    GlobalVariables.screen_num = 3;
                    translateBody('up');
                    removeAllClassesFromPortfolio();
                    removeClass('active',
                        '.single_work_full_bg',
                        '.works_arrows_wrapper',
                        'section.performed_works .main_h');
                }
            });

            $('.works_arrows_wrapper .down_arrow').on('click', function () {

                GlobalVariables.screen_num = 8;

                translateBody('down');

                addClass('active',
                    '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                    '.single_work:nth-of-type(1) >div:nth-of-type(2)',
                    '.single_work:nth-of-type(2)',
                    '.single_work:nth-of-type(3)',
                    '.single_work:nth-of-type(4)',
                    '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                    '.single_work:nth-of-type(6)');

                addClass('remove',
                    '.single_work:nth-of-type(1)',
                    '.single_work:nth-of-type(2)',
                    '.single_work:nth-of-type(3)',
                    '.single_work:nth-of-type(4)',
                    '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                removeClass('active',
                    '.single_work:nth-of-type(5) >div:nth-of-type(1)',
                    '.single_work_full_bg',
                    '.works_arrows_wrapper',
                    'section.performed_works .main_h');

            });

        }


        /* < PORT ARROWS */









        /* DEFAULT SETTINGS > */


        document.querySelector('.scroll_container').style.transform = "translateY(0px)";


        /* < DEFAULT SETTINGS */









        /* --------- --------- ---------  UNDERLINES > --------- --------- --------- */


        // last work
        $('.single_work:nth-of-type(6)').on('mouseenter', function () {
            $(this).find('div').addClass('active');
        })


        $('.single_work:nth-of-type(6)').on('mouseleave', function () {
            $(this).find('div').removeClass('active');
        })



        // headers
        var scroll_container_height = document.querySelector('.scroll_container').offsetHeight,
            window_height = window.innerHeight;


        function showRedLine() {
            var scrolled_distance_str = document.querySelector('.scroll_container').style.transform,
                scrolled_distance_num = parseInt(scrolled_distance_str.slice(scrolled_distance_str.indexOf('(') + 1)) * -1;
            if (GlobalVariables.screen_num == 3) {
                setTimeout(function () {
                    setUnderline('section.performed_works .main_h .thin_red_line', "100rem")
                }, GlobalVariables.transition_time)


            } else if (GlobalVariables.screen_num == 9) {
                //console.log(scrolled_distance_num + '' + scroll_container_height);

                if (scrolled_distance_num > 0) {
                    setUnderline('section.review .main_h .thin_red_line', "100rem")


                }
                if (scrolled_distance_num > scroll_container_height * 2 / 5) {
                    setUnderline('section.team .main_h .thin_red_line', "100rem")
                }


            }
        }


        function setUnderline(selector, size) {
            return document.querySelector(selector).style.width = size;


        }


        addScrollListeners(showRedLine);






        //planets
        var long_line = $('section.work_directions .lines .direct_line'),
            skew_line = long_line.find('.skew_line'),
            _1_circle = long_line.find('.first_circle'),
            _2_circle = long_line.find('.second_circle'),
            _3_circle = long_line.find('.third_circle');


        function hideUnderlinePlanets() {
            long_line.css('width', '0');
            skew_line.css('width', '0');
            _1_circle.css('opacity', '0');
            _2_circle.css('opacity', '0');
            _3_circle.css('opacity', '0');
        }

        hideUnderlinePlanets()

        function showUnderlinePlanets() {
            long_line.delay(700).animate({
                width: '205rem'
            }, 600);
            skew_line.delay(2100).animate({
                width: '55rem'
            }, 600)
            _1_circle.delay(1500).animate({
                opacity: '1'
            }, 200);
            _2_circle.delay(1300).animate({
                opacity: '1'
            }, 200);
            _3_circle.delay(1300).animate({
                opacity: '1'
            }, 200);
        }

        /* --------- --------- --------- < UNDERLINES --------- --------- --------- */









        /* --------- --------- ---------  HEADER & FOOTER > --------- --------- ---------  */

        /*  change color of fixed nav block when scrolled under nth px       */



        function changeHeaderColor() {
            if ($("header").length > 0) {
                if (GlobalVariables.screen_num > 1) {
                    showHeaderBg();
                } else {
                    hideHeaderBg();
                }
            }
        }

        window.addEventListener('touchstart', changeHeaderColor);
        window.addEventListener('wheel', changeHeaderColor);
        window.addEventListener('keydown', changeHeaderColor);






        // Scroll to position from header button 

        document.querySelector('#works_btn').addEventListener('click', function (e) {
            e.preventDefault();
            changeHeaderColor();
            removeClass('active', 'footer');
            if (GlobalVariables.screen_num > 8) {
                translateFullScreen(screen_effect.scr3);
                GlobalVariables.screen_num = 8;
            } else if (GlobalVariables.screen_num < 3) {
                GlobalVariables.screen_num = 2;
                translateBody('down');
            }
        })



        document.querySelector('#offers_btn').addEventListener('click', function (e) {
            e.preventDefault();
            changeHeaderColor();
            removeClass('active', 'footer');
            translateFullScreen(screen_effect.scr2);
            GlobalVariables.screen_num = 2;
            removeAllClassesFromPortfolio()
        })





        /* --------- --------- --------- < HEADER & FOOTER --------- --------- --------- */







        /* --------- --------- --------- PORTFOLIO HOVERS > --------- --------- --------- */


        var port = document.querySelectorAll('.dynamic_portfolio >div');

        function hoverShow(e) {

            e.target.querySelector('.hover_logo').classList.add('active');
        }

        function hoverHide(e) {
            e.target.querySelector('.hover_logo').classList.remove('active');
        }

        function goToWorkPage(e) {
            document.location.href = e.target.querySelector('a').getAttribute('href');
        }

        function addPortfolioListeners() {
            for (var i = 0; i < port.length - 1; i++) {
                if (i !== 0 && i !== 4) {
                    port[i].addEventListener('mouseenter', function (e) {
                        hoverShow(e)
                    });
                    port[i].addEventListener('mouseleave', function (e) {
                        hoverHide(e)
                    });
                    port[i].addEventListener('click', function (e) {
                        goToWorkPage(e)
                    });
                }

            }
        }

        addPortfolioListeners();

        function addHoverToWideImagesPortfolio(block_index) {
            for (var i = 0; i < arguments.length; i++) {
                port[arguments[i]].addEventListener('mouseenter',
                    function (e) {
                        hoverShow(e)
                    });

                port[arguments[i]].addEventListener('mouseleave',
                    function (e) {
                        hoverHide(e)
                    });
                port[arguments[i]].addEventListener('click',
                    function (e) {
                        goToWorkPage(e)
                    });
            }
        }

        addHoverToWideImagesPortfolio(0, 4);



        /* --------- --------- --------- PORTFOLIO HOVERS < --------- --------- --------- */


        /* ANCHOR FIX > */
        function checkLocation() {
            if (window.innerWidth / window.innerHeight > aspect_ratio && document.querySelector('.work_directions')) {
                var url = $(location).attr('href');

                if (url.indexOf('#') != -1) {
                    var from = url.indexOf('#');
                    if (url.indexOf('?') != -1) {
                        var to = url.indexOf('?');
                    }
                    var anchor = url.slice(from, to || url.length);

                    switch (anchor) {

                        case '#portfolio':

                            GlobalVariables.screen_num = 2;

                            translateBody('down');

                            changeHeaderColor();

                            showRedLine();

                            break;

                        case '#services':

                            GlobalVariables.screen_num = 1;

                            translateBody('down');

                            changeHeaderColor();

                            break;
                    }
                }
            }
        }

        checkLocation();

        /* < ANCHOR FIX  */
		
		$('.single_work:eq(5)').on('click', function(){
	 
			location.href="best_works.html"
		
		})






}

    
}


showIndexPageSaparately();

//window.addEventListener('resize', showIndexPageSaparately);

;
(function () {


    if (($('.work_directions').length > 0)) {

        var current_slider = $('section.team .slider'),
            wrapper = current_slider.find('.slides_wrapper'), // slides_wrapper
            slide = wrapper.find('.slide'), //slide_position
            amount = slide.length;


        function setWidthOnSliderElements() {

            wrapper.css('width', amount + "00%");
            slide.each(function () {
                $(this).css('width', 100 / (amount * 3) + '%')

            })
        }


        setWidthOnSliderElements();

        function setElemsAttr() {
            var slide_position = current_slider.find('.slide');
            if (slide_position[0]) {
                slide_position[0].setAttribute('data-slide-position', 'left');
            }
            if (slide_position[1]) {
                slide_position[1].setAttribute('data-slide-position', 'top');
            }
            if (slide_position[2]) {
                slide_position[2].setAttribute('data-slide-position', 'right');
            }
            if (slide_position[3]) {
                slide_position[3].setAttribute('data-slide-position', 'right_bottom');
            }
        }

        setElemsAttr()


        current_slider.find('.arrow').on('click', function (e) {
            manageSlider(e)
        })




        var tick = 0;


        function manageSlider(e) {




            var position, next, prev;
            if (e.target.getAttribute('data-direction') == 'right' && tick != 0) {
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(2, 0);
                }
                if (tick === (amount - 4)) {
                    showSliderArrow(2, 1);
                }
                for (var j = 0; j < amount; j++) {
                    position = slide[j].getAttribute('data-slide-position');

                    switch (position) {
                    case 'left_bottom':
                        slide[j].setAttribute('data-slide-position', 'left');
                        prev = slide[j].previousElementSibling;
                        break;
                    case 'left':
                        slide[j].setAttribute('data-slide-position', 'top');
                        break;
                    case 'top':
                        slide[j].setAttribute('data-slide-position', 'right')
                        break;
                    case 'right':
                        slide[j].setAttribute('data-slide-position', 'right_bottom');
                        break;
                    case 'right_bottom':
                        slide[j].removeAttribute('data-slide-position');
                        break;
                    }
                }

                if (prev) {
                    prev.setAttribute('data-slide-position', 'left_bottom');
                }
            } else if (e.target.getAttribute('data-direction') == 'left' && tick != (amount - 3)) {
                tick += 1;

                if (tick == (amount - 3)) {
                    hideSliderArrow(2, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(2, 0);
                }

                for (var j = 0; j < amount; j++) {
                    position = slide[j].getAttribute('data-slide-position');

                    switch (position) {
                    case 'left_bottom':
                        slide[j].removeAttribute('data-slide-position');
                        break;
                    case 'left':
                        slide[j].setAttribute('data-slide-position', 'left_bottom');
                        break;
                    case 'top':
                        slide[j].setAttribute('data-slide-position', 'left');
                        break;
                    case 'right':
                        slide[j].setAttribute('data-slide-position', 'top');
                        break;
                    case 'right_bottom':
                        slide[j].setAttribute('data-slide-position', 'right');
                        next = slide[j].nextElementSibling;
                        break;
                    }
                }

                if (next) {
                    next.setAttribute('data-slide-position', 'right_bottom');
                }
            }
            sliderArrowMove(e);

        }



        function sliderArrowMove(e) {
            var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / (amount * 3) + "%)";
        }


    }

})();
	    if (($('.work_directions').length > 0)) {

	        var slider = document.querySelectorAll('.slider');

	        function hideSliderArrow(indexSlider, indexArrow) {
	            if (slider[indexSlider]) {
	                slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
	            }

	        }

	        function showSliderArrow(indexSlider, indexArrow) {
	            if (slider[indexSlider]) {
	                slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
	            }
	        }



	        function hideArrowsByDefault() {
	            if (slider.length > 0) {
	                if (slider[1].getElementsByClassName('slide').length === 1) {
	                    hideSliderArrow(1, 1)
	                }
	                if (slider[2].getElementsByClassName('slide').length < 4 && slider[2].getElementsByClassName('slide').length > 1) {
	                    hideSliderArrow(2, 1)
	                }
	            }
	        }

	        hideArrowsByDefault()
	    }
;
(function () {

    'use strict';

    if (($('.work_directions').length > 0)) {

        var SliderPaginationSettings = {
            wrapper: function () {
                return this.current_slider.find('.slides_wrapper')
            },
            slide_arr: function () {
                return this.wrapper().find('.slide')
            },
            pag: function () {
                return this.current_slider.find('.pagination')
            },
            slides_amount: function () {
                return this.slide_arr().length
            }
        }

        SliderPaginationSettings.current_slider = $('section.full_screen_slider .slider');





        function createNav() {
            if (SliderPaginationSettings.slide_arr().length > 1 && SliderPaginationSettings.pag().length > 0) {
                for (var i = 0; i < SliderPaginationSettings.slides_amount(); i++) {
                    var new_elem = document.createElement('div');
                    new_elem.className = 'nav_item';
                    new_elem.setAttribute('data-slide-num', i);
                    SliderPaginationSettings.pag().find('>div').append(new_elem);
                }
            }
        };

        createNav()




        function addDefaultSettingsOnSlides() {
            SliderPaginationSettings.slide_arr()[0].classList.add('active'); //for fade in effect
            SliderPaginationSettings.slide_arr()[0].querySelector('.slide_content_wrapper').style.opacity = "1"; //for fade in effect
            if (SliderPaginationSettings.current_slider.find('.nav_item').length > 0) {
                SliderPaginationSettings.current_slider.find('.nav_item')[0].classList.add('active');
            }
        }


        addDefaultSettingsOnSlides()



        function setAttrOnSlides() {
            for (var i = 0; i < SliderPaginationSettings.slides_amount(); i++) {
                SliderPaginationSettings.slide_arr()[i].setAttribute('data-slide-num', i)
            }
        }
        setAttrOnSlides()


        function addPaginationListeners() {
            SliderPaginationSettings.current_slider.find('.nav_item').each(function () {
                this.addEventListener('click', function (e) {
                    sliderPagMove(e)
                });
            });
        }

        addPaginationListeners()



        /**
         * for slider with pagination
         * @param {object} slide_index [clicked element]
         */
        function sliderPagMove(ev) {
            end_animation_marker = false;
            var prev_index,
                active_slide,
                pag_index = ev.target.getAttribute('data-slide-num'),
                nav_item = ev.target.parentElement.getElementsByClassName('nav_item'),
                slide = ev.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="' + pag_index + '"]');
            for (var j = 0; j < nav_item.length; j++) {
                if (nav_item[j].classList.contains('active')) {
                    prev_index = j;
                    nav_item[j].classList.remove('active'); //change style of nav elem
                    active_slide = ev.target.parentElement.parentElement.parentElement.querySelectorAll('.slide')[prev_index];
                }
            }
            active_slide.classList.remove('active');
            active_slide.querySelector('.slide_content_wrapper').style.opacity = "0";
            ev.target.classList.add('active'); //change style of nav elem
            slide.classList.add('active'); //show slide
            slide.querySelector('.slide_content_wrapper').style.opacity = "1";
        }

    }
})();
;
(function () {


    'use strict';


    if ($('.work_directions').length > 0) {

        var current_slider = $('section.review .slider'),
            wrapper = current_slider.find('.slides_wrapper'),
            slide = wrapper.find('.slide'),
            amount = slide.length;


        function setWidthOnSliderElements() {

            wrapper.css('width', amount + "00%");
            slide.each(function () {
                $(this).css('width', 100 / amount + '%');

            });
        }



        setWidthOnSliderElements();




        /**
         * for slider with arrows where moving all slide: moving + arrow hiding;
         * @param {object} e [clicked element]
         */

        var tick = 0;


        function sliderArrowMove(e) {
            var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / amount + "%)";
        }


        function manageSlider(e) {
            if (e.target.getAttribute('data-direction') === 'right' && tick !== 0) {
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(1, 0);
                } else if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                    showSliderArrow(1, 1);
                }
            } else if (e.target.getAttribute('data-direction') === 'left' && tick !== (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                tick += 1;
                if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                    hideSliderArrow(1, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(1, 0);
                }
            }
            sliderArrowMove(e);
        }


        current_slider.find('.arrow').on('click', function (e) {
            manageSlider(e);
        })


    }
})();
var end_animation_marker = true;

function createSlideAnimation() { /* INDEX PAGE */



    'use strict';


    if ($('.work_directions').length > 0) {





        function animateGuys() {


            setTimeout(function () {
                moveOld();
            }, 1500)


        }


        var AnimationSettings = {
            fps: 20,
            transition_old: 1,
            transition_young: 1,
            frame_state: true,
        }



        var old = document.querySelector('.old_guy'),
            image_1 = "url(" + old.getAttribute('data-img-1') + ")",
            image_2 = "url(" + old.getAttribute('data-img-2') + ")";

        function moveOld() {

            if (AnimationSettings.frame_state) {
                old.style.backgroundImage = image_1;
                AnimationSettings.frame_state = false
            } else {
                old.style.backgroundImage = image_2;
                AnimationSettings.frame_state = true;
            }
            old.style.transform = "translateX(" + AnimationSettings.transition_old + "rem)";
            AnimationSettings.transition_old += (window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 100;
            setTimeout(function () {
                if (AnimationSettings.transition_old > (((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 3))) {
                    cancelAnimationFrame(moveOld);
                    document.querySelector('.old_guy .speak').classList.add('active');
                    AnimationSettings.frame_state = true;
                    showBtn();


                    return
                }
                requestAnimationFrame(moveOld);

            }, 1000 / AnimationSettings.fps);
        }


        var young = document.querySelector('.young_guy'),
            image_3 = "url(" + young.getAttribute('data-img-1') + ")",
            image_4 = "url(" + young.getAttribute('data-img-2') + ")";

        function moveYoung() {

            if (AnimationSettings.frame_state) {
                young.style.backgroundImage = image_3;
                AnimationSettings.frame_state = false
            } else {
                young.style.backgroundImage = image_4;
                AnimationSettings.frame_state = true;
            }
            young.style.transform = "translateX(" + AnimationSettings.transition_young + "rem)";
            AnimationSettings.transition_young += (window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 50;
            setTimeout(function () {
                if (AnimationSettings.transition_young > (((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 3))) {
                    cancelAnimationFrame(moveYoung);
                    document.querySelector('.young_guy .speak').classList.add('active');
                    setTimeout(function () {
                        if (end_animation_marker) {
                            autonomicSlider()
                        }
                    }, 3000);


                    return
                }
                requestAnimationFrame(moveYoung);

            }, 1000 / AnimationSettings.fps);
        }

        function setYoungPos() {
            document.querySelector('.young_guy').style.right = ((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 2) + 'px';
        }

        setYoungPos();


        function showBtn() {
            setTimeout(function () {
                document.querySelector('.slide_content .submit_app_btn').classList.add('active');
                showCaterpillar()
            }, 500)

        }

        function showCaterpillar() {
            setTimeout(function () {
                document.querySelector('.slide_content .icons_block').classList.add('active');
                showYoungGuy();
            }, 500)

        }

        function showYoungGuy() {
            document.querySelector('.young_guy').classList.add('active');
            moveYoung()
        }

        animateGuys();


        var slider_counter = 0,
            pag_slide = document.querySelectorAll('.full_screen_slider .slide');

        var slider_interval = setInterval(function () {
            if (slider_counter < pag_slide.length - 1) {
                sliderAutoMove(slider_counter, pag_slide);
                slider_counter++
            } else {
                sliderAutoMove(slider_counter, pag_slide);
                slider_counter = 0;
            }
        }, 7000)


        function sliderAutoMove(slider_counter, pag_slide) {
            var nav_item = document.querySelectorAll('.pagination .nav_item');
            if (slider_counter !== 0) {
                nav_item[slider_counter - 1].classList.remove('active');
                pag_slide[slider_counter - 1].classList.remove('active');
                pag_slide[slider_counter - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
            } else {
                nav_item[nav_item.length - 1].classList.remove('active');
                pag_slide[pag_slide.length - 1].classList.remove('active');
                pag_slide[pag_slide.length - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
            }
            nav_item[slider_counter].classList.add('active'); //change style of nav elem
            pag_slide[slider_counter].classList.add('active'); //show slide
            pag_slide[slider_counter].querySelector('.slide_content_wrapper').style.opacity = "1";
        }



        function autonomicSlider() {

            if (pag_slide.length > 0) {
                sliderAutoMove(slider_counter, pag_slide)

            }
        }



        function autoSliderStop() {
            for (var i = 0; i < document.querySelectorAll('.pagination .nav_item').length; i++) {
                document.querySelectorAll('.pagination .nav_item')[i].addEventListener('click', sliderStop)
            }
        }



        function sliderStop() {
            clearInterval(slider_interval)
        }


        autoSliderStop();

    }


}

createSlideAnimation();

 ;
 (function () {
     if (window.innerWidth / window.innerHeight <= aspect_ratio) {

         /**
          * total page height
          * @returns {num} [page_height]
          */
         function calcPageHeight() {
             if (header) {
                 var total = 0;
                 for (var i = 0; i < document.body.children.length; i++) {
                     total += document.body.children[i].offsetHeight;
                 }
                 total -= getHeaderHeight();
                 return total;
             }
         }

         /**
          * Define to what elem should scrolling in setTimeOut func 
          * first param: which elem I want to see 
          * second param: border when scrolling should stop (created additional element for fixed header offset)
          */
         function setScrollingArguments0() {
             elem_position = "0";
             elem_name = 'body'
         }

         function setScrollingArguments1() {

             elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
             elem_name = 'footer .invisible_scroll'
         }

         function setScrollingArguments2() {

             elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight - getHeaderHeight();
             elem_name = 'section.work_directions .invisible_scroll'
         }

         function setScrollingArguments3() {

             elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight + document.getElementsByClassName('work_directions')[0].offsetHeight - getHeaderHeight();
             elem_name = 'section.performed_works .invisible_scroll'
         }

         /**
          * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
          */
         function setElemForPropertyScrolling() {
             for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
                 document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
                 document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
             }
         }
         setElemForPropertyScrolling();

         function getHeaderHeight() {
             return header.offsetHeight;
         }




         /**
          * smooth scrolling 
          * @param {object} e [coord of clicked link from what is scrolling]
          * arguments --> look in "sizes" part, there is a points where scrolling stop
          * scrollIntoView(true): stop whete element on top of a page
          * last "if" mean "stop at the end of page"
          */
         function scrollingButtonAction(e) {
             var button_coord = e.pageY;
             e.preventDefault();
             var scroll_interval = setInterval(function scrolling() {
                 arguments[1] = elem_position;
                 console.log(arguments[1]);
                 arguments[2] = elem_name;
                 if (button_coord < arguments[1]) {
                     window.scrollBy(0, 70);
                     if (window.pageYOffset >= arguments[1]) {
                         clearInterval(scroll_interval);
                         document.querySelector(arguments[2]).scrollIntoView(true)
                     }
                     if (window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) {
                         console.log(window.pageYOffset);
                         console.log(document.documentElement.clientHeight);
                         console.log(document.body.offsetHeight);
                         clearInterval(scroll_interval)
                     }
                 } else if (button_coord > arguments[1]) {
                     window.scrollBy(0, -70);
                     if (window.pageYOffset <= arguments[1] + 70) {
                         clearInterval(scroll_interval);
                         document.querySelector(arguments[2]).scrollIntoView(true)
                     }
                 }
             }, 30);
         }



         function addListeners() {
             if (document.getElementById('logo_btn')) {
                 document.getElementById('logo_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('logo_btn').addEventListener('click', setScrollingArguments0);
             }
             if (document.getElementById('cont_btn')) {
                 document.getElementById('cont_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('cont_btn').addEventListener('click', setScrollingArguments1);
             }

             if (document.getElementById('offers_btn')) {
                 document.getElementById('offers_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('offers_btn').addEventListener('click', setScrollingArguments2);
             }
             if (document.getElementById('works_btn')) {
                 document.getElementById('works_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('works_btn').addEventListener('click', setScrollingArguments3);
             }
         }

         addListeners()


     }
 })();




    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if (header) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }

    var scroll_size = 70;
    var fps = 30;
    var elem_name, elem_position;



    /**
     * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
     */
    function setElemForPropertyScrolling() {
        for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
            document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
            document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
        }
    }
    setElemForPropertyScrolling();

    function getHeaderHeight() {
        return header.offsetHeight;
    }



    var cancel_condition, transition_size;

    function movePage() {

        if (cancel_condition()) {
            //  document.querySelector(elem_name).scrollIntoView(true);
            window.scrollTo(0, elem_position);
            cancelAnimationFrame(movePage);
            return
        }

        window.scrollBy(0, transition_size);
        setTimeout(function () {
            requestAnimationFrame(movePage);

        }, 1000 / fps)

    }



    function calcConditionCaseDown() {
        if ((window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) || (window.pageYOffset >= elem_position - scroll_size)) {
            return true
        } else {
            return false
        }
    }


    function calcConditionCaseUp() {
        if ((document.body.offsetHeight <= document.documentElement.clientHeight) || (window.pageYOffset <= elem_position + scroll_size)) {
            return true
        } else {
            return false
        }
    }


    /**
     * smooth scrolling 
     * @param {object} e [coord of clicked link from what is scrolling]
     * arguments --> look in "sizes" part, there is a points where scrolling stop
     * scrollIntoView(true): stop whete element on top of a page
     * last "if" mean "stop at the end of page"
     */
    function manageMoving(e) {

        var button_coord = e.pageY;
        e.preventDefault();
        if (button_coord < elem_position) {
            transition_size = scroll_size;
            cancel_condition = calcConditionCaseDown;
            movePage();




        } else if (button_coord > elem_position) {

            transition_size = -scroll_size;
            cancel_condition = calcConditionCaseUp;
            movePage();


        }
    }


    $('#works_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0) {
            e.preventDefault();
            elem_name = 'section.performed_works .invisible_scroll';
            elem_position = $(elem_name).parent().offset().top;
            manageMoving(e);
        } else if ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio)) {
            e.preventDefault();
            elem_name = 'section.performed_works .invisible_scroll';
            elem_position = document.querySelector('section.full_screen_slider').offsetHeight + document.querySelector('section.work_directions').offsetHeight - getHeaderHeight();
            manageMoving(e);
        }
    });

    $('#cont_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0 || ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio))) {
            e.preventDefault();
            elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
            elem_name = 'footer .invisible_scroll';
            manageMoving(e);
        }
    })

    $('#logo_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0 || ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio))) {
            e.preventDefault();
            elem_name = 'body';
            elem_position = "0";
            manageMoving(e);
        }

    })

    $('#offers_btn').on('click', function (e) {
        if ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio)) {
            e.preventDefault();
            elem_name = 'section.work_directions .invisible_scroll';
            elem_position = document.querySelector('section.full_screen_slider').offsetHeight - getHeaderHeight();
            manageMoving(e);
        }
    })





;
(function () {
    'use strict';
    /* INDEX PAGE ON THIN SCREEN*/




    function getHeaderHeight() {
        return $('header').outerHeight();
    }

    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if ($("header")) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }


    /*  Show red line below titles when page scrolling */

    function showRedLine() {
        var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');

        if (title.length > 2) {
            if (window.pageYOffset > (calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight) - (document.querySelector('section.team').offsetHeight * 2)) {
                document.querySelector('section.team .main_h .thin_red_line').style.width = "100rem";
            } else if (window.pageYOffset >
                (document.querySelector('.slide_content_wrapper').offsetHeight + document.querySelector('.performed_works').offsetHeight + document.querySelector('.work_directions').offsetHeight)) {
                document.querySelector('section.review .main_h .thin_red_line').style.width = "100rem";
            } else if (window.pageYOffset > (document.querySelector('.slide_content_wrapper').offsetHeight + (document.querySelector('.work_directions').offsetHeight / 2))) {
                document.querySelector('section.performed_works .main_h .thin_red_line').style.width = "100rem";
            }
        }
    }









    /* ----------------------------------------- PORTFOLIO > ----------------------------------------- */

    /**
     * [hover effect for portfolio]
     * @param {object} e [portfolio item]
     */
    function showPortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.add('active');
    }

    function hidePortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.remove('active');
    }

    function zoomInImg(e) {
        e.target.querySelector('img').classList.add('zoom_img')
    }

    function zoomOutImg(e) {
        e.target.querySelector('img').classList.remove('zoom_img')
    }

    /**
     * field with image in portfolio section becomes clickable (takes link from hover area) itself
     * @param {object} e [[direct project image]]
     */
    function goPortfolioLink(e) {
        if (e.target.tagName == 'IMG') {
            document.location.href = e.target.parentElement.getElementsByTagName('a')[0].getAttribute('href')
        } else {
            document.location.href = e.target.getElementsByTagName('a')[0].getAttribute('href')
        }
    }

    /* ----------------------------------------- < PORTFOLIO ----------------------------------------- */


    function addPortfolioListeners() {
        if (document.querySelectorAll('.portfolio >div').length > 0) {
            for (var i = 0; i < document.querySelectorAll('.portfolio >div').length; i++) {
                document.querySelectorAll('.portfolio >div')[i].addEventListener('click', goPortfolioLink);
                if (device.desktop()) {
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', showPortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', hidePortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', zoomInImg);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', zoomOutImg);
                } else {
                    document.querySelectorAll('.portfolio >div .hover_logo')[i].style.zIndex = "-1";
                }

            }
        }

    }





    function managePage() {
       // if (window.innerWidth / window.innerHeight <= aspect_ratio) {
          
            addPortfolioListeners();
            window.addEventListener('scroll', showRedLine);

       // } else {
          //  window.removeEventListener('scroll', showRedLine);

       // }
    }

    managePage()





  //  window.addEventListener('resize', managePage);




})();
var window_offset;

;



//for modal windows - create modal window with class "modal" and id, create trigger with "data-modal-id" attribute, with value is modal id. in func "set modal button" add trigger selector
(function () {
    'use strict';

    var element,
        elem_position,
        elem_name,
        wrapper,
        slides_wrapper,
        slide,
        slides_amount,
        pag,
        pag_index,
        slider,
        header,
        slider_interval,

        // window_offset,
        tick1 = 0,
        tick2 = 0;

    /* --------------------------------------------- calls --------------------------------------------- */

    callFunctions();
    addListeners();
    setSliderWidth();
    getArrows();
    getArrowsInParticularSlider();
    setModalButton();
    setElemForPropertyScrolling();
    createGlowingPlanets();
    glowingPlanet();
    manageGlowing();
    hideSliderArrow(1, 0);
    hideSliderArrow(2, 0);
    checkIfSlidesExist();
    highSlidePopUp();




    function callFunctions() {
        slider = document.getElementsByClassName('slider');
        header = document.getElementsByTagName('header')[0];
        if (slider.length > 0) {
            createNav(0);
        }
        if (header) {
            changeHeaderColor();
        }
        if (document.getElementsByClassName('slider')[2]) {
            setElemsAttr();
        }
    }

    /* --------------------------------------------- create elements --------------------------------------------- */

    /**
     * create pagination for slider and attr for slides
     * @param {number} slider_num [number of slider on page]
     */
    function createNav(slider_num) {
        wrapper = slider[slider_num].querySelector('.slides_wrapper');
        slide = wrapper.querySelectorAll('.slide');
        pag = slider[slider_num].querySelector('.pagination');
        slides_amount = slide.length;
        slide[0].classList.add('active'); //for fade in effect
        slide[0].querySelector('.slide_content_wrapper').style.opacity = "1"; //for fade in effect

        if (slide.length > 1 && pag) {
            for (var i = 0; i < slides_amount; i++) {
                var new_elem = document.createElement('div');
                new_elem.className = 'nav_item';
                new_elem.setAttribute('data-slide-num', i);
                new_elem.addEventListener('click', sliderMove);
                var full_elem = pag.querySelector('div').appendChild(new_elem) //.setAttribute('data-slide', i)
                ;
                slide[i].setAttribute('data-slide-num', i)
                if (i === 0) {
                    new_elem.classList.add('active');
                }
            }
        }
    };

    /**
     * set attr elems for slider with part slides
     */
    function setElemsAttr() {
        var slide_position = document.getElementsByClassName('slider')[2].querySelectorAll('.slide');
        if (slide_position[0]) {
            slide_position[0].setAttribute('data-slide-position', 'left');
        }
        if (slide_position[1]) {
            slide_position[1].setAttribute('data-slide-position', 'top');
        }
        if (slide_position[2]) {
            slide_position[2].setAttribute('data-slide-position', 'right');
        }
        if (slide_position[3]) {
            slide_position[3].setAttribute('data-slide-position', 'right_bottom');
        }
    }
    /**
     * create glowing across animated planets
     */
    function createGlowingPlanets() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var parent = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < img.length; i++) {
            var new_elem = document.createElement('div');
            new_elem.classList.add('glowing');
            parent[i].insertBefore(new_elem, img[i]);
        }
    }

    /**
     * Hiding arrows when slides ends
     * @param {[[num]]} indexSlider [[index of slider on page]]
     * @param {[[num]]} indexArrow  [[index of arrow]]
     */

    function hideSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
        }

    }

    function showSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
        }
    }

    function checkIfSlidesExist() {
        if (slider.length > 0) {
            if (slider[1].getElementsByClassName('slide').length === 1) {
                hideSliderArrow(1, 1)
            }
            if (slider[2].getElementsByClassName('slide').length < 4 && slider[2].getElementsByClassName('slide').length > 1) {
                hideSliderArrow(2, 1)
            }
        }
    }

    /**
     * elem on tel header
     */
    function createElemsForTablets() {
        if (!device.desktop() && document.querySelector('header .contacts .tel')) {
            var area = document.createElement('div');
            document.querySelector('header .contacts .tel').appendChild(area);
            area.classList.add('correct_work_on_tablet');
        }
    }
    /* --------------------------------------------- sizes --------------------------------------------- */



    /**
     * set width of slider_wrapper
     */
    function setSliderWidth() {
        if (slider.length > 0) {
            for (var i = 1; i < slider.length; i++) {
                slide = slider[i].getElementsByClassName('slide');
                var width = slide[0].offsetWidth;
                if (window.innerWidth > 1200) {
                    slider[i].querySelector('.slides_wrapper').style.width = width * slide.length + "rem"
                } else {
                    slider[i].querySelector('.slides_wrapper').style.width = (width /*n px*/ * Math.ceil((100 / window.innerWidth) * 1000) / 1000) /*n vw*/ * 1000 / 82 * slide.length + "rem";
                }
            }
        }
    }

    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if (header) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }

    /**
     * Define to what elem should scrolling in setTimeOut func 
     * first param: which elem I want to see 
     * second param: border when scrolling should stop (created additional element for fixed header offset)
     */
    function setScrollingArguments0() {
        elem_position = "0";
        elem_name = 'body'
    }

    function setScrollingArguments1() {

        elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
        elem_name = 'footer .invisible_scroll'
    }

    function setScrollingArguments2() {

        elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight - getHeaderHeight();
        elem_name = 'section.work_directions .invisible_scroll'
    }

    function setScrollingArguments3() {

        elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight + document.getElementsByClassName('work_directions')[0].offsetHeight - getHeaderHeight();
        elem_name = 'section.performed_works .invisible_scroll'
    }

    /**
     * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
     */
    function setElemForPropertyScrolling() {
        for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
            document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
            document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
        }
    }

    /**
     * get header height (for adaptivity)
     * @returns {[num]} [height of header]
     */
    function getHeaderHeight() {
        return header.offsetHeight;
    }

    /**
     * [calc height for slide depends on window height and add style on page]
     */
    function addStyleForHighslide() {
        var height = window.innerHeight - 30;
        var div = document.createElement('div');
        var style = document.createElement('style');
        document.body.appendChild(div);
        div.appendChild(style);
        div.classList.add('style_tag');
        var newtext = document.createTextNode('.highslide-container {position: fixed !important; overflow: auto !important; height: ' + height + 'px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}');
        style.appendChild(newtext);
    }

    /* --------------------------------------------- sliders --------------------------------------------- */

    /**
     * for slider with pagination
     * @param {object} slide_index [clicked element]
     */
    function sliderMove(slide_index) {
        var prev_index;
        var active_slide;
        pag_index = slide_index.target.getAttribute('data-slide-num');
        var nav_item = slide_index.target.parentElement.getElementsByClassName('nav_item');
        var slide = slide_index.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="' + pag_index + '"]');
        for (var j = 0; j < nav_item.length; j++) {
            if (nav_item[j].classList.contains('active')) {
                prev_index = j;
                nav_item[j].classList.remove('active'); //change style of nav elem
                active_slide = slide_index.target.parentElement.parentElement.parentElement.querySelectorAll('.slide')[prev_index];
            }
        }
        active_slide.classList.remove('active');
        active_slide.querySelector('.slide_content_wrapper').style.opacity = "0";
        slide_index.target.classList.add('active'); //change style of nav elem
        slide.classList.add('active'); //show slide
        slide.querySelector('.slide_content_wrapper').style.opacity = "1";
    }

    /**
     * for slider with arrows where moving all slide: moving + arrow hiding;
     * @param {object} e [clicked element]
     */
    function sliderArrowMove(e) {
        //checkWidth(e, 1);

        if (e.target.getAttribute('data-direction') == 'right' && tick1 != 0) {
            tick1 -= 1;
            if (tick1 === 0) {
                hideSliderArrow(1, 0);
            } else if (tick1 === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                showSliderArrow(1, 1);
            }
        } else if (e.target.getAttribute('data-direction') == 'left' && tick1 != (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
            tick1 += 1;
            if (tick1 == (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                hideSliderArrow(1, 1);
            }
            if (tick1 >= 1) {
                showSliderArrow(1, 0);
            }
        }
        slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        //var width = parseFloat(getComputedStyle(slides_wrapper.querySelector('.slide')).width);
        //slides_wrapper.style.right = tick1 * width + "px";
        slides_wrapper.style.transform = "translateX(-" + tick1 * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";

    }

    /**
     * for slider with arrows where moving part of slide + hiding arrows
     * @param {object} e [clicked element]
     */
    function sliderArrowMoveInParticularSlider(e) {
        //checkWidth(e, 3);
        slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        var slide_position = slides_wrapper.querySelectorAll('.slide'),
            next, prev;
        if (e.target.getAttribute('data-direction') == 'right' && tick2 != 0) {
            tick2 -= 1;
            if (tick2 === 0) {
                hideSliderArrow(2, 0);
            }
            if (tick2 === (e.target.parentElement.querySelectorAll('.slide').length - 4)) {
                showSliderArrow(2, 1);
            }
            for (var j = 0; j < slide_position.length; j++) {
                var position = slide_position[j].getAttribute('data-slide-position');
                if (position == 'right_bottom') {
                    slide_position[j].removeAttribute('data-slide-position');
                } else if (position == 'right') {
                    slide_position[j].setAttribute('data-slide-position', 'right_bottom');
                } else if (position == 'top') {
                    slide_position[j].setAttribute('data-slide-position', 'right')
                } else if (position == 'left') {
                    slide_position[j].setAttribute('data-slide-position', 'top');
                } else if (position == 'left_bottom') {
                    slide_position[j].setAttribute('data-slide-position', 'left');
                    prev = slide_position[j].previousElementSibling;
                }
            }
            if (prev) {
                prev.setAttribute('data-slide-position', 'left_bottom');
            }
        } else if (e.target.getAttribute('data-direction') == 'left' && tick2 != (e.target.parentElement.querySelectorAll('.slide').length - 3)) {
            tick2 += 1;

            if (tick2 == (e.target.parentElement.querySelectorAll('.slide').length - 3)) {
                hideSliderArrow(2, 1);
            }
            if (tick2 >= 1) {
                showSliderArrow(2, 0);
            }

            for (var j = 0; j < slide_position.length; j++) {
                var position = slide_position[j].getAttribute('data-slide-position');
                if (position == 'left_bottom') {
                    slide_position[j].removeAttribute('data-slide-position')
                } else if (position == 'left') {
                    slide_position[j].setAttribute('data-slide-position', 'left_bottom');
                } else if (position == 'top') {
                    slide_position[j].setAttribute('data-slide-position', 'left')
                } else if (position == 'right') {
                    slide_position[j].setAttribute('data-slide-position', 'top');
                } else if (position == 'right_bottom') {
                    slide_position[j].setAttribute('data-slide-position', 'right');
                    next = slide_position[j].nextElementSibling;
                }
            }
            if (next) {
                next.setAttribute('data-slide-position', 'right_bottom');
            }
        }
        //var width = parseFloat(getComputedStyle(slides_wrapper.querySelector('.slide')).width);
        //slides_wrapper.style.right = tick2 * width + "px";
        slides_wrapper.style.transform = "translateX(-" + tick2 * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";

    }

    /* --------------------------------------------- events --------------------------------------------- */

    /**
     * add listener for arrows at slider with arrows where moving all slide
     */
    function getArrows() {
        for (var i = 0; i < document.querySelectorAll('.review .slider .arrow').length; i++) {
            document.querySelectorAll('.review .slider .arrow')[i].addEventListener('click', sliderArrowMove)
        }
    }
    /**
     * add listener for arrows at slider with arrows where moving part of slide
     */
    function getArrowsInParticularSlider() {
        for (var i = 0; i < document.querySelectorAll('.team .slider .arrow').length; i++) {
            document.querySelectorAll('.team .slider .arrow')[i].addEventListener('click', sliderArrowMoveInParticularSlider)
        }
    }

    /**
     * set modal button
     */
    function setModalButton() {
        for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
            document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('section.work_top_part .bg_top .wrapper .description a')) {
            document.querySelector('section.work_top_part .bg_top .wrapper .description a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
            document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
            document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('footer .contacts >p >a')) {
            document.querySelector('footer .contacts >p >a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
            document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
        }
    }

    /**
     * for header menus
     * @param {object} e [clicked elem]
     */
    function checkTarget(e) {
        if (document.getElementsByClassName('lang').length > 0) {
            if (!e.target.classList.contains('lang') || (e.target.classList.contains('lang') && e.target.classList.contains('active'))) {
                if (e.target.classList.contains('lang')) {
                    e.target.classList.remove('active')
                }
                hideElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.remove('active')
                }
            } else if (e.target.classList.contains('lang')) {
                showElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.add('active')
                }
            }
        }
    }

    /**
     * add listeners for animated planets glowing
     */
    function manageGlowing() {
        var elem = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < elem.length; i++) {
            elem[i].addEventListener('mouseenter', showGlowing);
            elem[i].addEventListener('mouseleave', hideGlowing);
        }
    }

    /**
     * listener for change color of invalid field
     */
    function addButtonListener() {
        var form_button = document.getElementsByTagName('button')
        for (var i = 0; i < form_button.length; i++) {
            form_button[i].addEventListener('click', changeInvalidColor)
        }
    }

    /**
     * checking if element exist - add listener
     */
    function addListeners() {
        if (document.getElementById('logo_btn')) {
            document.getElementById('logo_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('logo_btn').addEventListener('click', setScrollingArguments0);
        }
        if (document.getElementById('cont_btn')) {
            document.getElementById('cont_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('cont_btn').addEventListener('click', setScrollingArguments1);
        }

        if (document.getElementById('offers_btn')) {
            document.getElementById('offers_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('offers_btn').addEventListener('click', setScrollingArguments2);
        }
        if (document.getElementById('works_btn')) {
            document.getElementById('works_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('works_btn').addEventListener('click', setScrollingArguments3);
        }
        if (document.getElementById('tel_modal')) {
            document.getElementById('tel_modal').addEventListener('focus', showTelComment);
            document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
        }
        if (document.getElementsByTagName('button')) {
            addButtonListener()
        }
        if (document.querySelectorAll('.portfolio >div').length > 0) {
            for (var i = 0; i < document.querySelectorAll('.portfolio >div').length; i++) {
                document.querySelectorAll('.portfolio >div')[i].addEventListener('click', goPortfolioLink);
                if (device.desktop()) {
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', showPortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', hidePortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', zoomInImg);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', zoomOutImg);
                } else {
                    document.querySelectorAll('.portfolio >div .hover_logo')[i].style.zIndex = "-1";
                }

            }
        }
        if (document.getElementsByClassName('tel_num').length > 0 && device.desktop()) {
            for (var i = 0; i < document.getElementsByClassName('tel_num').length; i++) {
                document.getElementsByClassName('tel_num')[i].addEventListener('mouseenter', showHeaderTel);
                document.getElementsByClassName('tel_num')[i].addEventListener('mouseleave', hideHeaderTel);
            }
        }
        createElemsForTablets();
        if (document.querySelector('.correct_work_on_tablet')) {
            document.querySelector('.correct_work_on_tablet').addEventListener('click', tabletHeaderTelToggle);
        }
    }

    /**
     * field with image in portfolio section becomes clickable (takes link from hover area) itself
     * @param {object} e [[direct project image]]
     */
    function goPortfolioLink(e) {
        if (e.target.tagName == 'IMG') {
            document.location.href = e.target.parentElement.getElementsByTagName('a')[0].getAttribute('href')
        } else {
            document.location.href = e.target.getElementsByTagName('a')[0].getAttribute('href')
        }
    }


    /**
     * [on page 'works' add listener on links bounded with highslide module ]
     */
    function highSlidePopUp() {
        var slide_link = document.querySelectorAll('.work_content a.highslide');
        if (slide_link.length > 0) {
            for (var i = 0; i < slide_link.length; i++) {
                slide_link[i].addEventListener('click', bodyFixOn)
            }
        }
    }


    window.addEventListener('click', checkTarget);
    window.addEventListener('scroll', changeHeaderColor);
    //window.addEventListener('resize', setSliderWidth);	
    window.addEventListener('resize', calcPageHeight);
    window.addEventListener('resize', glowingPlanet);


    /* --------------------------------------------- other functions --------------------------------------------- */

    /**
     * modal_window + smooth display
     */
    /*function modalOpen(e) {
        var index;
        if (e.target.classList.contains('submit_app_btn') || (!e.target.classList.contains('modal_resume') && !e.target.classList.contains('modal_comment') && e.target.tagName == 'A')) {
            index = 0;
        } else if (e.target.classList.contains('modal_resume')) {
            e.preventDefault();
            index = 1
        } else if (e.target.classList.contains('modal_comment')) {
            e.preventDefault();
            index = 2
        }
        document.getElementsByClassName('modal')[index].style.display = "block";
        var int = setInterval(function () {
            if ((getComputedStyle(document.getElementsByClassName('modal')[index]).opacity) < 0.98) {
                document.getElementsByClassName('modal')[index].style.opacity = +document.getElementsByClassName('modal')[index].style.opacity + 0.1;
            } else {
                clearInterval(int)
            }
        }, 30)


        document.body.style.marginRight = window.innerWidth - document.body.offsetWidth + "px";
        header.style.marginRight = window.innerWidth - document.body.offsetWidth + "px";
        document.body.style.width = "initial";
        document.body.classList.add('hidden');


    }

    function modalClose(e) {
        var index;
        if (e.target.parentElement.parentElement.parentElement.id == 'modal_order') {
            index = 0
        } else if (e.target.parentElement.parentElement.parentElement.id == 'modal_resume') {
            index = 1
        } else if (e.target.parentElement.parentElement.parentElement.id == 'modal_comment') {
            index = 2
        }
        document.getElementsByClassName('modal')[index].style.display = "none";
        document.getElementsByClassName('modal')[index].style.opacity = "0";
        document.body.style.marginRight = 0;
        header.style.marginRight = 0;
        document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
        document.body.classList.remove('hidden');
    }*/


    function modalOpen(e) {
        e.preventDefault();
        takeUsedButton(e);
        var modal_id = e.target.getAttribute('data-modal-id');

        document.getElementById(modal_id).style.display = "block";
        var int = setInterval(function () {
            if ((getComputedStyle(document.getElementById(modal_id)).opacity) < 0.98) {
                document.getElementById(modal_id).style.opacity = +document.getElementById(modal_id).style.opacity + 0.1;
            } else {
                clearInterval(int)
            }
        }, 30)
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        header.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        header.style.display = "none";


        // window.addEventListener('scroll', scrollBodySync)
    }

    function modalClose(e) {
        var elem = e.target;
        while (!elem.classList.contains('modal')) {
            elem = elem.parentElement;
        }
        var modal_id = elem.id;
        document.getElementById(modal_id).style.display = "none";
        document.getElementById(modal_id).style.opacity = "0";
        document.body.style.marginRight = 0;
        header.style.marginRight = 0;
        document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
        document.body.classList.remove('hidden');
        window.scrollTo(0, window_offset);
        header.style.display = "block";
        // window.removeEventListener('scroll', scrollBodySync)
    }



    /**
     * change color of fixed nav block when scrolled under nth px
     */
    function changeHeaderColor() {
        if (header) {
            if (window.pageYOffset > 0) {
                header.getElementsByClassName('header_bg')[0].style.opacity = "0.9";

            } else {
                header.getElementsByClassName('header_bg')[0].style.opacity = "0";

            }
        }
    }

    /**
     * smooth scrolling 
     * @param {object} e [coord of clicked link from what is scrolling]
     * arguments --> look in "sizes" part, there is a points where scrolling stop
     * scrollIntoView(true): stop whete element on top of a page
     * last "if" mean "stop at the end of page"
     */
    function scrollingButtonAction(e) {
        var button_coord = e.pageY;
        e.preventDefault();
        var scroll_interval = setInterval(function scrolling() {
            arguments[1] = elem_position;
            console.log(arguments[1]);
            arguments[2] = elem_name;
            if (button_coord < arguments[1]) {
                window.scrollBy(0, 70);
                if (window.pageYOffset >= arguments[1]) {
                    clearInterval(scroll_interval);
                    document.querySelector(arguments[2]).scrollIntoView(true)
                }
                if (window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) {
                    console.log(window.pageYOffset);
                    console.log(document.documentElement.clientHeight);
                    console.log(document.body.offsetHeight);
                    clearInterval(scroll_interval)
                }
            } else if (button_coord > arguments[1]) {
                window.scrollBy(0, -70);
                if (window.pageYOffset <= arguments[1] + 70) {
                    clearInterval(scroll_interval);
                    document.querySelector(arguments[2]).scrollIntoView(true)
                }
            }
        }, 30);
    }

    /**
     * show and hide header lists
     * @param {[[string]]} elem_class_name [name of class of list element]
     */
    function showElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.add('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].removeAttribute('hidden')
        }
    }

    function hideElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.remove('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].setAttribute('hidden', '')
        }
    }


    /**
     * tuning of glowing planets
     */
    function glowingPlanet() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var planet = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service .glowing');
        for (var i = 0; i < planet.length; i++) {
            planet[i].style.left = '5%';
            planet[i].style.top = img[i].offsetHeight / 4 + 'px';
            planet[i].style.width = '20%';
            planet[i].style.height = img[i].offsetHeight / 2 + 'px';
        }
    };

    function showGlowing(e) {
        e.target.querySelector(".glowing").classList.add('active');
    }

    function hideGlowing(e) {
        e.target.querySelector(".glowing").classList.remove('active');
    }

    /**
     * change color of input form if there is wrong value
     * @param {object} e [get clicked element (search in it's parent)]
     */
    function changeInvalidColor(e) {
        var form_input = e.target.parentElement.getElementsByTagName('input');
        for (var i = 0; i < form_input.length; i++) {
            form_input[i].classList.add('valid')
        }
    }

    /**
     * show comment for tel form in modal window
     */
    function showTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "visible";
        tel_comment.style.opacity = "1";
    }

    function hideTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "hidden";
        tel_comment.style.opacity = "0";
    }
    /**
     * [hover effect for portfolio]
     * @param {object} e [portfolio item]
     */
    function showPortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.add('active');
    }

    function hidePortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.remove('active');
    }

    /**
     * show header lang onhover
     * @param {object} e [[lang elem]]
     */

    function showHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].removeAttribute('hidden');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.add('active');
        document.querySelector('header .contacts .tel').classList.add('active');
    }

    function hideHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].setAttribute('hidden', '');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.remove('active');
        document.querySelector('header .contacts .tel').classList.remove('active');

    }

    /**
     * [highslide run as modal window]
     */
    function bodyFixOn() {
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        document.querySelector('header').style.display = "none";
        addStyleForHighslide()
    }

    /* replace to highslide.js
    function bodyFixOut() {
         document.body.style.marginRight = 0;
         document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
         document.body.classList.remove('hidden');
         window.scrollTo(0, window_offset);
         document.body.removeChild(document.querySelector('.style_tag'))
     }*/

    /**
     * [show header tels on tablets]
     */
    function tabletHeaderTelToggle() {
        if (document.querySelector('.correct_work_on_tablet').classList.contains('active')) {
            document.querySelector('.correct_work_on_tablet').classList.remove('active');
            hideHeaderTel()
        } else {
            document.querySelector('.correct_work_on_tablet').classList.add('active');
            showHeaderTel()
        }
    }




    /*
	
	
	
	
	


    $('.arrow_right').on('click', function () {
    	if (click_amount == 0) {
    		click_amount++;
    		if (ind == 0) {
    			ind = sliderPictures.length
    		}
    		ind--;
    		$('.off').remove();
    		$('.central_slide').before('<div class="prev_slide"></div>');
    		$('.prev_slide').css('background-image', sliderPictures[ind]);
    		$('.central_slide, .prev_slide').animate({
    			left: '100%',
    		});
    		$('.central_slide').addClass('off');
    		setTimeout(function () {
    			$('.central_slide').addClass('next_slide').removeClass('central_slide');
    			$('.prev_slide').addClass('central_slide').removeClass('prev_slide').css('left', 'initial');
    			click_amount = 0
    		}, 410)
    	}
    });
	
	
	
    var sli_com = document.getElementsByClassName('slider')[1];
    var sli_team = document.getElementsByClassName('slider')[2]
    var arr_l = sli_com.querySelector('.arrow.left');
    var arr_r = sli_com.querySelector('.arrow.right');
    arr_l.addEventListener('click', moveToRight);
    arr_r.addEventListener('click', moveToLeft);
	
	
	
    $('.arrow_left').on('click', function () {
    	if (click_amount == 0) {
    		click_amount++;
    		ind++;
    		if (ind == sliderPictures.length) {
    			ind = 0
    		}
    		$('.off').remove();
    		$('.central_slide').after('<div class="next_slide"></div>');
    		$('.next_slide').css('background-image', sliderPictures[ind]);
    		$('.central_slide, .next_slide').animate({
    			right: '100%',
    		});
    		$('.central_slide').addClass('off');
    		setTimeout(function () {
    			$('.central_slide').addClass('prev_slide').removeClass('central_slide');
    			$('.next_slide').addClass('central_slide').removeClass('next_slide').css('right', 'initial');
    			click_amount = 0
    		}, 410)
    	}
    });
	
    function moveToRight(e) {
    	var slide = e.target.parentElement.getElementsByClassName('slide');
    }
	
	
	
    function sliderVisibility() {
    	for (var i = 1; i<sli_com.getElementsByClassName('slide').length; i++ ) {
    		sli_com.getElementsByClassName('slide')[i].setAttribute('hidden', '')			
    	}
    		for (var i = 3; i<sli_team.getElementsByClassName('slide').length; i++ ) {
    		sli_team.getElementsByClassName('slide')[i].setAttribute('hidden', '')			
    	}	
    }
	
	
	
	
    */





    /*function checkWidth(e, slides_part_amount) {	if  (e.target.parentElement.querySelector('.slides_wrapper').offsetWidth < e.target.parentElement.querySelectorAll('.slide')[0].offsetWidth * e.target.parentElement.querySelectorAll('.slide').length / slides_part_amount ) {console.log('script didnt work last time');
	setSliderWidth()
}}*/





    /*function scrollBodySync(e) {console.log('sdf    ')
        //e.preventDefault()

       //console.log(window.pageYOffset);
       // document.body.style.marginTop = window.pageYOffset + "px";
    document.body.style.


    }*/









    /*
       
           hs.registerOverlay({
        html: '<div class=\"close_btn\" onclick=\"return hs.close(this)\" title=\"Close\"></div>',
        position: 'top right',
        fade: 2 // fading the semi-transparent overlay looks bad in IE
    });
       
       */


    /*  
    window.addEventListener('mousemove', 'checkSlideClosing')
    
    function checkSlideClosing() {
        if (document.querySelectorAll('.highslide-container table') > 0) {
        for(var i = 0; i < document.querySelectorAll('.highslide-container table') )
    if (document.querySelectorAll('.highslide-container table')) {
            bodyFixOut()
        }}

}*/


    function takeUsedButton(e) {
        if (e.target.hasAttribute('data-trigger-ident')) {
            document.getElementById('takes_used_button').value = e.target.getAttribute('data-trigger-ident')
        }
    }


    function setModalAttribute() {
        var elem = document.querySelector('section.work_top_part .description a[href^="#"]');
        if (elem) {
            console.log('link exist');
            elem.setAttribute('data-modal-id', 'modal_order');
            elem.setAttribute('data-trigger-ident', 'vnutryak')
        }


    }


    setModalAttribute()


    function zoomInImg(e) {
        e.target.querySelector('img').classList.add('zoom_img')
    }

    function zoomOutImg(e) {
        e.target.querySelector('img').classList.remove('zoom_img')
    }



    function autonomicSlider() {
        var slide = document.querySelectorAll('.full_screen_slider .slide');
        var i = 1;
        if (slide.length > 0) {
            slider_interval = setInterval(function () {
                if (i < slide.length - 1) {
                    sliderAutoMove(i);
                    i++
                } else {
                    sliderAutoMove(i);
                    i = 0;
                }
            }, 7000)
        }
    }


    function sliderAutoMove(i) {
        var slide = document.querySelectorAll('.full_screen_slider .slide');
        var nav_item = document.querySelectorAll('.pagination .nav_item');
        if (i !== 0) {
            nav_item[i - 1].classList.remove('active');
            slide[i - 1].classList.remove('active');
            slide[i - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
        } else {
            nav_item[nav_item.length - 1].classList.remove('active');
            slide[slide.length - 1].classList.remove('active');
            slide[slide.length - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
        }
        nav_item[i].classList.add('active'); //change style of nav elem
        slide[i].classList.add('active'); //show slide
        slide[i].querySelector('.slide_content_wrapper').style.opacity = "1";
    }



    function autoSliderStop() {
        for (var i = 0; i < document.querySelectorAll('.pagination .nav_item').length; i++) {
            document.querySelectorAll('.pagination .nav_item')[i].addEventListener('click', sliderStop)
        }
    }


    function sliderStop() {
        clearInterval(slider_interval)

    }




    autonomicSlider()
    autoSliderStop()

    
    
    /*new*/



    function slideDownHeaderElems() {

        var header_elem = document.querySelectorAll('header nav ul li');
        for (var i = 0; i < header_elem.length; i++) {
            header_elem[i].classList.add('up');
        }
        // document.querySelector('.tel').classList.add('up');
         //  document.querySelector('.submit_app_btn').classList.add('up');
            //  document.querySelector('.lang_btn').classList.add('up');
        console.log( document.querySelector('.tel'))
        
  
       


    }


    function slideDownElems() {
      
        var header_elem = document.querySelectorAll('.up');
        var i = 0;

        setInterval(function () {
            if (i < header_elem.length)

                header_elem[i].classList.remove('up');
            i++

        }, 500)



    }




    slideDownHeaderElems();

    slideDownElems();
    
     
    
    

    
    
    /*  new  */
    
    function showRedLine()  {
        if (window.pageYOffset > (calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight) - (document.querySelector('section.team').offsetHeight*2)) {
            console.log('dfg');
        document.querySelector('section.team .main_h .thin_red_line').style.width = "100rem";
            
        }
        
        
     
        
        
    }
    
    
    window.addEventListener('scroll', showRedLine)

    
    function createRedLine() { console.log('sdfg');
       var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');
        for (var i = 0; i < title.length; i++) {
            var elem = document.createElement('div')
            var line = title[i].appendChild(elem);
            line.classList.add('thin_red_line');
        }
        
        
    }
    
     createRedLine()



})();

function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);
for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();
var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),
document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){
var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),
window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),
manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}();
;
(function () {
    'use strict';
    if ($('.work_directions').length > 0) {

        var CustomScrollSettings = {
            wrapper_selector: '.scroll_container_wrapper',
            container_selector: '.scroll_container',
            container_step_size: 300,
            /* Amount of scrolling pictures */
            runner_step: 0, //don't touch
            runner_marker: true, //don't touch
            runner_selector: '.scroll_runner',
            step: 0, //don't touch
            marker: '.scroll_marker',
            scroll_position_trigger: true,
            scroll_position_selector: '.scroll_position',
            scroll_position: 'start',
        };


        function addScrollListeners() {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    pageScroll(e);
                })
            }
        };


        function pageScroll(e) {
            if (document.querySelector(CustomScrollSettings.marker).value) {
                CustomScrollSettings.direction = ScrollDirection.defineScrollDirection(e);
                ElementsMoving.containerMove();
                ElementsMoving.runnerMove();
            }
        }

        function setScrollPositionValue() {
            if (CustomScrollSettings.scroll_position_trigger) {
                document.querySelector(CustomScrollSettings.scroll_position_selector).value = CustomScrollSettings.scroll_position
            }
        }



        var ElementsDefinition = {

            container: function () {
                return document.querySelector(CustomScrollSettings.container_selector)
            },

            thumb: function () {
                return this.container().parentElement.querySelector(CustomScrollSettings.runner_selector)
            },

        }


        var ElementsSizes = {

            wrapper_height: function (elem) {
                return elem.parentElement.offsetHeight;
            },

            container_height: function (elem) {
                return elem.offsetHeight;
            },

            container_step_size: function () {
                return (100 * CustomScrollSettings.container_step_size / this.container_height(ElementsDefinition.container()))
            },

            runner_step_size: function () {
                return this.container_step_size()
            },

            setRunnerSize: function () {
                var container = ElementsDefinition.container();
                ElementsDefinition.thumb().style.height = 100 / this.container_height(container) * this.wrapper_height(container) + "%";
            },

        }


        var ScrollDirection = {

            getKeyCode: function (e) {
                if (e.keyCode == 40) {
                    return 'down'
                } else if (e.keyCode == 38) {
                    return 'up'
                }
            },

            getTouchCoord: function (e) {
                return e.touches[0].clientY
            },

            getSwipeDirection: function (e) {
                if (e.type == 'touchstart') {
                    this.firstCoord = this.getTouchCoord(e);
                } else if (e.type == 'touchmove') {
                    this.lastCoord = this.getTouchCoord(e);
                } else if (e.type == 'touchend') {
                    if (this.lastCoord - this.firstCoord > 10) {
                        return 'up';
                    } else if (this.lastCoord - this.firstCoord < -10) {
                        return 'down';
                    }
                }
            },

            getWheelDirection: function (e) {
                if (e.deltaY > 0) {
                    return 'down'
                } else if (e.deltaY < 0) {
                    return 'up'
                }
            },

            defineScrollDirection: function (e) {
                if (e.type == "keydown") {
                    return this.getKeyCode(e);
                } else if (e.type == "touchstart" || e.type == "touchmove" || e.type == "touchend") {
                    return this.getSwipeDirection(e);
                } else if (e.type == "wheel") {
                    return this.getWheelDirection(e);
                }
            },

        }


        var ElementsMoving = {


            runnerMove: function () {

                var direction = CustomScrollSettings.direction,
                    step_size = ElementsSizes.container_step_size(),
                    runner_marker = CustomScrollSettings.runner_marker,
                    thumb = ElementsDefinition.thumb(),
                    runner_step_size = ElementsSizes.runner_step_size();


                if (direction == 'down') { //-
                    if (runner_marker) {
                        CustomScrollSettings.runner_step += runner_step_size;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    } else {
                        CustomScrollSettings.runner_step = (100 - parseFloat(thumb.style.height));
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    }
                } else if (direction == 'up') { //+
                    if (runner_marker) {
                        CustomScrollSettings.runner_step -= runner_step_size;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    } else {
                        CustomScrollSettings.runner_step = 0;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    }
                }
            },


            containerMove: function () {
                var direction = CustomScrollSettings.direction,
                    step_size = CustomScrollSettings.container_step_size,
                    container = ElementsDefinition.container(),
                    wrapper_height = ElementsSizes.wrapper_height(container),
                    container_height = ElementsSizes.container_height(container);

                if (direction == 'down') {
                    if (container_height - wrapper_height + CustomScrollSettings.step > step_size) { //-  
                        CustomScrollSettings.runner_marker = true;
                        CustomScrollSettings.step -= step_size;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "";
                        setScrollPositionValue();
                    } else {
                        CustomScrollSettings.runner_marker = false;
                        container.style.transform = "translateY(-" + (container_height - wrapper_height) + "px)";
                        CustomScrollSettings.scroll_position = "end";
                        setScrollPositionValue();
                    }
                } else if (direction == 'up') {
                    if (CustomScrollSettings.step + step_size < 0) {
                        CustomScrollSettings.runner_marker = true;
                        CustomScrollSettings.step += step_size;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "";
                        setScrollPositionValue();
                    } else {
                        CustomScrollSettings.runner_marker = false;
                        CustomScrollSettings.step = 0;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "start";
                        setScrollPositionValue();
                    }
                }
            },

        }

        ElementsSizes.setRunnerSize();

        addScrollListeners();

    }

})();
/*! device.js 0.2.7 */
(function(){var a,b,c,d,e,f,g,h,i,j;b=window.device,a={},window.device=a,d=window.document.documentElement,j=window.navigator.userAgent.toLowerCase(),a.ios=function(){return a.iphone()||a.ipod()||a.ipad()},a.iphone=function(){return!a.windows()&&e("iphone")},a.ipod=function(){return e("ipod")},a.ipad=function(){return e("ipad")},a.android=function(){return!a.windows()&&e("android")},a.androidPhone=function(){return a.android()&&e("mobile")},a.androidTablet=function(){return a.android()&&!e("mobile")},a.blackberry=function(){return e("blackberry")||e("bb10")||e("rim")},a.blackberryPhone=function(){return a.blackberry()&&!e("tablet")},a.blackberryTablet=function(){return a.blackberry()&&e("tablet")},a.windows=function(){return e("windows")},a.windowsPhone=function(){return a.windows()&&e("phone")},a.windowsTablet=function(){return a.windows()&&e("touch")&&!a.windowsPhone()},a.fxos=function(){return(e("(mobile;")||e("(tablet;"))&&e("; rv:")},a.fxosPhone=function(){return a.fxos()&&e("mobile")},a.fxosTablet=function(){return a.fxos()&&e("tablet")},a.meego=function(){return e("meego")},a.cordova=function(){return window.cordova&&"file:"===location.protocol},a.nodeWebkit=function(){return"object"==typeof window.process},a.mobile=function(){return a.androidPhone()||a.iphone()||a.ipod()||a.windowsPhone()||a.blackberryPhone()||a.fxosPhone()||a.meego()},a.tablet=function(){return a.ipad()||a.androidTablet()||a.blackberryTablet()||a.windowsTablet()||a.fxosTablet()},a.desktop=function(){return!a.tablet()&&!a.mobile()},a.television=function(){var a;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],a=0;a<television.length;){if(e(television[a]))return!0;a++}return!1},a.portrait=function(){return window.innerHeight/window.innerWidth>1},a.landscape=function(){return window.innerHeight/window.innerWidth<1},a.noConflict=function(){return window.device=b,this},e=function(a){return-1!==j.indexOf(a)},g=function(a){var b;return b=new RegExp(a,"i"),d.className.match(b)},c=function(a){var b=null;g(a)||(b=d.className.replace(/^\s+|\s+$/g,""),d.className=b+" "+a)},i=function(a){g(a)&&(d.className=d.className.replace(" "+a,""))},a.ios()?a.ipad()?c("ios ipad tablet"):a.iphone()?c("ios iphone mobile"):a.ipod()&&c("ios ipod mobile"):a.android()?c(a.androidTablet()?"android tablet":"android mobile"):a.blackberry()?c(a.blackberryTablet()?"blackberry tablet":"blackberry mobile"):a.windows()?c(a.windowsTablet()?"windows tablet":a.windowsPhone()?"windows mobile":"desktop"):a.fxos()?c(a.fxosTablet()?"fxos tablet":"fxos mobile"):a.meego()?c("meego mobile"):a.nodeWebkit()?c("node-webkit"):a.television()?c("television"):a.desktop()&&c("desktop"),a.cordova()&&c("cordova"),f=function(){a.landscape()?(i("portrait"),c("landscape")):(i("landscape"),c("portrait"))},h=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(h,f,!1):window.attachEvent?window.attachEvent(h,f):window[h]=f,f(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:window.device=a}).call(this);

var header = document.getElementsByTagName('header')[0];



/**
 * set modal button
 */
function setModalButton() {
    for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
        document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
    }
    if (document.querySelector('section.work_top_part .bg_top .wrapper .description a')) {
        document.querySelector('section.work_top_part .bg_top .wrapper .description a').addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
        document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
        document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
    }
    if (document.querySelector('footer .contacts >p >a')) {
        document.querySelector('footer .contacts >p >a').addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
        document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
    }
}



function modalOpen(e) {
	mark = false;
    e.preventDefault();
    takeUsedButton(e);
    var modal_id = e.target.getAttribute('data-modal-id');

    document.getElementById(modal_id).style.display = "block";
    var int = setInterval(function () {
        if ((getComputedStyle(document.getElementById(modal_id)).opacity) < 0.98) {
            document.getElementById(modal_id).style.opacity = +document.getElementById(modal_id).style.opacity + 0.1;
        } else {
            clearInterval(int)
        }
    }, 30)
    var body_width = document.body.offsetWidth;
    window_offset = window.pageYOffset;
    document.body.style.marginRight = window.innerWidth - body_width + "px";
    header.style.marginRight = window.innerWidth - body_width + "px";
    document.body.style.width = body_width + "px";
    document.body.style.top = "-" + window_offset + "px";
    document.body.classList.add('hidden');
    header.style.display = "none";

}

function modalClose(e) {
    checkSize();
    var elem = e.target;
    while (!elem.classList.contains('modal')) {
        elem = elem.parentElement;
    }
    var modal_id = elem.id;
    document.getElementById(modal_id).style.display = "none";
    document.getElementById(modal_id).style.opacity = "0";
    document.body.style.marginRight = 0;
    header.style.marginRight = 0;
    document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
    document.body.classList.remove('hidden');
    window.scrollTo(0, window_offset);
    header.style.display = "block";
}

function takeUsedButton(e) {
    if (e.target.hasAttribute('data-trigger-ident') && $('.work_directions').length > 0) {
        document.getElementById('takes_used_button').value = e.target.getAttribute('data-trigger-ident')
    }
}



setModalButton()





function setModalAttribute() {
    var elem = document.querySelector('section.work_top_part .description a[href^="#"]');
    if (elem) {
        console.log('link exist');
        elem.setAttribute('data-modal-id', 'modal_order');
        elem.setAttribute('data-trigger-ident', 'vnutryak')
    }


}


setModalAttribute()




if (document.getElementById('tel_modal')) {
    document.getElementById('tel_modal').addEventListener('focus', showTelComment);
    document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
}

/**
 * show comment for tel form in modal window
 */
function showTelComment() {
    var tel_comment = document.querySelector('.tel_comment');
    tel_comment.style.visibility = "visible";
    tel_comment.style.opacity = "1";
}

function hideTelComment() {
    var tel_comment = document.querySelector('.tel_comment');
    tel_comment.style.visibility = "hidden";
    tel_comment.style.opacity = "0";
}
;
var window_offset;
var aspect_ratio = 1280 / 900;
var mark;
var version;
checkSize();
setDefaultVersion();

	$(window).on('resize', checkSize)

	
	function checkSize(){
		if (window.innerWidth / window.innerHeight > aspect_ratio) {
			mark = true;
			version = "desktop";
			
			
		} else  {
			mark = false;
			version = "tablet";
			
			
		}	
	}

	function setDefaultVersion(){
		if (mark) {			
			version = "desktop";			
			
		} else  {		
			version = "tablet";		
			
		}	
	}



(function () {
    'use strict';

    if ($('.work_content').length > 0) {

        $('body').css('overflow', 'auto')
    }





    // Show/hide footer on header in button click

    document.querySelector('#cont_btn').addEventListener('click', function (e) {
        e.preventDefault();
        $('footer').addClass('active');
    })

    document.querySelector('.footer_close').addEventListener('click', function () {
        $('footer').removeClass('active');
    })

    /* -----------------------------------------  Header ----------------------------------------- */




    /* Sliding header elems when page has loaded */



    function addTransitionClassToHeaderElems() {
        var header_elem = document.querySelectorAll('header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn ');
        for (var i = 0; i < header_elem.length; i++) {
            header_elem[i].classList.add('trans_right');
        }
    }


    function slideHeaderElems() {
        var header_elem = document.querySelectorAll('.trans_right');
        var i = 0;
        var interval = setInterval(function () {
            if (i < header_elem.length) {
                header_elem[i].classList.remove('trans_right');
                i++
            } else(clearInterval(interval))
        }, 300)
    }


    addTransitionClassToHeaderElems(); //this commented on the site
    slideHeaderElems(); //this commented on the site



    /**
     * show header lang onhover
     * @param {object} e [[lang elem]]
     */

    if (document.getElementsByClassName('tel_num').length > 0 && device.desktop()) {
        for (var i = 0; i < document.getElementsByClassName('tel_num').length; i++) {
            document.getElementsByClassName('tel_num')[i].addEventListener('mouseenter', showHeaderTel);
            document.getElementsByClassName('tel_num')[i].addEventListener('mouseleave', hideHeaderTel);
        }
    }


    function showHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].removeAttribute('hidden');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.add('active');
        document.querySelector('header .contacts .tel').classList.add('active');
    }

    function hideHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].setAttribute('hidden', '');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.remove('active');
        document.querySelector('header .contacts .tel').classList.remove('active');

    }


    /**
     * elem on tel header
     */
    function createElemsForTablets() {
        if (!device.desktop() && document.querySelector('header .contacts .tel')) {
            var area = document.createElement('div');
            document.querySelector('header .contacts .tel').appendChild(area);
            area.classList.add('correct_work_on_tablet');
        }
    }
    createElemsForTablets();


    /**
     * [show header tels on tablets]
     */
    function tabletHeaderTelToggle() {
        if (document.querySelector('.correct_work_on_tablet').classList.contains('active')) {
            document.querySelector('.correct_work_on_tablet').classList.remove('active');
            hideHeaderTel()
        } else {
            document.querySelector('.correct_work_on_tablet').classList.add('active');
            showHeaderTel()
        }
    }


    if (document.querySelector('.correct_work_on_tablet')) {
        document.querySelector('.correct_work_on_tablet').addEventListener('click', tabletHeaderTelToggle);
    }





    /**
     * show and hide header lists
     * @param {[[string]]} elem_class_name [name of class of list element]
     */
    function showElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.add('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].removeAttribute('hidden')
        }
    }

    function hideElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.remove('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].setAttribute('hidden', '')
        }
    }






    /**
     * for header menus
     * @param {object} e [clicked elem]
     */
    function checkTarget(e) {
        if (document.getElementsByClassName('lang').length > 0) {
            if (!e.target.classList.contains('lang') || (e.target.classList.contains('lang') && e.target.classList.contains('active'))) {
                if (e.target.classList.contains('lang')) {
                    e.target.classList.remove('active')
                }
                hideElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.remove('active')
                }
            } else if (e.target.classList.contains('lang')) {
                showElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.add('active')
                }
            }
        }
    }

    window.addEventListener('click', checkTarget);
    window.addEventListener('touchstart', checkTarget);



    /* ----------------------------------------- < HEADER ----------------------------------------- */



    /* ----------------------------------------- PLANETS > ----------------------------------------- */



    /**
     * add listeners for animated planets glowing
     */
    function manageGlowing() {
        var elem = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < elem.length; i++) {
            elem[i].addEventListener('mouseenter', showGlowing);
            elem[i].addEventListener('mouseleave', hideGlowing);
        }
    };
    manageGlowing();


    /**
     * create glowing across animated planets
     */
    function createGlowingPlanets() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var parent = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < img.length; i++) {
            var new_elem = document.createElement('div');
            new_elem.classList.add('glowing');
            parent[i].insertBefore(new_elem, img[i]);
        }
    };
    createGlowingPlanets();

    /**
     * tuning of glowing planets
     */
    function glowingPlanet() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img'),
            planet = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service .glowing');
        for (var i = 0; i < planet.length; i++) {
            planet[i].style.left = '5%';
            planet[i].style.top = img[i].offsetHeight / 4 + 'px';
            planet[i].style.width = '20%';
            planet[i].style.height = img[i].offsetHeight / 2 + 'px';
        }
    };
    glowingPlanet();

    function showGlowing(e) {
        e.target.querySelector(".glowing").classList.add('active');
    }

    function hideGlowing(e) {
        e.target.querySelector(".glowing").classList.remove('active');
    }


    /* ----------------------------------------- < PLANETS ----------------------------------------- */


    /* ----------------------------------------- HIGHSLIDE FIX > ----------------------------------------- */




    /**
     * [highslide run as modal window]
     */
    function bodyFixOn() {
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        document.querySelector('header').style.display = "none";
        addStyleForHighslide()
    }

    /* replace to highslide.js
    function bodyFixOut() {
         document.body.style.marginRight = 0;
         document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
         document.body.classList.remove('hidden');
         window.scrollTo(0, window_offset);
         document.body.removeChild(document.querySelector('.style_tag'))
     }*/


    /**
     * [calc height for slide depends on window height and add style on page]
     */
    function addStyleForHighslide() {
        var height = window.innerHeight - 30;
        var div = document.createElement('div');
        var style = document.createElement('style');
        document.body.appendChild(div);
        div.appendChild(style);
        div.classList.add('style_tag');
        var newtext = document.createTextNode('.highslide-container {position: fixed !important; overflow: auto !important; height: ' + height + 'px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}');
        style.appendChild(newtext);
    }
    /**
     * [on page 'works' add listener on links bounded with highslide module ]
     */
    function highSlidePopUp() {
        var slide_link = document.querySelectorAll('.work_content a.highslide');
        if (slide_link.length > 0) {
            for (var i = 0; i < slide_link.length; i++) {
                slide_link[i].addEventListener('click', bodyFixOn)
            }
        }
    };
    highSlidePopUp();

    /* ----------------------------------------- < HIGHSLIDE FIX ----------------------------------------- */



    /* ----------------------------------------- FORMS > ----------------------------------------- */

    if (document.getElementsByTagName('button')) {
        addButtonListener()
    }


    /**
     * listener for change color of invalid field
     */
    function addButtonListener() {
        var form_button = document.getElementsByTagName('button')
        for (var i = 0; i < form_button.length; i++) {
            form_button[i].addEventListener('click', changeInvalidColor)
        }
    }
    /**
     * change color of input form if there is wrong value
     * @param {object} e [get clicked element (search in it's parent)]
     */
    function changeInvalidColor(e) {
        var form_input = e.target.parentElement.getElementsByTagName('input');
        for (var i = 0; i < form_input.length; i++) {
            form_input[i].classList.add('valid')
        }
    }



    /* ----------------------------------------- < FORMS ----------------------------------------- */


    /* ----------------------------------------- OTHER > ----------------------------------------- */



    function createRedLine() {
        var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');

        if (title.length > 2) {
            for (var i = 0; i < title.length; i++) {
                var elem = document.createElement('div')
                var line = title[i].appendChild(elem);
                line.classList.add('thin_red_line');
            }
        }
    }

    createRedLine();


    /* ----------------------------------------- < OTHER ----------------------------------------- */


})();




var ScrollDirection = {

    getKeyCode: function (e) {
        if (e.keyCode == 40) {
            return 'down'
        } else if (e.keyCode == 38) {
            return 'up'
        }
    },

    getTouchCoord: function (e) {
        return e.touches[0].clientY
    },

    getSwipeDirection: function (e) {
        if (e.type == 'touchstart') {
            this.firstCoord = this.getTouchCoord(e);
            this.lastCoord = NaN;
        } else if (e.type == 'touchmove') {
            this.lastCoord = this.getTouchCoord(e);
        } else {
            if (this.lastCoord - this.firstCoord > GlobalVariables.touch_sensitivity) {
                return 'up';
            } else if (this.lastCoord - this.firstCoord < -GlobalVariables.touch_sensitivity) {
                return 'down';
            }
        }

    },

    getWheelDirection: function (e) {
        if (e.deltaY > 0) {
            return 'down'
        } else if (e.deltaY < 0) {
            return 'up'
        }
    },

    defineScrollDirection: function (e) {
        if (e.type == "keydown") {
            return this.getKeyCode(e);
        } else if (e.type == "touchstart" || e.type == "touchmove" || e.type == "touchend") {
            return this.getSwipeDirection(e);
        } else if (e.type == "wheel") {
            return this.getWheelDirection(e);
        }
    },
}




function fixBodyForSafari() {

    $('body').addClass('fix_for_safari');

}



function unfixBodyForSafari() {

    $('body').removeClass('fix_for_safari');

}


/* HEADER & FOOTER > */


function changeHeaderColor() {
    if ($("header").length > 0) {
        if (window.pageYOffset > 0) {
            showHeaderBg();
        } else {
            hideHeaderBg();
        }
    }
}

function showHeaderBg() {
    $('header .header_bg').css('opacity', '0.9');
}

function hideHeaderBg() {
    $('header .header_bg').css('opacity', '0');
}



function addHeaderContactButton() {
    if (window.innerWidth / window.innerHeight > aspect_ratio) {

        document.querySelector('#cont_btn').addEventListener('click', function (e) {
            e.preventDefault();
            $('footer').addClass('active');
        })

        document.querySelector('.footer_close').addEventListener('click', function (e) {
            e.preventDefault();
            $('footer').removeClass('active');
        })
    }

}

addHeaderContactButton();



function manageHeader() {
    if (window.innerWidth / window.innerHeight <= aspect_ratio || $('.work_content').length > 0) {
        unfixBodyForSafari();
        window.addEventListener('scroll', changeHeaderColor);
    } else {
        window.removeEventListener('scroll', changeHeaderColor);
    }
}

manageHeader();

function setFooterOffset() {
    if (window.innerWidth / window.innerHeight > aspect_ratio && $('.work_directions').length > 0 || $('.best_works_screen').length > 0) || $('.work_content').length > 0  {
        $('footer').css('bottom', -$('footer').innerHeight());
    }
	else { $('footer').css('bottom', 0);}
}
setFooterOffset()

$(window).on('resize', setFooterOffset)



/* < HEADER & FOOTER */

;
(function () {
    'use strict';

    var window_offset;
    var head_nav_btn = document.querySelector('.toggle_btn');
    var lang_btn = document.querySelector('.lang_btn');
    var slider = document.getElementsByClassName('slider');
    var direction;
    var x1, x2;

    setModalButton();
    addListeners();




    /**
     * set modal button
     */
    function setModalButton() {
        for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
            document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('section.work_part a')) {
            document.querySelector('section.work_part a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
            document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
            document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
            document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
        }
    }




    /**
     * modal_window + smooth display
     */
    function modalOpen(e) {
        var index;
        if (e.target.classList.contains('submit_app_btn') || (!e.target.classList.contains('modal_resume') && !e.target.classList.contains('modal_comment') && e.target.tagName == 'A')) {
            index = 0;
        } else if (e.target.classList.contains('modal_resume')) {
            e.preventDefault();
            index = 1
        } else if (e.target.classList.contains('modal_comment')) {
            e.preventDefault();
            index = 2
        }

        document.getElementsByClassName('modal')[index].removeAttribute('hidden');
        document.getElementsByClassName('modal')[index].style.opacity = "1";
        window_offset = window.pageYOffset;
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
    }

    function modalClose(e) {
        var index;
        if (e.target.parentElement.parentElement.id == 'modal_order') {
            index = 0
        } else if (e.target.parentElement.parentElement.id == 'modal_resume') {
            index = 1
        } else if (e.target.parentElement.parentElement.id == 'modal_comment') {
            index = 2
        }
        document.getElementsByClassName('modal')[index].setAttribute('hidden', '');
        document.getElementsByClassName('modal')[index].style.opacity = "0";

        document.body.classList.remove('hidden');
        document.body.style.top = "0";
        window.scrollTo(0, window_offset);
    }


    /**
     * add listeners for toggle elements
     */
    function addListeners() {
        if (head_nav_btn) {
            head_nav_btn.addEventListener('click', toggleNav);
        }

        if (document.getElementById('tel_modal')) {
            document.getElementById('tel_modal').addEventListener('focus', showTelComment);
            document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
        }
    }

    /**
     * show/hide header nav
     */

    function toggleNav() {
        if (head_nav_btn.classList.contains('active')) {
            head_nav_btn.classList.remove('active');
            head_nav_btn.parentElement.querySelector('ul').setAttribute('hidden', '');
            head_nav_btn.parentElement.querySelector('ul').style.opacity = "0"

        } else {
            head_nav_btn.classList.add('active');
            head_nav_btn.parentElement.querySelector('ul').removeAttribute('hidden')
            head_nav_btn.parentElement.querySelector('ul').style.opacity = "1"
        }
    }



    /**
     * show comment for tel form in modal window
     */
    function showTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "visible";
        tel_comment.style.opacity = "1";
    }

    function hideTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "hidden";
        tel_comment.style.opacity = "0";
    }









    /**
     * set width of slider_wrapper
     */
    function setSliderWidth() {
        if (slider.length > 0) {
            for (var i = 1; i < slider.length; i++) {
                var slide = slider[i].getElementsByClassName('slide');

                slider[i].querySelector('.slides_wrapper').style.width = slide.length * 100 + '%';
                var full_width = slide.length * 100;
                for (var j = 0; j < slide.length; j++) {
                    slide[j].style.width = 100 / slide.length + '%';
                }


            }
        }
    }



    setSliderWidth()






    /* --------------------------------------------- sliders --------------------------------------------- */


    /**
     * slider: moving + arrow hiding;
     * @param {object} e [clicked element]
     */
    function sliderArrowMove(e) {
        var elem = e.target;
        console.log(e.target)
        if (!elem.classList.contains('slider')) {

            while (!elem.parentElement.classList.contains('slider')) {
                elem = elem.parentElement;

            }


            //    if (elem.parentElement.classList.contains('slider')) {





            var control = elem.parentElement.querySelector('input[type="hidden"]');
            var slide_index = parseInt(elem.parentElement.querySelector('.slide_index').getAttribute('data-slider'));
            var tick = parseInt(control.value);


            if (elem.getAttribute('data-direction') == 'right' || direction == 'left' && tick != 0) {
                control.value = tick - 1;
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(slide_index, 0);
                } else if (tick === (elem.parentElement.querySelectorAll('.slide').length - 2)) {
                    showSliderArrow(slide_index, 1);
                }
            } else if (elem.getAttribute('data-direction') == 'left' || direction == 'right' && tick != (elem.parentElement.querySelectorAll('.slide').length - 1)) {
                control.value = tick + 1;
                tick += 1;
                console.log(tick);
                if (tick == (elem.parentElement.querySelectorAll('.slide').length - 1)) {
                    hideSliderArrow(slide_index, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(slide_index, 0);
                }
            }
            var slides_wrapper = elem.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";


        }



    }


    /*
    
    
    function sliderArrowMove(e) {console.log(e.target);
                                 
                                 
                                 
                                 
                                 
        var control = e.target.parentElement.querySelector('input[type="hidden"]');
        var slide_index = parseInt(e.target.parentElement.querySelector('.slide_index').getAttribute('data-slider')) ;
        var tick = parseInt(control.value);


        if (e.target.getAttribute('data-direction') == 'right' || sliderTouch() == 'left') {
            control.value = tick - 1;
            tick -= 1;
            if (tick === 0) {

                hideSliderArrow(slide_index, 0);
            } else if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                showSliderArrow(slide_index, 1);
            }
        } else if (e.target.getAttribute('data-direction') == 'left' || sliderTouch() == 'right') {
            control.value = tick + 1;
            tick += 1;
            console.log(tick);
            if (tick == (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                hideSliderArrow(slide_index, 1);
            }
            if (tick >= 1) {
                showSliderArrow(slide_index, 0);
            }
        }
        var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        slides_wrapper.style.transform = "translateX(-" + tick * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";
                                 
                                 
                                 
                                 

    }

    
    */

    /* --------------------------------------------- events --------------------------------------------- */

    /**
     * add listener for arrows at sliders
     */
    function getArrows() {
        for (var i = 0; i < document.querySelectorAll('.slider .arrow').length; i++) {
            document.querySelectorAll('.slider .arrow')[i].addEventListener('click', sliderArrowMove);
        }
    }


    getArrows()



    /**
     * Hiding arrows when slides ends
     * @param {[[num]]} indexSlider [[index of slider on page]]
     * @param {[[num]]} indexArrow  [[index of arrow]]
     */

    function hideSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
        }

    }

    function showSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
        }
    }

    function checkIfSlidesExist() {
        for (var i = 0; i < slider.length; i++) {
            if (slider[i]) {
                hideSliderArrow(i, 0);
                if (slider[i].getElementsByClassName('slide').length < 2) {

                    hideSliderArrow(i, 1)
                }
            }
        }
    }
    checkIfSlidesExist()


    function sliderController() {
        for (var i = 0; i < slider.length; i++) {
            slider[i].querySelector('input[type="hidden"]').value = "0";
        }
    }


    sliderController()




    function sliderTouch() {
        for (var i = 0; i < slider.length; i++) {
            slider[i].addEventListener('touchstart', sliderTouchMove);
            slider[i].addEventListener('touchmove', sliderTouchMove)
            slider[i].addEventListener('touchend', sliderTouchMove);
        }

    }





    function sliderTouchMove(e) {

        if (e.type == "touchstart") {
            x1 = e.touches[0].clientX;
        } else if (e.type == "touchmove") {
            x2 = e.touches[0].clientX;
        } else if (e.type == "touchend") {
            calcTouchDifference(e)
        }
    }


    function calcTouchDifference(e) {
        direction = null;
        var difference = x1 - x2;
        if (x1 > x2 && difference > 10 && x2 !== 0) {
            direction = 'right';
            x1 = 0;
            x2 = 0;
        } else if (x2 > x1 && difference < -10) {
            direction = "left";
            x1 = 0;
            x2 = 0;
        }
        if (direction !== null) {
            sliderArrowMove(e)


        }
    }


    sliderTouch()
    
    
    function workCarouselSize() {
        var scr_wrap = document.querySelector('.screens_wrapper');
        if (scr_wrap) {
            scr_wrap.style.width = parseFloat(getComputedStyle(scr_wrap.querySelector('img')).width) * scr_wrap.querySelectorAll('img').length + 'px';
                               
                      }
        
        
    }
    workCarouselSize() 

    
 







})();
function showIndexPageSaparately() {
	 'use strict';
	if ($('.work_directions').length > 0) {

    /* INDEX PAGE ON WIDE SCREEN*/


   
	
	$(window).on('resize', checkVersion)
	
	function checkVersion(){
	if (mark && version == "tablet") {
			version = "desktop";	
			changeParameters();
		} else if (!mark && version == "desktop"){
			version = "tablet";
			changeParameters();
		}
	}

	function changeParameters() {
		GlobalVariables.screen_num = 1;
		translateFullScreen(screen_effect.scr1);
		removeAllClassesFromPortfolio();
		window.scrollTo(0,0);
  
	}
	



        fixBodyForSafari();

        var GlobalVariables = {
            transition_time: "700",
            screen_num: 1,          
            touch_sensitivity: 30,

        }

        var screen_effect = {
            scr1: "0",
            scr2: "-100%",
            scr3: "-200%",
            scr4: "-300%",
        }



        function addScrollListeners(funcName) {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    funcName(e);
                })
            }
        };

        addScrollListeners(pageScroll)



        function addTransitionTime(selector) {
            for (var i = 0; i < arguments.length; i++) {
                if (document.querySelector(arguments[i])) {
                    document.querySelector(arguments[i]).style.transition = GlobalVariables.transition_time + "ms";
                }
            }
        }

        addTransitionTime('.main_wrapper',
            '.single_work:nth-of-type(1)',
            '.single_work:nth-of-type(1) >div:nth-of-type(1)',
            '.single_work:nth-of-type(1) >div:nth-of-type(2)',
            '.single_work:nth-of-type(2)',
            '.single_work:nth-of-type(3)',
            '.single_work:nth-of-type(4)',
            '.single_work:nth-of-type(5) >div:nth-of-type(1)',
            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
            '.single_work:nth-of-type(6)');




        function pageScroll(e) {
            var direction = ScrollDirection.defineScrollDirection(e);
            if (direction == 'down') {
                if (mark) {
                    mark = false;
                    translateBody('down');
                    if (!GlobalVariables.screen_num == 2) {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    } else {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    }
                }
            } else if (direction == 'up' && GlobalVariables.screen_num > 1) {
                if (mark) {
                   mark = false;
                    translateBody('up');
                    if (!GlobalVariables.screen_num == 3) {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    } else {
                        setSecurityTrigger(GlobalVariables.transition_time * 2)
                    }
                }
            }
        }



        function setSecurityTrigger(time) {
            setTimeout(function () {
                mark = true;
            }, time)
        }






        //  

        function displayOn(selector) {
            for (var i = 0; i < arguments.length; i++) {
                document.querySelector(arguments[i]).style.display = "block"
            }

        }

        function displayOff(is_transit, transit_time, selector) {
            var time = transit_time || GlobalVariables.transition_time;

            function dOff() {
                for (var i = 2; i < arguments.length; i++) {
                    document.querySelector(arguments[i]).style.display = "none"
                }
            }
            var args = arguments;

            if (is_transit) {
                setTimeout(function () {
                    dOff.apply(null, args)
                }, time)
            } else {
                dOff.apply(null, arguments)
            }
        }

        function translateFullScreen(coord) {
            return document.querySelector('.main_wrapper').style.top = coord;
        }

        function addClass(classSelector, selector) {
            for (var i = 1; i < arguments.length; i++) {
                document.querySelector(arguments[i]).classList.add(classSelector);
            }
        }

        function removeClass(classSelector, selector) {
            for (var i = 1; i < arguments.length; i++) {
                document.querySelector(arguments[i]).classList.remove(classSelector);
            }
        }

        function setHeight(selector) {
            document.querySelector(selector).style.height = getHeight(selector) + 'px';
        }

        function getHeight(selector) {
            return document.querySelector(selector).offsetHeight
        }



        function removeAllClassesFromPortfolio() {
            var work = document.querySelectorAll('.single_work');
            for (var i = 1; i <= work.length; i++) {
                displayOff(true, false, '.single_work:nth-of-type(' + i + ')')
            }

            removeClass('active',
                '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                '.single_work:nth-of-type(1) >div:nth-of-type(2)',
                '.single_work:nth-of-type(2)',
                '.single_work:nth-of-type(3)',
                '.single_work:nth-of-type(4)',
                '.single_work:nth-of-type(5) >div:nth-of-type(1)',
                '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                '.single_work:nth-of-type(6)'
            );

            removeClass('remove',
                '.single_work:nth-of-type(1)',
                '.single_work:nth-of-type(2)',
                '.single_work:nth-of-type(3)',
                '.single_work:nth-of-type(4)',
                '.single_work:nth-of-type(5) >div:nth-of-type(2)');

        }




        function translateBody(direction) {


            if (direction == "down") {

                switch (GlobalVariables.screen_num) {

                    case 1:

                        translateFullScreen(screen_effect.scr2);

                        showUnderlinePlanets();

                        GlobalVariables.screen_num++;

                        break;

                    case 2:

                        translateFullScreen(screen_effect.scr3);

                        displayOn('.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)',
                            '.single_work:nth-of-type(4)');

                        setTimeout(function () {
                            addClass('active',
                                '.scroll_mouse',
                                '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                                '.single_work:nth-of-type(1) >div:nth-of-type(2)');

                        }, GlobalVariables.transition_time);

                        setTimeout(function () {
                            displayOn('.single_work:nth-of-type(1) .hover_logo');

                        }, GlobalVariables.transition_time * 2);

                        GlobalVariables.screen_num++;
                        break;

                    case 3:
                        addClass('active',
                            '.single_work:nth-of-type(2)');

                        GlobalVariables.screen_num++;
                        break;

                    case 4:
                        addClass('active',
                            '.single_work:nth-of-type(3)');

                        GlobalVariables.screen_num++;
                        break;

                    case 5:

                        addClass('remove',
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        addClass('active',
                            '.single_work:nth-of-type(4)');

                        displayOn('.single_work:nth-of-type(5)',
                            '.single_work:nth-of-type(6)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo',
                            '.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num++;
                        break;

                    case 6:
                        addClass('remove',
                            '.single_work:nth-of-type(4)');

                        addClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');


                        displayOff(true,
                            false,
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        displayOn('.single_work:nth-of-type(5) .hover_logo');

                        GlobalVariables.screen_num++;
                        break;

                    case 7:
                        addClass('remove',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                        addClass('active',
                            '.single_work:nth-of-type(6)',
                            '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        removeClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo');

                        manageNavArrows();

                        GlobalVariables.screen_num++;
                        break;

                    case 8:
                        translateFullScreen(screen_effect.scr4);

                        setHeight('.scroll_container_wrapper .scroll_block');

                        addClass('remove', '.scroll_mouse');

                        removeClass('active', '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        GlobalVariables.screen_num++;
                        break;

                    case 9:
                        document.querySelector('.scroll_marker').value = "true";
                        if (document.querySelector('.scroll_position').value == "end") {
                            addClass('active', 'footer');
                        }
                        break;



                }
            } else if (direction == "up") {

                switch (GlobalVariables.screen_num) {

                    case 1:
                        break;

                    case 2:
                        translateFullScreen(screen_effect.scr1);

                        GlobalVariables.screen_num--;
                        break;

                    case 3:
                        removeClass('active',
                            '.scroll_mouse',
                            '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                            '.single_work:nth-of-type(1) >div:nth-of-type(2)')

                        displayOff(true,
                            false,
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)',
                            '.single_work:nth-of-type(4)');

                        setTimeout(function () {
                            translateFullScreen(screen_effect.scr2);

                        }, GlobalVariables.transition_time)

                        showUnderlinePlanets();

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num--;
                        break;

                    case 4:
                        removeClass('active',
                            '.single_work:nth-of-type(2)');

                        GlobalVariables.screen_num--;
                        break;

                    case 5:

                        removeClass('active', '.single_work:nth-of-type(3)');

                        GlobalVariables.screen_num--;
                        break;

                    case 6:
                        removeClass('remove', '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        removeClass('active', '.single_work:nth-of-type(4)');

                        displayOff(true, false,
                            '.single_work:nth-of-type(5)',
                            '.single_work:nth-of-type(6)');

                        displayOn('.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num--;
                        break;

                    case 7:
                        removeClass('remove',
                            '.single_work:nth-of-type(4)');

                        removeClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOn('.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo');


                        GlobalVariables.screen_num--;
                        break;

                    case 8:
                        removeClass('remove',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                        removeClass('active',
                            '.single_work:nth-of-type(6)',
                            '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        addClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOn('.single_work:nth-of-type(5) .hover_logo');

                        GlobalVariables.screen_num--
                            break;

                    case 9:
                        document.querySelector('.scroll_marker').value = "";

                        if (document.querySelector('footer').classList.contains('active')) {

                            removeClass('active', 'footer');

                        } else if (document.querySelector('.scroll_container').style.transform == "translateY(0px)") {
                            document.querySelector('.scroll_marker').value = "";

                            translateFullScreen(screen_effect.scr3);

                            displayOn('.single_work:nth-of-type(5)',
                                '.single_work:nth-of-type(6)');

                            addClass('active',
                                '.single_work_full_bg',
                                '.works_arrows_wrapper',
                                'section.performed_works .main_h');

                            GlobalVariables.screen_num--;
                        } else {

                            document.querySelector('.scroll_marker').value = "true";
                        }

                        break;



                }
            }


        }









        /* PORT ARROWS > */

        function createNavArrows(inner_name, outer_name) {
            inner_name = $("<div>").addClass(inner_name);
            $(outer_name).append(inner_name);

        }

        createNavArrows('works_arrows_wrapper', 'section.performed_works');

        createNavArrows('up_arrow', '.works_arrows_wrapper');

        createNavArrows('down_arrow', '.works_arrows_wrapper');





        function manageNavArrows() {

            $('.works_arrows_wrapper').css('display', 'block');

            $('.works_arrows_wrapper .up_arrow').on('click', function () {
                if (GlobalVariables.screen_num > 2 && GlobalVariables.screen_num < 9) {
                    GlobalVariables.screen_num = 3;
                    translateBody('up');
                    removeAllClassesFromPortfolio();
                    removeClass('active',
                        '.single_work_full_bg',
                        '.works_arrows_wrapper',
                        'section.performed_works .main_h');
                }
            });

            $('.works_arrows_wrapper .down_arrow').on('click', function () {

                GlobalVariables.screen_num = 8;

                translateBody('down');

                addClass('active',
                    '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                    '.single_work:nth-of-type(1) >div:nth-of-type(2)',
                    '.single_work:nth-of-type(2)',
                    '.single_work:nth-of-type(3)',
                    '.single_work:nth-of-type(4)',
                    '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                    '.single_work:nth-of-type(6)');

                addClass('remove',
                    '.single_work:nth-of-type(1)',
                    '.single_work:nth-of-type(2)',
                    '.single_work:nth-of-type(3)',
                    '.single_work:nth-of-type(4)',
                    '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                removeClass('active',
                    '.single_work:nth-of-type(5) >div:nth-of-type(1)',
                    '.single_work_full_bg',
                    '.works_arrows_wrapper',
                    'section.performed_works .main_h');

            });

        }


        /* < PORT ARROWS */









        /* DEFAULT SETTINGS > */


        document.querySelector('.scroll_container').style.transform = "translateY(0px)";


        /* < DEFAULT SETTINGS */









        /* --------- --------- ---------  UNDERLINES > --------- --------- --------- */


        // last work
        $('.single_work:nth-of-type(6)').on('mouseenter', function () {
            $(this).find('div').addClass('active');
        })


        $('.single_work:nth-of-type(6)').on('mouseleave', function () {
            $(this).find('div').removeClass('active');
        })



        // headers
        var scroll_container_height = document.querySelector('.scroll_container').offsetHeight,
            window_height = window.innerHeight;


        function showRedLine() {
            var scrolled_distance_str = document.querySelector('.scroll_container').style.transform,
                scrolled_distance_num = parseInt(scrolled_distance_str.slice(scrolled_distance_str.indexOf('(') + 1)) * -1;
            if (GlobalVariables.screen_num == 3) {
                setTimeout(function () {
                    setUnderline('section.performed_works .main_h .thin_red_line', "100rem")
                }, GlobalVariables.transition_time)


            } else if (GlobalVariables.screen_num == 9) {
                //console.log(scrolled_distance_num + '' + scroll_container_height);

                if (scrolled_distance_num > 0) {
                    setUnderline('section.review .main_h .thin_red_line', "100rem")


                }
                if (scrolled_distance_num > scroll_container_height * 2 / 5) {
                    setUnderline('section.team .main_h .thin_red_line', "100rem")
                }


            }
        }


        function setUnderline(selector, size) {
            return document.querySelector(selector).style.width = size;


        }


        addScrollListeners(showRedLine);






        //planets
        var long_line = $('section.work_directions .lines .direct_line'),
            skew_line = long_line.find('.skew_line'),
            _1_circle = long_line.find('.first_circle'),
            _2_circle = long_line.find('.second_circle'),
            _3_circle = long_line.find('.third_circle');


        function hideUnderlinePlanets() {
            long_line.css('width', '0');
            skew_line.css('width', '0');
            _1_circle.css('opacity', '0');
            _2_circle.css('opacity', '0');
            _3_circle.css('opacity', '0');
        }

        hideUnderlinePlanets()

        function showUnderlinePlanets() {
            long_line.delay(700).animate({
                width: '205rem'
            }, 600);
            skew_line.delay(2100).animate({
                width: '55rem'
            }, 600)
            _1_circle.delay(1500).animate({
                opacity: '1'
            }, 200);
            _2_circle.delay(1300).animate({
                opacity: '1'
            }, 200);
            _3_circle.delay(1300).animate({
                opacity: '1'
            }, 200);
        }

        /* --------- --------- --------- < UNDERLINES --------- --------- --------- */









        /* --------- --------- ---------  HEADER & FOOTER > --------- --------- ---------  */

        /*  change color of fixed nav block when scrolled under nth px       */



        function changeHeaderColor() {
            if ($("header").length > 0) {
                if (GlobalVariables.screen_num > 1) {
                    showHeaderBg();
                } else {
                    hideHeaderBg();
                }
            }
        }

        window.addEventListener('touchstart', changeHeaderColor);
        window.addEventListener('wheel', changeHeaderColor);
        window.addEventListener('keydown', changeHeaderColor);






        // Scroll to position from header button 

        document.querySelector('#works_btn').addEventListener('click', function (e) {
            e.preventDefault();
            changeHeaderColor();
            removeClass('active', 'footer');
            if (GlobalVariables.screen_num > 8) {
                translateFullScreen(screen_effect.scr3);
                GlobalVariables.screen_num = 8;
            } else if (GlobalVariables.screen_num < 3) {
                GlobalVariables.screen_num = 2;
                translateBody('down');
            }
        })



        document.querySelector('#offers_btn').addEventListener('click', function (e) {
            e.preventDefault();
            changeHeaderColor();
            removeClass('active', 'footer');
            translateFullScreen(screen_effect.scr2);
            GlobalVariables.screen_num = 2;
            removeAllClassesFromPortfolio()
        })





        /* --------- --------- --------- < HEADER & FOOTER --------- --------- --------- */







        /* --------- --------- --------- PORTFOLIO HOVERS > --------- --------- --------- */


        var port = document.querySelectorAll('.dynamic_portfolio >div');

        function hoverShow(e) {

            e.target.querySelector('.hover_logo').classList.add('active');
        }

        function hoverHide(e) {
            e.target.querySelector('.hover_logo').classList.remove('active');
        }

        function goToWorkPage(e) {
            document.location.href = e.target.querySelector('a').getAttribute('href');
        }

        function addPortfolioListeners() {
            for (var i = 0; i < port.length - 1; i++) {
                if (i !== 0 && i !== 4) {
                    port[i].addEventListener('mouseenter', function (e) {
                        hoverShow(e)
                    });
                    port[i].addEventListener('mouseleave', function (e) {
                        hoverHide(e)
                    });
                    port[i].addEventListener('click', function (e) {
                        goToWorkPage(e)
                    });
                }

            }
        }

        addPortfolioListeners();

        function addHoverToWideImagesPortfolio(block_index) {
            for (var i = 0; i < arguments.length; i++) {
                port[arguments[i]].addEventListener('mouseenter',
                    function (e) {
                        hoverShow(e)
                    });

                port[arguments[i]].addEventListener('mouseleave',
                    function (e) {
                        hoverHide(e)
                    });
                port[arguments[i]].addEventListener('click',
                    function (e) {
                        goToWorkPage(e)
                    });
            }
        }

        addHoverToWideImagesPortfolio(0, 4);



        /* --------- --------- --------- PORTFOLIO HOVERS < --------- --------- --------- */


        /* ANCHOR FIX > */
        function checkLocation() {
            if (window.innerWidth / window.innerHeight > aspect_ratio && document.querySelector('.work_directions')) {
                var url = $(location).attr('href');

                if (url.indexOf('#') != -1) {
                    var from = url.indexOf('#');
                    if (url.indexOf('?') != -1) {
                        var to = url.indexOf('?');
                    }
                    var anchor = url.slice(from, to || url.length);

                    switch (anchor) {

                        case '#portfolio':

                            GlobalVariables.screen_num = 2;

                            translateBody('down');

                            changeHeaderColor();

                            showRedLine();

                            break;

                        case '#services':

                            GlobalVariables.screen_num = 1;

                            translateBody('down');

                            changeHeaderColor();

                            break;
                    }
                }
            }
        }

        checkLocation();

        /* < ANCHOR FIX  */
		
		$('.single_work:eq(5)').on('click', function(){
	 
			location.href="best_works.html"
		
		})






}

    
}


showIndexPageSaparately();

//window.addEventListener('resize', showIndexPageSaparately);

;
(function () {


    if (($('.work_directions').length > 0)) {

        var current_slider = $('section.team .slider'),
            wrapper = current_slider.find('.slides_wrapper'), // slides_wrapper
            slide = wrapper.find('.slide'), //slide_position
            amount = slide.length;


        function setWidthOnSliderElements() {

            wrapper.css('width', amount + "00%");
            slide.each(function () {
                $(this).css('width', 100 / (amount * 3) + '%')

            })
        }


        setWidthOnSliderElements();

        function setElemsAttr() {
            var slide_position = current_slider.find('.slide');
            if (slide_position[0]) {
                slide_position[0].setAttribute('data-slide-position', 'left');
            }
            if (slide_position[1]) {
                slide_position[1].setAttribute('data-slide-position', 'top');
            }
            if (slide_position[2]) {
                slide_position[2].setAttribute('data-slide-position', 'right');
            }
            if (slide_position[3]) {
                slide_position[3].setAttribute('data-slide-position', 'right_bottom');
            }
        }

        setElemsAttr()


        current_slider.find('.arrow').on('click', function (e) {
            manageSlider(e)
        })




        var tick = 0;


        function manageSlider(e) {




            var position, next, prev;
            if (e.target.getAttribute('data-direction') == 'right' && tick != 0) {
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(2, 0);
                }
                if (tick === (amount - 4)) {
                    showSliderArrow(2, 1);
                }
                for (var j = 0; j < amount; j++) {
                    position = slide[j].getAttribute('data-slide-position');

                    switch (position) {
                    case 'left_bottom':
                        slide[j].setAttribute('data-slide-position', 'left');
                        prev = slide[j].previousElementSibling;
                        break;
                    case 'left':
                        slide[j].setAttribute('data-slide-position', 'top');
                        break;
                    case 'top':
                        slide[j].setAttribute('data-slide-position', 'right')
                        break;
                    case 'right':
                        slide[j].setAttribute('data-slide-position', 'right_bottom');
                        break;
                    case 'right_bottom':
                        slide[j].removeAttribute('data-slide-position');
                        break;
                    }
                }

                if (prev) {
                    prev.setAttribute('data-slide-position', 'left_bottom');
                }
            } else if (e.target.getAttribute('data-direction') == 'left' && tick != (amount - 3)) {
                tick += 1;

                if (tick == (amount - 3)) {
                    hideSliderArrow(2, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(2, 0);
                }

                for (var j = 0; j < amount; j++) {
                    position = slide[j].getAttribute('data-slide-position');

                    switch (position) {
                    case 'left_bottom':
                        slide[j].removeAttribute('data-slide-position');
                        break;
                    case 'left':
                        slide[j].setAttribute('data-slide-position', 'left_bottom');
                        break;
                    case 'top':
                        slide[j].setAttribute('data-slide-position', 'left');
                        break;
                    case 'right':
                        slide[j].setAttribute('data-slide-position', 'top');
                        break;
                    case 'right_bottom':
                        slide[j].setAttribute('data-slide-position', 'right');
                        next = slide[j].nextElementSibling;
                        break;
                    }
                }

                if (next) {
                    next.setAttribute('data-slide-position', 'right_bottom');
                }
            }
            sliderArrowMove(e);

        }



        function sliderArrowMove(e) {
            var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / (amount * 3) + "%)";
        }


    }

})();
	    if (($('.work_directions').length > 0)) {

	        var slider = document.querySelectorAll('.slider');

	        function hideSliderArrow(indexSlider, indexArrow) {
	            if (slider[indexSlider]) {
	                slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
	            }

	        }

	        function showSliderArrow(indexSlider, indexArrow) {
	            if (slider[indexSlider]) {
	                slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
	            }
	        }



	        function hideArrowsByDefault() {
	            if (slider.length > 0) {
	                if (slider[1].getElementsByClassName('slide').length === 1) {
	                    hideSliderArrow(1, 1)
	                }
	                if (slider[2].getElementsByClassName('slide').length < 4 && slider[2].getElementsByClassName('slide').length > 1) {
	                    hideSliderArrow(2, 1)
	                }
	            }
	        }

	        hideArrowsByDefault()
	    }
;
(function () {

    'use strict';

    if (($('.work_directions').length > 0)) {

        var SliderPaginationSettings = {
            wrapper: function () {
                return this.current_slider.find('.slides_wrapper')
            },
            slide_arr: function () {
                return this.wrapper().find('.slide')
            },
            pag: function () {
                return this.current_slider.find('.pagination')
            },
            slides_amount: function () {
                return this.slide_arr().length
            }
        }

        SliderPaginationSettings.current_slider = $('section.full_screen_slider .slider');





        function createNav() {
            if (SliderPaginationSettings.slide_arr().length > 1 && SliderPaginationSettings.pag().length > 0) {
                for (var i = 0; i < SliderPaginationSettings.slides_amount(); i++) {
                    var new_elem = document.createElement('div');
                    new_elem.className = 'nav_item';
                    new_elem.setAttribute('data-slide-num', i);
                    SliderPaginationSettings.pag().find('>div').append(new_elem);
                }
            }
        };

        createNav()




        function addDefaultSettingsOnSlides() {
            SliderPaginationSettings.slide_arr()[0].classList.add('active'); //for fade in effect
            SliderPaginationSettings.slide_arr()[0].querySelector('.slide_content_wrapper').style.opacity = "1"; //for fade in effect
            if (SliderPaginationSettings.current_slider.find('.nav_item').length > 0) {
                SliderPaginationSettings.current_slider.find('.nav_item')[0].classList.add('active');
            }
        }


        addDefaultSettingsOnSlides()



        function setAttrOnSlides() {
            for (var i = 0; i < SliderPaginationSettings.slides_amount(); i++) {
                SliderPaginationSettings.slide_arr()[i].setAttribute('data-slide-num', i)
            }
        }
        setAttrOnSlides()


        function addPaginationListeners() {
            SliderPaginationSettings.current_slider.find('.nav_item').each(function () {
                this.addEventListener('click', function (e) {
                    sliderPagMove(e)
                });
            });
        }

        addPaginationListeners()



        /**
         * for slider with pagination
         * @param {object} slide_index [clicked element]
         */
        function sliderPagMove(ev) {
            end_animation_marker = false;
            var prev_index,
                active_slide,
                pag_index = ev.target.getAttribute('data-slide-num'),
                nav_item = ev.target.parentElement.getElementsByClassName('nav_item'),
                slide = ev.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="' + pag_index + '"]');
            for (var j = 0; j < nav_item.length; j++) {
                if (nav_item[j].classList.contains('active')) {
                    prev_index = j;
                    nav_item[j].classList.remove('active'); //change style of nav elem
                    active_slide = ev.target.parentElement.parentElement.parentElement.querySelectorAll('.slide')[prev_index];
                }
            }
            active_slide.classList.remove('active');
            active_slide.querySelector('.slide_content_wrapper').style.opacity = "0";
            ev.target.classList.add('active'); //change style of nav elem
            slide.classList.add('active'); //show slide
            slide.querySelector('.slide_content_wrapper').style.opacity = "1";
        }

    }
})();
;
(function () {


    'use strict';


    if ($('.work_directions').length > 0) {

        var current_slider = $('section.review .slider'),
            wrapper = current_slider.find('.slides_wrapper'),
            slide = wrapper.find('.slide'),
            amount = slide.length;


        function setWidthOnSliderElements() {

            wrapper.css('width', amount + "00%");
            slide.each(function () {
                $(this).css('width', 100 / amount + '%');

            });
        }



        setWidthOnSliderElements();




        /**
         * for slider with arrows where moving all slide: moving + arrow hiding;
         * @param {object} e [clicked element]
         */

        var tick = 0;


        function sliderArrowMove(e) {
            var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / amount + "%)";
        }


        function manageSlider(e) {
            if (e.target.getAttribute('data-direction') === 'right' && tick !== 0) {
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(1, 0);
                } else if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                    showSliderArrow(1, 1);
                }
            } else if (e.target.getAttribute('data-direction') === 'left' && tick !== (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                tick += 1;
                if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                    hideSliderArrow(1, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(1, 0);
                }
            }
            sliderArrowMove(e);
        }


        current_slider.find('.arrow').on('click', function (e) {
            manageSlider(e);
        })


    }
})();
var end_animation_marker = true;

function createSlideAnimation() { /* INDEX PAGE */



    'use strict';


    if ($('.work_directions').length > 0) {





        function animateGuys() {


            setTimeout(function () {
                moveOld();
            }, 1500)


        }


        var AnimationSettings = {
            fps: 20,
            transition_old: 1,
            transition_young: 1,
            frame_state: true,
        }



        var old = document.querySelector('.old_guy'),
            image_1 = "url(" + old.getAttribute('data-img-1') + ")",
            image_2 = "url(" + old.getAttribute('data-img-2') + ")";

        function moveOld() {

            if (AnimationSettings.frame_state) {
                old.style.backgroundImage = image_1;
                AnimationSettings.frame_state = false
            } else {
                old.style.backgroundImage = image_2;
                AnimationSettings.frame_state = true;
            }
            old.style.transform = "translateX(" + AnimationSettings.transition_old + "rem)";
            AnimationSettings.transition_old += (window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 100;
            setTimeout(function () {
                if (AnimationSettings.transition_old > (((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 3))) {
                    cancelAnimationFrame(moveOld);
                    document.querySelector('.old_guy .speak').classList.add('active');
                    AnimationSettings.frame_state = true;
                    showBtn();


                    return
                }
                requestAnimationFrame(moveOld);

            }, 1000 / AnimationSettings.fps);
        }


        var young = document.querySelector('.young_guy'),
            image_3 = "url(" + young.getAttribute('data-img-1') + ")",
            image_4 = "url(" + young.getAttribute('data-img-2') + ")";

        function moveYoung() {

            if (AnimationSettings.frame_state) {
                young.style.backgroundImage = image_3;
                AnimationSettings.frame_state = false
            } else {
                young.style.backgroundImage = image_4;
                AnimationSettings.frame_state = true;
            }
            young.style.transform = "translateX(" + AnimationSettings.transition_young + "rem)";
            AnimationSettings.transition_young += (window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 50;
            setTimeout(function () {
                if (AnimationSettings.transition_young > (((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 3))) {
                    cancelAnimationFrame(moveYoung);
                    document.querySelector('.young_guy .speak').classList.add('active');
                    setTimeout(function () {
                        if (end_animation_marker) {
                            autonomicSlider()
                        }
                    }, 3000);


                    return
                }
                requestAnimationFrame(moveYoung);

            }, 1000 / AnimationSettings.fps);
        }

        function setYoungPos() {
            document.querySelector('.young_guy').style.right = ((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 2) + 'px';
        }

        setYoungPos();


        function showBtn() {
            setTimeout(function () {
                document.querySelector('.slide_content .submit_app_btn').classList.add('active');
                showCaterpillar()
            }, 500)

        }

        function showCaterpillar() {
            setTimeout(function () {
                document.querySelector('.slide_content .icons_block').classList.add('active');
                showYoungGuy();
            }, 500)

        }

        function showYoungGuy() {
            document.querySelector('.young_guy').classList.add('active');
            moveYoung()
        }

        animateGuys();


        var slider_counter = 0,
            pag_slide = document.querySelectorAll('.full_screen_slider .slide');

        var slider_interval = setInterval(function () {
            if (slider_counter < pag_slide.length - 1) {
                sliderAutoMove(slider_counter, pag_slide);
                slider_counter++
            } else {
                sliderAutoMove(slider_counter, pag_slide);
                slider_counter = 0;
            }
        }, 7000)


        function sliderAutoMove(slider_counter, pag_slide) {
            var nav_item = document.querySelectorAll('.pagination .nav_item');
            if (slider_counter !== 0) {
                nav_item[slider_counter - 1].classList.remove('active');
                pag_slide[slider_counter - 1].classList.remove('active');
                pag_slide[slider_counter - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
            } else {
                nav_item[nav_item.length - 1].classList.remove('active');
                pag_slide[pag_slide.length - 1].classList.remove('active');
                pag_slide[pag_slide.length - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
            }
            nav_item[slider_counter].classList.add('active'); //change style of nav elem
            pag_slide[slider_counter].classList.add('active'); //show slide
            pag_slide[slider_counter].querySelector('.slide_content_wrapper').style.opacity = "1";
        }



        function autonomicSlider() {

            if (pag_slide.length > 0) {
                sliderAutoMove(slider_counter, pag_slide)

            }
        }



        function autoSliderStop() {
            for (var i = 0; i < document.querySelectorAll('.pagination .nav_item').length; i++) {
                document.querySelectorAll('.pagination .nav_item')[i].addEventListener('click', sliderStop)
            }
        }



        function sliderStop() {
            clearInterval(slider_interval)
        }


        autoSliderStop();

    }


}

createSlideAnimation();

 ;
 (function () {
     if (window.innerWidth / window.innerHeight <= aspect_ratio) {

         /**
          * total page height
          * @returns {num} [page_height]
          */
         function calcPageHeight() {
             if (header) {
                 var total = 0;
                 for (var i = 0; i < document.body.children.length; i++) {
                     total += document.body.children[i].offsetHeight;
                 }
                 total -= getHeaderHeight();
                 return total;
             }
         }

         /**
          * Define to what elem should scrolling in setTimeOut func 
          * first param: which elem I want to see 
          * second param: border when scrolling should stop (created additional element for fixed header offset)
          */
         function setScrollingArguments0() {
             elem_position = "0";
             elem_name = 'body'
         }

         function setScrollingArguments1() {

             elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
             elem_name = 'footer .invisible_scroll'
         }

         function setScrollingArguments2() {

             elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight - getHeaderHeight();
             elem_name = 'section.work_directions .invisible_scroll'
         }

         function setScrollingArguments3() {

             elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight + document.getElementsByClassName('work_directions')[0].offsetHeight - getHeaderHeight();
             elem_name = 'section.performed_works .invisible_scroll'
         }

         /**
          * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
          */
         function setElemForPropertyScrolling() {
             for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
                 document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
                 document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
             }
         }
         setElemForPropertyScrolling();

         function getHeaderHeight() {
             return header.offsetHeight;
         }




         /**
          * smooth scrolling 
          * @param {object} e [coord of clicked link from what is scrolling]
          * arguments --> look in "sizes" part, there is a points where scrolling stop
          * scrollIntoView(true): stop whete element on top of a page
          * last "if" mean "stop at the end of page"
          */
         function scrollingButtonAction(e) {
             var button_coord = e.pageY;
             e.preventDefault();
             var scroll_interval = setInterval(function scrolling() {
                 arguments[1] = elem_position;
                 console.log(arguments[1]);
                 arguments[2] = elem_name;
                 if (button_coord < arguments[1]) {
                     window.scrollBy(0, 70);
                     if (window.pageYOffset >= arguments[1]) {
                         clearInterval(scroll_interval);
                         document.querySelector(arguments[2]).scrollIntoView(true)
                     }
                     if (window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) {
                         console.log(window.pageYOffset);
                         console.log(document.documentElement.clientHeight);
                         console.log(document.body.offsetHeight);
                         clearInterval(scroll_interval)
                     }
                 } else if (button_coord > arguments[1]) {
                     window.scrollBy(0, -70);
                     if (window.pageYOffset <= arguments[1] + 70) {
                         clearInterval(scroll_interval);
                         document.querySelector(arguments[2]).scrollIntoView(true)
                     }
                 }
             }, 30);
         }



         function addListeners() {
             if (document.getElementById('logo_btn')) {
                 document.getElementById('logo_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('logo_btn').addEventListener('click', setScrollingArguments0);
             }
             if (document.getElementById('cont_btn')) {
                 document.getElementById('cont_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('cont_btn').addEventListener('click', setScrollingArguments1);
             }

             if (document.getElementById('offers_btn')) {
                 document.getElementById('offers_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('offers_btn').addEventListener('click', setScrollingArguments2);
             }
             if (document.getElementById('works_btn')) {
                 document.getElementById('works_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('works_btn').addEventListener('click', setScrollingArguments3);
             }
         }

         addListeners()


     }
 })();




    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if (header) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }

    var scroll_size = 70;
    var fps = 30;
    var elem_name, elem_position;



    /**
     * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
     */
    function setElemForPropertyScrolling() {
        for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
            document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
            document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
        }
    }
    setElemForPropertyScrolling();

    function getHeaderHeight() {
        return header.offsetHeight;
    }



    var cancel_condition, transition_size;

    function movePage() {

        if (cancel_condition()) {
            //  document.querySelector(elem_name).scrollIntoView(true);
            window.scrollTo(0, elem_position);
            cancelAnimationFrame(movePage);
            return
        }

        window.scrollBy(0, transition_size);
        setTimeout(function () {
            requestAnimationFrame(movePage);

        }, 1000 / fps)

    }



    function calcConditionCaseDown() {
        if ((window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) || (window.pageYOffset >= elem_position - scroll_size)) {
            return true
        } else {
            return false
        }
    }


    function calcConditionCaseUp() {
        if ((document.body.offsetHeight <= document.documentElement.clientHeight) || (window.pageYOffset <= elem_position + scroll_size)) {
            return true
        } else {
            return false
        }
    }


    /**
     * smooth scrolling 
     * @param {object} e [coord of clicked link from what is scrolling]
     * arguments --> look in "sizes" part, there is a points where scrolling stop
     * scrollIntoView(true): stop whete element on top of a page
     * last "if" mean "stop at the end of page"
     */
    function manageMoving(e) {

        var button_coord = e.pageY;
        e.preventDefault();
        if (button_coord < elem_position) {
            transition_size = scroll_size;
            cancel_condition = calcConditionCaseDown;
            movePage();




        } else if (button_coord > elem_position) {

            transition_size = -scroll_size;
            cancel_condition = calcConditionCaseUp;
            movePage();


        }
    }


    $('#works_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0) {
            e.preventDefault();
            elem_name = 'section.performed_works .invisible_scroll';
            elem_position = $(elem_name).parent().offset().top;
            manageMoving(e);
        } else if ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio)) {
            e.preventDefault();
            elem_name = 'section.performed_works .invisible_scroll';
            elem_position = document.querySelector('section.full_screen_slider').offsetHeight + document.querySelector('section.work_directions').offsetHeight - getHeaderHeight();
            manageMoving(e);
        }
    });

    $('#cont_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0 || ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio))) {
            e.preventDefault();
            elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
            elem_name = 'footer .invisible_scroll';
            manageMoving(e);
        }
    })

    $('#logo_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0 || ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio))) {
            e.preventDefault();
            elem_name = 'body';
            elem_position = "0";
            manageMoving(e);
        }

    })

    $('#offers_btn').on('click', function (e) {
        if ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio)) {
            e.preventDefault();
            elem_name = 'section.work_directions .invisible_scroll';
            elem_position = document.querySelector('section.full_screen_slider').offsetHeight - getHeaderHeight();
            manageMoving(e);
        }
    })





;
(function () {
    'use strict';
    /* INDEX PAGE ON THIN SCREEN*/




    function getHeaderHeight() {
        return $('header').outerHeight();
    }

    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if ($("header")) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }


    /*  Show red line below titles when page scrolling */

    function showRedLine() {
        var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');

        if (title.length > 2) {
            if (window.pageYOffset > (calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight) - (document.querySelector('section.team').offsetHeight * 2)) {
                document.querySelector('section.team .main_h .thin_red_line').style.width = "100rem";
            } else if (window.pageYOffset >
                (document.querySelector('.slide_content_wrapper').offsetHeight + document.querySelector('.performed_works').offsetHeight + document.querySelector('.work_directions').offsetHeight)) {
                document.querySelector('section.review .main_h .thin_red_line').style.width = "100rem";
            } else if (window.pageYOffset > (document.querySelector('.slide_content_wrapper').offsetHeight + (document.querySelector('.work_directions').offsetHeight / 2))) {
                document.querySelector('section.performed_works .main_h .thin_red_line').style.width = "100rem";
            }
        }
    }









    /* ----------------------------------------- PORTFOLIO > ----------------------------------------- */

    /**
     * [hover effect for portfolio]
     * @param {object} e [portfolio item]
     */
    function showPortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.add('active');
    }

    function hidePortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.remove('active');
    }

    function zoomInImg(e) {
        e.target.querySelector('img').classList.add('zoom_img')
    }

    function zoomOutImg(e) {
        e.target.querySelector('img').classList.remove('zoom_img')
    }

    /**
     * field with image in portfolio section becomes clickable (takes link from hover area) itself
     * @param {object} e [[direct project image]]
     */
    function goPortfolioLink(e) {
        if (e.target.tagName == 'IMG') {
            document.location.href = e.target.parentElement.getElementsByTagName('a')[0].getAttribute('href')
        } else {
            document.location.href = e.target.getElementsByTagName('a')[0].getAttribute('href')
        }
    }

    /* ----------------------------------------- < PORTFOLIO ----------------------------------------- */


    function addPortfolioListeners() {
        if (document.querySelectorAll('.portfolio >div').length > 0) {
            for (var i = 0; i < document.querySelectorAll('.portfolio >div').length; i++) {
                document.querySelectorAll('.portfolio >div')[i].addEventListener('click', goPortfolioLink);
                if (device.desktop()) {
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', showPortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', hidePortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', zoomInImg);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', zoomOutImg);
                } else {
                    document.querySelectorAll('.portfolio >div .hover_logo')[i].style.zIndex = "-1";
                }

            }
        }

    }





    function managePage() {
       // if (window.innerWidth / window.innerHeight <= aspect_ratio) {
          
            addPortfolioListeners();
            window.addEventListener('scroll', showRedLine);

       // } else {
          //  window.removeEventListener('scroll', showRedLine);

       // }
    }

    managePage()





  //  window.addEventListener('resize', managePage);




})();
var window_offset;

;



//for modal windows - create modal window with class "modal" and id, create trigger with "data-modal-id" attribute, with value is modal id. in func "set modal button" add trigger selector
(function () {
    'use strict';

    var element,
        elem_position,
        elem_name,
        wrapper,
        slides_wrapper,
        slide,
        slides_amount,
        pag,
        pag_index,
        slider,
        header,
        slider_interval,

        // window_offset,
        tick1 = 0,
        tick2 = 0;

    /* --------------------------------------------- calls --------------------------------------------- */

    callFunctions();
    addListeners();
    setSliderWidth();
    getArrows();
    getArrowsInParticularSlider();
    setModalButton();
    setElemForPropertyScrolling();
    createGlowingPlanets();
    glowingPlanet();
    manageGlowing();
    hideSliderArrow(1, 0);
    hideSliderArrow(2, 0);
    checkIfSlidesExist();
    highSlidePopUp();




    function callFunctions() {
        slider = document.getElementsByClassName('slider');
        header = document.getElementsByTagName('header')[0];
        if (slider.length > 0) {
            createNav(0);
        }
        if (header) {
            changeHeaderColor();
        }
        if (document.getElementsByClassName('slider')[2]) {
            setElemsAttr();
        }
    }

    /* --------------------------------------------- create elements --------------------------------------------- */

    /**
     * create pagination for slider and attr for slides
     * @param {number} slider_num [number of slider on page]
     */
    function createNav(slider_num) {
        wrapper = slider[slider_num].querySelector('.slides_wrapper');
        slide = wrapper.querySelectorAll('.slide');
        pag = slider[slider_num].querySelector('.pagination');
        slides_amount = slide.length;
        slide[0].classList.add('active'); //for fade in effect
        slide[0].querySelector('.slide_content_wrapper').style.opacity = "1"; //for fade in effect

        if (slide.length > 1 && pag) {
            for (var i = 0; i < slides_amount; i++) {
                var new_elem = document.createElement('div');
                new_elem.className = 'nav_item';
                new_elem.setAttribute('data-slide-num', i);
                new_elem.addEventListener('click', sliderMove);
                var full_elem = pag.querySelector('div').appendChild(new_elem) //.setAttribute('data-slide', i)
                ;
                slide[i].setAttribute('data-slide-num', i)
                if (i === 0) {
                    new_elem.classList.add('active');
                }
            }
        }
    };

    /**
     * set attr elems for slider with part slides
     */
    function setElemsAttr() {
        var slide_position = document.getElementsByClassName('slider')[2].querySelectorAll('.slide');
        if (slide_position[0]) {
            slide_position[0].setAttribute('data-slide-position', 'left');
        }
        if (slide_position[1]) {
            slide_position[1].setAttribute('data-slide-position', 'top');
        }
        if (slide_position[2]) {
            slide_position[2].setAttribute('data-slide-position', 'right');
        }
        if (slide_position[3]) {
            slide_position[3].setAttribute('data-slide-position', 'right_bottom');
        }
    }
    /**
     * create glowing across animated planets
     */
    function createGlowingPlanets() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var parent = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < img.length; i++) {
            var new_elem = document.createElement('div');
            new_elem.classList.add('glowing');
            parent[i].insertBefore(new_elem, img[i]);
        }
    }

    /**
     * Hiding arrows when slides ends
     * @param {[[num]]} indexSlider [[index of slider on page]]
     * @param {[[num]]} indexArrow  [[index of arrow]]
     */

    function hideSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
        }

    }

    function showSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
        }
    }

    function checkIfSlidesExist() {
        if (slider.length > 0) {
            if (slider[1].getElementsByClassName('slide').length === 1) {
                hideSliderArrow(1, 1)
            }
            if (slider[2].getElementsByClassName('slide').length < 4 && slider[2].getElementsByClassName('slide').length > 1) {
                hideSliderArrow(2, 1)
            }
        }
    }

    /**
     * elem on tel header
     */
    function createElemsForTablets() {
        if (!device.desktop() && document.querySelector('header .contacts .tel')) {
            var area = document.createElement('div');
            document.querySelector('header .contacts .tel').appendChild(area);
            area.classList.add('correct_work_on_tablet');
        }
    }
    /* --------------------------------------------- sizes --------------------------------------------- */



    /**
     * set width of slider_wrapper
     */
    function setSliderWidth() {
        if (slider.length > 0) {
            for (var i = 1; i < slider.length; i++) {
                slide = slider[i].getElementsByClassName('slide');
                var width = slide[0].offsetWidth;
                if (window.innerWidth > 1200) {
                    slider[i].querySelector('.slides_wrapper').style.width = width * slide.length + "rem"
                } else {
                    slider[i].querySelector('.slides_wrapper').style.width = (width /*n px*/ * Math.ceil((100 / window.innerWidth) * 1000) / 1000) /*n vw*/ * 1000 / 82 * slide.length + "rem";
                }
            }
        }
    }

    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if (header) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }

    /**
     * Define to what elem should scrolling in setTimeOut func 
     * first param: which elem I want to see 
     * second param: border when scrolling should stop (created additional element for fixed header offset)
     */
    function setScrollingArguments0() {
        elem_position = "0";
        elem_name = 'body'
    }

    function setScrollingArguments1() {

        elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
        elem_name = 'footer .invisible_scroll'
    }

    function setScrollingArguments2() {

        elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight - getHeaderHeight();
        elem_name = 'section.work_directions .invisible_scroll'
    }

    function setScrollingArguments3() {

        elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight + document.getElementsByClassName('work_directions')[0].offsetHeight - getHeaderHeight();
        elem_name = 'section.performed_works .invisible_scroll'
    }

    /**
     * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
     */
    function setElemForPropertyScrolling() {
        for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
            document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
            document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
        }
    }

    /**
     * get header height (for adaptivity)
     * @returns {[num]} [height of header]
     */
    function getHeaderHeight() {
        return header.offsetHeight;
    }

    /**
     * [calc height for slide depends on window height and add style on page]
     */
    function addStyleForHighslide() {
        var height = window.innerHeight - 30;
        var div = document.createElement('div');
        var style = document.createElement('style');
        document.body.appendChild(div);
        div.appendChild(style);
        div.classList.add('style_tag');
        var newtext = document.createTextNode('.highslide-container {position: fixed !important; overflow: auto !important; height: ' + height + 'px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}');
        style.appendChild(newtext);
    }

    /* --------------------------------------------- sliders --------------------------------------------- */

    /**
     * for slider with pagination
     * @param {object} slide_index [clicked element]
     */
    function sliderMove(slide_index) {
        var prev_index;
        var active_slide;
        pag_index = slide_index.target.getAttribute('data-slide-num');
        var nav_item = slide_index.target.parentElement.getElementsByClassName('nav_item');
        var slide = slide_index.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="' + pag_index + '"]');
        for (var j = 0; j < nav_item.length; j++) {
            if (nav_item[j].classList.contains('active')) {
                prev_index = j;
                nav_item[j].classList.remove('active'); //change style of nav elem
                active_slide = slide_index.target.parentElement.parentElement.parentElement.querySelectorAll('.slide')[prev_index];
            }
        }
        active_slide.classList.remove('active');
        active_slide.querySelector('.slide_content_wrapper').style.opacity = "0";
        slide_index.target.classList.add('active'); //change style of nav elem
        slide.classList.add('active'); //show slide
        slide.querySelector('.slide_content_wrapper').style.opacity = "1";
    }

    /**
     * for slider with arrows where moving all slide: moving + arrow hiding;
     * @param {object} e [clicked element]
     */
    function sliderArrowMove(e) {
        //checkWidth(e, 1);

        if (e.target.getAttribute('data-direction') == 'right' && tick1 != 0) {
            tick1 -= 1;
            if (tick1 === 0) {
                hideSliderArrow(1, 0);
            } else if (tick1 === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                showSliderArrow(1, 1);
            }
        } else if (e.target.getAttribute('data-direction') == 'left' && tick1 != (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
            tick1 += 1;
            if (tick1 == (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                hideSliderArrow(1, 1);
            }
            if (tick1 >= 1) {
                showSliderArrow(1, 0);
            }
        }
        slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        //var width = parseFloat(getComputedStyle(slides_wrapper.querySelector('.slide')).width);
        //slides_wrapper.style.right = tick1 * width + "px";
        slides_wrapper.style.transform = "translateX(-" + tick1 * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";

    }

    /**
     * for slider with arrows where moving part of slide + hiding arrows
     * @param {object} e [clicked element]
     */
    function sliderArrowMoveInParticularSlider(e) {
        //checkWidth(e, 3);
        slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        var slide_position = slides_wrapper.querySelectorAll('.slide'),
            next, prev;
        if (e.target.getAttribute('data-direction') == 'right' && tick2 != 0) {
            tick2 -= 1;
            if (tick2 === 0) {
                hideSliderArrow(2, 0);
            }
            if (tick2 === (e.target.parentElement.querySelectorAll('.slide').length - 4)) {
                showSliderArrow(2, 1);
            }
            for (var j = 0; j < slide_position.length; j++) {
                var position = slide_position[j].getAttribute('data-slide-position');
                if (position == 'right_bottom') {
                    slide_position[j].removeAttribute('data-slide-position');
                } else if (position == 'right') {
                    slide_position[j].setAttribute('data-slide-position', 'right_bottom');
                } else if (position == 'top') {
                    slide_position[j].setAttribute('data-slide-position', 'right')
                } else if (position == 'left') {
                    slide_position[j].setAttribute('data-slide-position', 'top');
                } else if (position == 'left_bottom') {
                    slide_position[j].setAttribute('data-slide-position', 'left');
                    prev = slide_position[j].previousElementSibling;
                }
            }
            if (prev) {
                prev.setAttribute('data-slide-position', 'left_bottom');
            }
        } else if (e.target.getAttribute('data-direction') == 'left' && tick2 != (e.target.parentElement.querySelectorAll('.slide').length - 3)) {
            tick2 += 1;

            if (tick2 == (e.target.parentElement.querySelectorAll('.slide').length - 3)) {
                hideSliderArrow(2, 1);
            }
            if (tick2 >= 1) {
                showSliderArrow(2, 0);
            }

            for (var j = 0; j < slide_position.length; j++) {
                var position = slide_position[j].getAttribute('data-slide-position');
                if (position == 'left_bottom') {
                    slide_position[j].removeAttribute('data-slide-position')
                } else if (position == 'left') {
                    slide_position[j].setAttribute('data-slide-position', 'left_bottom');
                } else if (position == 'top') {
                    slide_position[j].setAttribute('data-slide-position', 'left')
                } else if (position == 'right') {
                    slide_position[j].setAttribute('data-slide-position', 'top');
                } else if (position == 'right_bottom') {
                    slide_position[j].setAttribute('data-slide-position', 'right');
                    next = slide_position[j].nextElementSibling;
                }
            }
            if (next) {
                next.setAttribute('data-slide-position', 'right_bottom');
            }
        }
        //var width = parseFloat(getComputedStyle(slides_wrapper.querySelector('.slide')).width);
        //slides_wrapper.style.right = tick2 * width + "px";
        slides_wrapper.style.transform = "translateX(-" + tick2 * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";

    }

    /* --------------------------------------------- events --------------------------------------------- */

    /**
     * add listener for arrows at slider with arrows where moving all slide
     */
    function getArrows() {
        for (var i = 0; i < document.querySelectorAll('.review .slider .arrow').length; i++) {
            document.querySelectorAll('.review .slider .arrow')[i].addEventListener('click', sliderArrowMove)
        }
    }
    /**
     * add listener for arrows at slider with arrows where moving part of slide
     */
    function getArrowsInParticularSlider() {
        for (var i = 0; i < document.querySelectorAll('.team .slider .arrow').length; i++) {
            document.querySelectorAll('.team .slider .arrow')[i].addEventListener('click', sliderArrowMoveInParticularSlider)
        }
    }

    /**
     * set modal button
     */
    function setModalButton() {
        for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
            document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('section.work_top_part .bg_top .wrapper .description a')) {
            document.querySelector('section.work_top_part .bg_top .wrapper .description a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
            document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
            document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('footer .contacts >p >a')) {
            document.querySelector('footer .contacts >p >a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
            document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
        }
    }

    /**
     * for header menus
     * @param {object} e [clicked elem]
     */
    function checkTarget(e) {
        if (document.getElementsByClassName('lang').length > 0) {
            if (!e.target.classList.contains('lang') || (e.target.classList.contains('lang') && e.target.classList.contains('active'))) {
                if (e.target.classList.contains('lang')) {
                    e.target.classList.remove('active')
                }
                hideElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.remove('active')
                }
            } else if (e.target.classList.contains('lang')) {
                showElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.add('active')
                }
            }
        }
    }

    /**
     * add listeners for animated planets glowing
     */
    function manageGlowing() {
        var elem = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < elem.length; i++) {
            elem[i].addEventListener('mouseenter', showGlowing);
            elem[i].addEventListener('mouseleave', hideGlowing);
        }
    }

    /**
     * listener for change color of invalid field
     */
    function addButtonListener() {
        var form_button = document.getElementsByTagName('button')
        for (var i = 0; i < form_button.length; i++) {
            form_button[i].addEventListener('click', changeInvalidColor)
        }
    }

    /**
     * checking if element exist - add listener
     */
    function addListeners() {
        if (document.getElementById('logo_btn')) {
            document.getElementById('logo_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('logo_btn').addEventListener('click', setScrollingArguments0);
        }
        if (document.getElementById('cont_btn')) {
            document.getElementById('cont_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('cont_btn').addEventListener('click', setScrollingArguments1);
        }

        if (document.getElementById('offers_btn')) {
            document.getElementById('offers_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('offers_btn').addEventListener('click', setScrollingArguments2);
        }
        if (document.getElementById('works_btn')) {
            document.getElementById('works_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('works_btn').addEventListener('click', setScrollingArguments3);
        }
        if (document.getElementById('tel_modal')) {
            document.getElementById('tel_modal').addEventListener('focus', showTelComment);
            document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
        }
        if (document.getElementsByTagName('button')) {
            addButtonListener()
        }
        if (document.querySelectorAll('.portfolio >div').length > 0) {
            for (var i = 0; i < document.querySelectorAll('.portfolio >div').length; i++) {
                document.querySelectorAll('.portfolio >div')[i].addEventListener('click', goPortfolioLink);
                if (device.desktop()) {
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', showPortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', hidePortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', zoomInImg);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', zoomOutImg);
                } else {
                    document.querySelectorAll('.portfolio >div .hover_logo')[i].style.zIndex = "-1";
                }

            }
        }
        if (document.getElementsByClassName('tel_num').length > 0 && device.desktop()) {
            for (var i = 0; i < document.getElementsByClassName('tel_num').length; i++) {
                document.getElementsByClassName('tel_num')[i].addEventListener('mouseenter', showHeaderTel);
                document.getElementsByClassName('tel_num')[i].addEventListener('mouseleave', hideHeaderTel);
            }
        }
        createElemsForTablets();
        if (document.querySelector('.correct_work_on_tablet')) {
            document.querySelector('.correct_work_on_tablet').addEventListener('click', tabletHeaderTelToggle);
        }
    }

    /**
     * field with image in portfolio section becomes clickable (takes link from hover area) itself
     * @param {object} e [[direct project image]]
     */
    function goPortfolioLink(e) {
        if (e.target.tagName == 'IMG') {
            document.location.href = e.target.parentElement.getElementsByTagName('a')[0].getAttribute('href')
        } else {
            document.location.href = e.target.getElementsByTagName('a')[0].getAttribute('href')
        }
    }


    /**
     * [on page 'works' add listener on links bounded with highslide module ]
     */
    function highSlidePopUp() {
        var slide_link = document.querySelectorAll('.work_content a.highslide');
        if (slide_link.length > 0) {
            for (var i = 0; i < slide_link.length; i++) {
                slide_link[i].addEventListener('click', bodyFixOn)
            }
        }
    }


    window.addEventListener('click', checkTarget);
    window.addEventListener('scroll', changeHeaderColor);
    //window.addEventListener('resize', setSliderWidth);	
    window.addEventListener('resize', calcPageHeight);
    window.addEventListener('resize', glowingPlanet);


    /* --------------------------------------------- other functions --------------------------------------------- */

    /**
     * modal_window + smooth display
     */
    /*function modalOpen(e) {
        var index;
        if (e.target.classList.contains('submit_app_btn') || (!e.target.classList.contains('modal_resume') && !e.target.classList.contains('modal_comment') && e.target.tagName == 'A')) {
            index = 0;
        } else if (e.target.classList.contains('modal_resume')) {
            e.preventDefault();
            index = 1
        } else if (e.target.classList.contains('modal_comment')) {
            e.preventDefault();
            index = 2
        }
        document.getElementsByClassName('modal')[index].style.display = "block";
        var int = setInterval(function () {
            if ((getComputedStyle(document.getElementsByClassName('modal')[index]).opacity) < 0.98) {
                document.getElementsByClassName('modal')[index].style.opacity = +document.getElementsByClassName('modal')[index].style.opacity + 0.1;
            } else {
                clearInterval(int)
            }
        }, 30)


        document.body.style.marginRight = window.innerWidth - document.body.offsetWidth + "px";
        header.style.marginRight = window.innerWidth - document.body.offsetWidth + "px";
        document.body.style.width = "initial";
        document.body.classList.add('hidden');


    }

    function modalClose(e) {
        var index;
        if (e.target.parentElement.parentElement.parentElement.id == 'modal_order') {
            index = 0
        } else if (e.target.parentElement.parentElement.parentElement.id == 'modal_resume') {
            index = 1
        } else if (e.target.parentElement.parentElement.parentElement.id == 'modal_comment') {
            index = 2
        }
        document.getElementsByClassName('modal')[index].style.display = "none";
        document.getElementsByClassName('modal')[index].style.opacity = "0";
        document.body.style.marginRight = 0;
        header.style.marginRight = 0;
        document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
        document.body.classList.remove('hidden');
    }*/


    function modalOpen(e) {
        e.preventDefault();
        takeUsedButton(e);
        var modal_id = e.target.getAttribute('data-modal-id');

        document.getElementById(modal_id).style.display = "block";
        var int = setInterval(function () {
            if ((getComputedStyle(document.getElementById(modal_id)).opacity) < 0.98) {
                document.getElementById(modal_id).style.opacity = +document.getElementById(modal_id).style.opacity + 0.1;
            } else {
                clearInterval(int)
            }
        }, 30)
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        header.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        header.style.display = "none";


        // window.addEventListener('scroll', scrollBodySync)
    }

    function modalClose(e) {
        var elem = e.target;
        while (!elem.classList.contains('modal')) {
            elem = elem.parentElement;
        }
        var modal_id = elem.id;
        document.getElementById(modal_id).style.display = "none";
        document.getElementById(modal_id).style.opacity = "0";
        document.body.style.marginRight = 0;
        header.style.marginRight = 0;
        document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
        document.body.classList.remove('hidden');
        window.scrollTo(0, window_offset);
        header.style.display = "block";
        // window.removeEventListener('scroll', scrollBodySync)
    }



    /**
     * change color of fixed nav block when scrolled under nth px
     */
    function changeHeaderColor() {
        if (header) {
            if (window.pageYOffset > 0) {
                header.getElementsByClassName('header_bg')[0].style.opacity = "0.9";

            } else {
                header.getElementsByClassName('header_bg')[0].style.opacity = "0";

            }
        }
    }

    /**
     * smooth scrolling 
     * @param {object} e [coord of clicked link from what is scrolling]
     * arguments --> look in "sizes" part, there is a points where scrolling stop
     * scrollIntoView(true): stop whete element on top of a page
     * last "if" mean "stop at the end of page"
     */
    function scrollingButtonAction(e) {
        var button_coord = e.pageY;
        e.preventDefault();
        var scroll_interval = setInterval(function scrolling() {
            arguments[1] = elem_position;
            console.log(arguments[1]);
            arguments[2] = elem_name;
            if (button_coord < arguments[1]) {
                window.scrollBy(0, 70);
                if (window.pageYOffset >= arguments[1]) {
                    clearInterval(scroll_interval);
                    document.querySelector(arguments[2]).scrollIntoView(true)
                }
                if (window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) {
                    console.log(window.pageYOffset);
                    console.log(document.documentElement.clientHeight);
                    console.log(document.body.offsetHeight);
                    clearInterval(scroll_interval)
                }
            } else if (button_coord > arguments[1]) {
                window.scrollBy(0, -70);
                if (window.pageYOffset <= arguments[1] + 70) {
                    clearInterval(scroll_interval);
                    document.querySelector(arguments[2]).scrollIntoView(true)
                }
            }
        }, 30);
    }

    /**
     * show and hide header lists
     * @param {[[string]]} elem_class_name [name of class of list element]
     */
    function showElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.add('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].removeAttribute('hidden')
        }
    }

    function hideElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.remove('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].setAttribute('hidden', '')
        }
    }


    /**
     * tuning of glowing planets
     */
    function glowingPlanet() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var planet = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service .glowing');
        for (var i = 0; i < planet.length; i++) {
            planet[i].style.left = '5%';
            planet[i].style.top = img[i].offsetHeight / 4 + 'px';
            planet[i].style.width = '20%';
            planet[i].style.height = img[i].offsetHeight / 2 + 'px';
        }
    };

    function showGlowing(e) {
        e.target.querySelector(".glowing").classList.add('active');
    }

    function hideGlowing(e) {
        e.target.querySelector(".glowing").classList.remove('active');
    }

    /**
     * change color of input form if there is wrong value
     * @param {object} e [get clicked element (search in it's parent)]
     */
    function changeInvalidColor(e) {
        var form_input = e.target.parentElement.getElementsByTagName('input');
        for (var i = 0; i < form_input.length; i++) {
            form_input[i].classList.add('valid')
        }
    }

    /**
     * show comment for tel form in modal window
     */
    function showTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "visible";
        tel_comment.style.opacity = "1";
    }

    function hideTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "hidden";
        tel_comment.style.opacity = "0";
    }
    /**
     * [hover effect for portfolio]
     * @param {object} e [portfolio item]
     */
    function showPortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.add('active');
    }

    function hidePortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.remove('active');
    }

    /**
     * show header lang onhover
     * @param {object} e [[lang elem]]
     */

    function showHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].removeAttribute('hidden');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.add('active');
        document.querySelector('header .contacts .tel').classList.add('active');
    }

    function hideHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].setAttribute('hidden', '');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.remove('active');
        document.querySelector('header .contacts .tel').classList.remove('active');

    }

    /**
     * [highslide run as modal window]
     */
    function bodyFixOn() {
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        document.querySelector('header').style.display = "none";
        addStyleForHighslide()
    }

    /* replace to highslide.js
    function bodyFixOut() {
         document.body.style.marginRight = 0;
         document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
         document.body.classList.remove('hidden');
         window.scrollTo(0, window_offset);
         document.body.removeChild(document.querySelector('.style_tag'))
     }*/

    /**
     * [show header tels on tablets]
     */
    function tabletHeaderTelToggle() {
        if (document.querySelector('.correct_work_on_tablet').classList.contains('active')) {
            document.querySelector('.correct_work_on_tablet').classList.remove('active');
            hideHeaderTel()
        } else {
            document.querySelector('.correct_work_on_tablet').classList.add('active');
            showHeaderTel()
        }
    }




    /*
	
	
	
	
	


    $('.arrow_right').on('click', function () {
    	if (click_amount == 0) {
    		click_amount++;
    		if (ind == 0) {
    			ind = sliderPictures.length
    		}
    		ind--;
    		$('.off').remove();
    		$('.central_slide').before('<div class="prev_slide"></div>');
    		$('.prev_slide').css('background-image', sliderPictures[ind]);
    		$('.central_slide, .prev_slide').animate({
    			left: '100%',
    		});
    		$('.central_slide').addClass('off');
    		setTimeout(function () {
    			$('.central_slide').addClass('next_slide').removeClass('central_slide');
    			$('.prev_slide').addClass('central_slide').removeClass('prev_slide').css('left', 'initial');
    			click_amount = 0
    		}, 410)
    	}
    });
	
	
	
    var sli_com = document.getElementsByClassName('slider')[1];
    var sli_team = document.getElementsByClassName('slider')[2]
    var arr_l = sli_com.querySelector('.arrow.left');
    var arr_r = sli_com.querySelector('.arrow.right');
    arr_l.addEventListener('click', moveToRight);
    arr_r.addEventListener('click', moveToLeft);
	
	
	
    $('.arrow_left').on('click', function () {
    	if (click_amount == 0) {
    		click_amount++;
    		ind++;
    		if (ind == sliderPictures.length) {
    			ind = 0
    		}
    		$('.off').remove();
    		$('.central_slide').after('<div class="next_slide"></div>');
    		$('.next_slide').css('background-image', sliderPictures[ind]);
    		$('.central_slide, .next_slide').animate({
    			right: '100%',
    		});
    		$('.central_slide').addClass('off');
    		setTimeout(function () {
    			$('.central_slide').addClass('prev_slide').removeClass('central_slide');
    			$('.next_slide').addClass('central_slide').removeClass('next_slide').css('right', 'initial');
    			click_amount = 0
    		}, 410)
    	}
    });
	
    function moveToRight(e) {
    	var slide = e.target.parentElement.getElementsByClassName('slide');
    }
	
	
	
    function sliderVisibility() {
    	for (var i = 1; i<sli_com.getElementsByClassName('slide').length; i++ ) {
    		sli_com.getElementsByClassName('slide')[i].setAttribute('hidden', '')			
    	}
    		for (var i = 3; i<sli_team.getElementsByClassName('slide').length; i++ ) {
    		sli_team.getElementsByClassName('slide')[i].setAttribute('hidden', '')			
    	}	
    }
	
	
	
	
    */





    /*function checkWidth(e, slides_part_amount) {	if  (e.target.parentElement.querySelector('.slides_wrapper').offsetWidth < e.target.parentElement.querySelectorAll('.slide')[0].offsetWidth * e.target.parentElement.querySelectorAll('.slide').length / slides_part_amount ) {console.log('script didnt work last time');
	setSliderWidth()
}}*/





    /*function scrollBodySync(e) {console.log('sdf    ')
        //e.preventDefault()

       //console.log(window.pageYOffset);
       // document.body.style.marginTop = window.pageYOffset + "px";
    document.body.style.


    }*/









    /*
       
           hs.registerOverlay({
        html: '<div class=\"close_btn\" onclick=\"return hs.close(this)\" title=\"Close\"></div>',
        position: 'top right',
        fade: 2 // fading the semi-transparent overlay looks bad in IE
    });
       
       */


    /*  
    window.addEventListener('mousemove', 'checkSlideClosing')
    
    function checkSlideClosing() {
        if (document.querySelectorAll('.highslide-container table') > 0) {
        for(var i = 0; i < document.querySelectorAll('.highslide-container table') )
    if (document.querySelectorAll('.highslide-container table')) {
            bodyFixOut()
        }}

}*/


    function takeUsedButton(e) {
        if (e.target.hasAttribute('data-trigger-ident')) {
            document.getElementById('takes_used_button').value = e.target.getAttribute('data-trigger-ident')
        }
    }


    function setModalAttribute() {
        var elem = document.querySelector('section.work_top_part .description a[href^="#"]');
        if (elem) {
            console.log('link exist');
            elem.setAttribute('data-modal-id', 'modal_order');
            elem.setAttribute('data-trigger-ident', 'vnutryak')
        }


    }


    setModalAttribute()


    function zoomInImg(e) {
        e.target.querySelector('img').classList.add('zoom_img')
    }

    function zoomOutImg(e) {
        e.target.querySelector('img').classList.remove('zoom_img')
    }



    function autonomicSlider() {
        var slide = document.querySelectorAll('.full_screen_slider .slide');
        var i = 1;
        if (slide.length > 0) {
            slider_interval = setInterval(function () {
                if (i < slide.length - 1) {
                    sliderAutoMove(i);
                    i++
                } else {
                    sliderAutoMove(i);
                    i = 0;
                }
            }, 7000)
        }
    }


    function sliderAutoMove(i) {
        var slide = document.querySelectorAll('.full_screen_slider .slide');
        var nav_item = document.querySelectorAll('.pagination .nav_item');
        if (i !== 0) {
            nav_item[i - 1].classList.remove('active');
            slide[i - 1].classList.remove('active');
            slide[i - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
        } else {
            nav_item[nav_item.length - 1].classList.remove('active');
            slide[slide.length - 1].classList.remove('active');
            slide[slide.length - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
        }
        nav_item[i].classList.add('active'); //change style of nav elem
        slide[i].classList.add('active'); //show slide
        slide[i].querySelector('.slide_content_wrapper').style.opacity = "1";
    }



    function autoSliderStop() {
        for (var i = 0; i < document.querySelectorAll('.pagination .nav_item').length; i++) {
            document.querySelectorAll('.pagination .nav_item')[i].addEventListener('click', sliderStop)
        }
    }


    function sliderStop() {
        clearInterval(slider_interval)

    }




    autonomicSlider()
    autoSliderStop()

    
    
    /*new*/



    function slideDownHeaderElems() {

        var header_elem = document.querySelectorAll('header nav ul li');
        for (var i = 0; i < header_elem.length; i++) {
            header_elem[i].classList.add('up');
        }
        // document.querySelector('.tel').classList.add('up');
         //  document.querySelector('.submit_app_btn').classList.add('up');
            //  document.querySelector('.lang_btn').classList.add('up');
        console.log( document.querySelector('.tel'))
        
  
       


    }


    function slideDownElems() {
      
        var header_elem = document.querySelectorAll('.up');
        var i = 0;

        setInterval(function () {
            if (i < header_elem.length)

                header_elem[i].classList.remove('up');
            i++

        }, 500)



    }




    slideDownHeaderElems();

    slideDownElems();
    
     
    
    

    
    
    /*  new  */
    
    function showRedLine()  {
        if (window.pageYOffset > (calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight) - (document.querySelector('section.team').offsetHeight*2)) {
            console.log('dfg');
        document.querySelector('section.team .main_h .thin_red_line').style.width = "100rem";
            
        }
        
        
     
        
        
    }
    
    
    window.addEventListener('scroll', showRedLine)

    
    function createRedLine() { console.log('sdfg');
       var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');
        for (var i = 0; i < title.length; i++) {
            var elem = document.createElement('div')
            var line = title[i].appendChild(elem);
            line.classList.add('thin_red_line');
        }
        
        
    }
    
     createRedLine()



})();

function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function activateBestWorksPage(){"use strict";$(".best_works_screen").length>0&&($("div.single_work_bg").each(function(){$(this).css("background-image","url("+$(this).parent().find(".single_work_bg_img img").attr("src")+")")}),$(".best_works_footer .single_work").on("mouseenter",function(){device.desktop()&&$(this).find(".single_work_hover").addClass("active")}),$(".best_works_footer .single_work").on("mouseleave",function(){$(this).find(".single_work_hover").removeClass("active")}),$(".best_works_footer .single_work").on("click",function(){device.tablet()&&$(location).attr("href",$(this).find(".single_work_link a").attr("href"))}),$(".other_works").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}))}function showOnThinScreens(){if($(".best_works_screen").length>0){$(".best_works_pagination").find(".nav_item").length>0&&$(".best_works_pagination").find(".nav_item").remove();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen").addClass("active"),$(".best_works_screen").addClass("active"),$(".best_works_screen").find(e).css("opacity","1"),$(".best_works_screen").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}}function showOnWideScreens(){function o(){for(var e=0;e<=n.total_slide_amount;e++){var t=document.createElement("li");t.className="nav_item",t.setAttribute("data-slide-num",e),$(".best_works_pagination").find("ul").append(t)}}function r(){$(".best_works_pagination").find(".nav_item:first-of-type").addClass("active")}function i(t){$(".best_works_screen:last-of-type").css("visibility","visible"),l(),$(".best_works_screen:eq("+t+")").addClass("active"),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").find(e).animate({opacity:0}),$(".best_works_screen:eq("+t+")").find(e).animate({opacity:1},s.bind($(".best_works_screen:eq("+t+")")))},1),setTimeout(function(){$(".best_works_screen:not(:eq("+t+"))").removeClass("active"),console.log($(".best_works_screen:not(:eq("+t+"))"))},500)}function s(){$(this).find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active")}function l(){$(".single_work_picture .right_image, .single_work_picture .left_image").removeClass("active")}function a(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function c(e){if(mark){mark=!1;var o=ScrollDirection.defineScrollDirection(e);"down"==o&&t<n.total_slide_amount?($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)):"up"==o&&t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d()}}function d(){setTimeout(function(){mark=!0},1e3)}if($(".best_works_screen").length>0&&mark){fixBodyForSafari();var e=".single_work_description, .single_work_bg, .best_works_footer";$(".best_works_screen:last-of-type").addClass("active"),$(".best_works_screen:last-of-type").css("visibility","hidden"),$(".best_works_screen:first-of-type").addClass("active"),$(".best_works_screen:first-of-type").find(e).css("opacity","1"),$(".best_works_screen:first-of-type").find(".single_work_picture .right_image, .single_work_picture .left_image").addClass("active");var t=0,n={total_slide_amount:$("section.single_work").length};o(),r(),a(c),$(".nav_item").on("click",function(){mark&&(mark=!1,$(".nav_item").removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-slide-num"),i(t),d())}),$(".best_works_pagination .arrow_top").on("click",function(){mark&&(mark=!1,t>0&&($(".nav_item").removeClass("active"),t--,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())}),$(".best_works_pagination .arrow_bottom").on("click",function(){mark&&(mark=!1,t<n.total_slide_amount&&($(".nav_item").removeClass("active"),t++,$('.nav_item[data-slide-num="'+t+'"]').addClass("active"),i(t)),d())})}}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);
for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}function checkSize(){window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")?(mark=!0,$(window).scrollTo(0,0)):mark=!1}function setModalButton(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",modalOpen);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",modalOpen);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",modalOpen);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",modalOpen);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",modalClose)}function modalOpen(e){mark=!1,e.preventDefault(),takeUsedButton(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",header.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),header.style.display="none"}function modalClose(e){checkSize();for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,header.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),header.style.display="block"}function takeUsedButton(e){e.target.hasAttribute("data-trigger-ident")&&$(".work_directions").length>0&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function setModalAttribute(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function showTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function hideTelComment(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function fixBodyForSafari(){$("body").addClass("fix_for_safari")}function unfixBodyForSafari(){$("body").removeClass("fix_for_safari")}function changeHeaderColor(){$("header").length>0&&(window.pageYOffset>0?showHeaderBg():hideHeaderBg())}function showHeaderBg(){$("header .header_bg").css("opacity","0.9")}function hideHeaderBg(){$("header .header_bg").css("opacity","0")}function addHeaderContactButton(){window.innerWidth/window.innerHeight>aspect_ratio&&(document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(e){e.preventDefault(),$("footer").removeClass("active")}))}function manageHeader(){window.innerWidth/window.innerHeight<=aspect_ratio||$(".work_content").length>0?(unfixBodyForSafari(),window.addEventListener("scroll",changeHeaderColor)):window.removeEventListener("scroll",changeHeaderColor)}function setFooterOffset(){window.innerWidth/window.innerHeight>aspect_ratio?$("footer").css("bottom",-$("footer").innerHeight()):$("footer").css("bottom",0)}function showIndexPageSaparately(){"use strict";function n(e){for(var t=["wheel","keydown","touchstart","touchmove","touchend"],n=0;n<t.length;n++)window.addEventListener(t[n],function(t){e(t)})}function o(t){for(var n=0;n<arguments.length;n++)document.querySelector(arguments[n])&&(document.querySelector(arguments[n]).style.transition=e.transition_time+"ms")}function r(t){var n=ScrollDirection.defineScrollDirection(t);"down"==n?mark&&(mark=!1,g("down"),i(2==!e.screen_num?e.transition_time:e.transition_time)):"up"==n&&e.screen_num>1&&mark&&(mark=!1,g("up"),i(3==!e.screen_num?e.transition_time:2*e.transition_time))}function i(e){setTimeout(function(){mark=!0},e)}function s(e){for(var t=0;t<arguments.length;t++)document.querySelector(arguments[t]).style.display="block"}function l(t,n,o){function i(){for(var e=2;e<arguments.length;e++)document.querySelector(arguments[e]).style.display="none"}var r=n||e.transition_time,s=arguments;t?setTimeout(function(){i.apply(null,s)},r):i.apply(null,arguments)}function a(e){return document.querySelector(".main_wrapper").style.top=e}function c(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.add(e)}function d(e,t){for(var n=1;n<arguments.length;n++)document.querySelector(arguments[n]).classList.remove(e)}function u(e){document.querySelector(e).style.height=m(e)+"px"}function m(e){return document.querySelector(e).offsetHeight}function f(){for(var e=document.querySelectorAll(".single_work"),t=1;t<=e.length;t++)l(!0,!1,".single_work:nth-of-type("+t+")");d("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)")}function g(n){if("down"==n)switch(e.screen_num){case 1:a(t.scr2),A(),e.screen_num++;break;case 2:a(t.scr3),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){c("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)")},e.transition_time),setTimeout(function(){s(".single_work:nth-of-type(1) .hover_logo")},2*e.transition_time),e.screen_num++;break;case 3:c("active",".single_work:nth-of-type(2)"),e.screen_num++;break;case 4:c("active",".single_work:nth-of-type(3)"),e.screen_num++;break;case 5:c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),c("active",".single_work:nth-of-type(4)"),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo",".single_work:nth-of-type(1) .hover_logo"),e.screen_num++;break;case 6:c("remove",".single_work:nth-of-type(4)"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num++;break;case 7:c("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),c("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),p(),e.screen_num++;break;case 8:a(t.scr4),u(".scroll_container_wrapper .scroll_block"),c("remove",".scroll_mouse"),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num++;break;case 9:document.querySelector(".scroll_marker").value="true","end"==document.querySelector(".scroll_position").value&&c("active","footer")}else if("up"==n)switch(e.screen_num){case 1:break;case 2:a(t.scr1),e.screen_num--;break;case 3:d("active",".scroll_mouse",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)"),l(!0,!1,".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)"),setTimeout(function(){a(t.scr2)},e.transition_time),A(),l(!1,!1,".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 4:d("active",".single_work:nth-of-type(2)"),e.screen_num--;break;case 5:d("active",".single_work:nth-of-type(3)"),e.screen_num--;break;case 6:d("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),d("active",".single_work:nth-of-type(4)"),l(!0,!1,".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),s(".single_work:nth-of-type(1) .hover_logo"),e.screen_num--;break;case 7:d("remove",".single_work:nth-of-type(4)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)"),l(!1,!1,".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 8:d("remove",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(6)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),c("active",".single_work:nth-of-type(5) >div:nth-of-type(1)"),s(".single_work:nth-of-type(5) .hover_logo"),e.screen_num--;break;case 9:document.querySelector(".scroll_marker").value="",document.querySelector("footer").classList.contains("active")?d("active","footer"):"translateY(0px)"==document.querySelector(".scroll_container").style.transform?(document.querySelector(".scroll_marker").value="",a(t.scr3),s(".single_work:nth-of-type(5)",".single_work:nth-of-type(6)"),c("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"),e.screen_num--):document.querySelector(".scroll_marker").value="true"}}function _(e,t){e=$("<div>").addClass(e),$(t).append(e)}function p(){$(".works_arrows_wrapper").css("display","block"),$(".works_arrows_wrapper .up_arrow").on("click",function(){e.screen_num>2&&e.screen_num<9&&(e.screen_num=3,g("up"),f(),d("active",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h"))}),$(".works_arrows_wrapper .down_arrow").on("click",function(){e.screen_num=8,g("down"),c("active",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),c("remove",".single_work:nth-of-type(1)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(2)"),d("active",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work_full_bg",".works_arrows_wrapper","section.performed_works .main_h")})}function v(){var t=document.querySelector(".scroll_container").style.transform,n=-1*parseInt(t.slice(t.indexOf("(")+1));3==e.screen_num?setTimeout(function(){w("section.performed_works .main_h .thin_red_line","100rem")},e.transition_time):9==e.screen_num&&(n>0&&w("section.review .main_h .thin_red_line","100rem"),n>2*y/5&&w("section.team .main_h .thin_red_line","100rem"))}function w(e,t){return document.querySelector(e).style.width=t}function L(){k.css("width","0"),b.css("width","0"),E.css("opacity","0"),S.css("opacity","0"),q.css("opacity","0")}function A(){k.delay(700).animate({width:"205rem"},600),b.delay(2100).animate({width:"55rem"},600),E.delay(1500).animate({opacity:"1"},200),S.delay(1300).animate({opacity:"1"},200),q.delay(1300).animate({opacity:"1"},200)}function C(){$("header").length>0&&(e.screen_num>1?showHeaderBg():hideHeaderBg())}function N(e){e.target.querySelector(".hover_logo").classList.add("active")}function H(e){e.target.querySelector(".hover_logo").classList.remove("active")}function I(e){document.location.href=e.target.querySelector("a").getAttribute("href")}function x(){for(var e=0;e<B.length-1;e++)0!==e&&4!==e&&(B[e].addEventListener("mouseenter",function(e){N(e)}),B[e].addEventListener("mouseleave",function(e){H(e)}),B[e].addEventListener("click",function(e){I(e)}))}function T(e){for(var t=0;t<arguments.length;t++)B[arguments[t]].addEventListener("mouseenter",function(e){N(e)}),B[arguments[t]].addEventListener("mouseleave",function(e){H(e)}),B[arguments[t]].addEventListener("click",function(e){I(e)})}function W(){if(window.innerWidth/window.innerHeight>aspect_ratio&&document.querySelector(".work_directions")){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var n=t.indexOf("#");if(-1!=t.indexOf("?"))var o=t.indexOf("?");var r=t.slice(n,o||t.length);switch(r){case"#portfolio":e.screen_num=2,g("down"),C(),v();break;case"#services":e.screen_num=1,g("down"),C()}}}}fixBodyForSafari();
var e={transition_time:"700",screen_num:1,touch_sensitivity:30},t={scr1:"0",scr2:"-100%",scr3:"-200%",scr4:"-300%"};n(r),o(".main_wrapper",".single_work:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(1)",".single_work:nth-of-type(1) >div:nth-of-type(2)",".single_work:nth-of-type(2)",".single_work:nth-of-type(3)",".single_work:nth-of-type(4)",".single_work:nth-of-type(5) >div:nth-of-type(1)",".single_work:nth-of-type(5) >div:nth-of-type(2)",".single_work:nth-of-type(6)"),_("works_arrows_wrapper","section.performed_works"),_("up_arrow",".works_arrows_wrapper"),_("down_arrow",".works_arrows_wrapper"),document.querySelector(".scroll_container").style.transform="translateY(0px)",$(".single_work:nth-of-type(6)").on("mouseenter",function(){$(this).find("div").addClass("active")}),$(".single_work:nth-of-type(6)").on("mouseleave",function(){$(this).find("div").removeClass("active")});var y=document.querySelector(".scroll_container").offsetHeight;window.innerHeight;n(v);var k=$("section.work_directions .lines .direct_line"),b=k.find(".skew_line"),E=k.find(".first_circle"),S=k.find(".second_circle"),q=k.find(".third_circle");L(),window.addEventListener("touchstart",C),window.addEventListener("wheel",C),window.addEventListener("keydown",C),document.querySelector("#works_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),e.screen_num>8?(a(t.scr3),e.screen_num=8):e.screen_num<3&&(e.screen_num=2,g("down"))}),document.querySelector("#offers_btn").addEventListener("click",function(n){n.preventDefault(),C(),d("active","footer"),a(t.scr2),e.screen_num=2,f()});var B=document.querySelectorAll(".dynamic_portfolio >div");x(),T(0,4),W(),$(".single_work:eq(5)").on("click",function(){location.href="best_works.html"})}function hideSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function showSliderArrow(e,t){slider[e]&&slider[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function hideArrowsByDefault(){slider.length>0&&(1===slider[1].getElementsByClassName("slide").length&&hideSliderArrow(1,1),slider[2].getElementsByClassName("slide").length<4&&slider[2].getElementsByClassName("slide").length>1&&hideSliderArrow(2,1))}function createSlideAnimation(){"use strict";function e(){setTimeout(function(){i()},1500)}function i(){t.frame_state?(n.style.backgroundImage=o,t.frame_state=!1):(n.style.backgroundImage=r,t.frame_state=!0),n.style.transform="translateX("+t.transition_old+"rem)",t.transition_old+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/100,setTimeout(function(){return t.transition_old>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(i),document.querySelector(".old_guy .speak").classList.add("active"),t.frame_state=!0,void u()):void requestAnimationFrame(i)},1e3/t.fps)}function c(){t.frame_state?(s.style.backgroundImage=l,t.frame_state=!1):(s.style.backgroundImage=a,t.frame_state=!0),s.style.transform="translateX("+t.transition_young+"rem)",t.transition_young+=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/50,setTimeout(function(){return t.transition_young>(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/3?(cancelAnimationFrame(c),document.querySelector(".young_guy .speak").classList.add("active"),void setTimeout(function(){end_animation_marker&&h()},3e3)):void requestAnimationFrame(c)},1e3/t.fps)}function d(){document.querySelector(".young_guy").style.right=(window.innerWidth-document.querySelector(".slide_content").offsetWidth)/2+"px"}function u(){setTimeout(function(){document.querySelector(".slide_content .submit_app_btn").classList.add("active"),m()},500)}function m(){setTimeout(function(){document.querySelector(".slide_content .icons_block").classList.add("active"),f()},500)}function f(){document.querySelector(".young_guy").classList.add("active"),c()}function y(e,t){var n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function h(){_.length>0&&y(g,_)}function v(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",w)}function w(){clearInterval(p)}if($(".work_directions").length>0){var t={fps:20,transition_old:1,transition_young:1,frame_state:!0},n=document.querySelector(".old_guy"),o="url("+n.getAttribute("data-img-1")+")",r="url("+n.getAttribute("data-img-2")+")",s=document.querySelector(".young_guy"),l="url("+s.getAttribute("data-img-1")+")",a="url("+s.getAttribute("data-img-2")+")";d(),e();var g=0,_=document.querySelectorAll(".full_screen_slider .slide"),p=setInterval(function(){g<_.length-1?(y(g,_),g++):(y(g,_),g=0)},7e3);v()}}function calcPageHeight(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=getHeaderHeight()}}function setElemForPropertyScrolling(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=getHeaderHeight()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+getHeaderHeight()+"px"}function getHeaderHeight(){return header.offsetHeight}function movePage(){return cancel_condition()?(window.scrollTo(0,elem_position),void cancelAnimationFrame(movePage)):(window.scrollBy(0,transition_size),void setTimeout(function(){requestAnimationFrame(movePage)},1e3/fps))}function calcConditionCaseDown(){return window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight||window.pageYOffset>=elem_position-scroll_size?!0:!1}function calcConditionCaseUp(){return document.body.offsetHeight<=document.documentElement.clientHeight||window.pageYOffset<=elem_position+scroll_size?!0:!1}function manageMoving(e){var t=e.pageY;e.preventDefault(),elem_position>t?(transition_size=scroll_size,cancel_condition=calcConditionCaseDown,movePage()):t>elem_position&&(transition_size=-scroll_size,cancel_condition=calcConditionCaseUp,movePage())}activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),activateBestWorksPage(),showOnThinScreens(),window.addEventListener("resize",showOnThinScreens),showOnWideScreens(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),
document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){
var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),
window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}(),function(){"use strict";function t(){for(var e=["wheel","keydown","touchstart","touchmove","touchend"],t=0;t<e.length;t++)window.addEventListener(e[t],function(e){n(e)})}function n(t){document.querySelector(e.marker).value&&(e.direction=s.defineScrollDirection(t),l.containerMove(),l.runnerMove())}function o(){e.scroll_position_trigger&&(document.querySelector(e.scroll_position_selector).value=e.scroll_position)}if($(".work_directions").length>0){var e={wrapper_selector:".scroll_container_wrapper",container_selector:".scroll_container",container_step_size:300,runner_step:0,runner_marker:!0,runner_selector:".scroll_runner",step:0,marker:".scroll_marker",scroll_position_trigger:!0,scroll_position_selector:".scroll_position",scroll_position:"start"},r={container:function(){return document.querySelector(e.container_selector)},thumb:function(){return this.container().parentElement.querySelector(e.runner_selector)}},i={wrapper_height:function(e){return e.parentElement.offsetHeight},container_height:function(e){return e.offsetHeight},container_step_size:function(){return 100*e.container_step_size/this.container_height(r.container())},runner_step_size:function(){return this.container_step_size()},setRunnerSize:function(){var e=r.container();r.thumb().style.height=100/this.container_height(e)*this.wrapper_height(e)+"%"}},s={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e);else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else if("touchend"==e.type){if(this.lastCoord-this.firstCoord>10)return"up";if(this.lastCoord-this.firstCoord<-10)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}},l={runnerMove:function(){var t=e.direction,o=(i.container_step_size(),e.runner_marker),s=r.thumb(),l=i.runner_step_size();"down"==t?o?(e.runner_step+=l,s.style.top=e.runner_step+"%"):(e.runner_step=100-parseFloat(s.style.height),s.style.top=e.runner_step+"%"):"up"==t&&(o?(e.runner_step-=l,s.style.top=e.runner_step+"%"):(e.runner_step=0,s.style.top=e.runner_step+"%"))},containerMove:function(){var t=e.direction,n=e.container_step_size,s=r.container(),l=i.wrapper_height(s),a=i.container_height(s);"down"==t?a-l+e.step>n?(e.runner_marker=!0,e.step-=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,s.style.transform="translateY(-"+(a-l)+"px)",e.scroll_position="end",o()):"up"==t&&(e.step+n<0?(e.runner_marker=!0,e.step+=n,s.style.transform="translateY("+e.step+"px)",e.scroll_position="",o()):(e.runner_marker=!1,e.step=0,s.style.transform="translateY("+e.step+"px)",e.scroll_position="start",o()))}};i.setRunnerSize(),t()}}(),function(){var e,t,n,o,r,i,s,l,a,c;t=window.device,e={},window.device=e,o=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&r("iphone")},e.ipod=function(){return r("ipod")},e.ipad=function(){return r("ipad")},e.android=function(){return!e.windows()&&r("android")},e.androidPhone=function(){return e.android()&&r("mobile")},e.androidTablet=function(){return e.android()&&!r("mobile")},e.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},e.blackberryPhone=function(){return e.blackberry()&&!r("tablet")},e.blackberryTablet=function(){return e.blackberry()&&r("tablet")},e.windows=function(){return r("windows")},e.windowsPhone=function(){return e.windows()&&r("phone")},e.windowsTablet=function(){return e.windows()&&r("touch")&&!e.windowsPhone()},e.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},e.fxosPhone=function(){return e.fxos()&&r("mobile")},e.fxosTablet=function(){return e.fxos()&&r("tablet")},e.meego=function(){return r("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(r(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=t,this},r=function(e){return-1!==c.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;s(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},a=function(e){s(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?n(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?n(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?n(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?n(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),i=function(){e.landscape()?(a("portrait"),n("landscape")):(a("landscape"),n("portrait"))},l=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(l,i,!1):window.attachEvent?window.attachEvent(l,i):window[l]=i,i(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this);var header=document.getElementsByTagName("header")[0],mark;checkSize(),$(window).on("resize",checkSize),setModalButton(),setModalAttribute(),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",showTelComment),document.getElementById("tel_modal").addEventListener("blur",hideTelComment));var window_offset,aspect_ratio=1280/900;!function(){"use strict";function e(){for(var e=document.querySelectorAll("header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn "),t=0;t<e.length;t++)e[t].classList.add("trans_right")}function t(){var e=document.querySelectorAll(".trans_right"),t=0,n=setInterval(function(){t<e.length?(e[t].classList.remove("trans_right"),t++):clearInterval(n)},300)}function o(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function r(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function i(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function s(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),r()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),o())}function l(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function a(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function c(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),a("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(l("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function d(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",f),e[t].addEventListener("mouseleave",g)}function u(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function m(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function f(e){e.target.querySelector(".glowing").classList.add("active")}function g(e){e.target.querySelector(".glowing").classList.remove("active")}function _(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",p()}function p(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function y(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",_)}function h(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",v)}function v(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function w(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");if(e.length>2)for(var t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}if($(".work_content").length>0&&$("body").css("overflow","auto"),document.querySelector("#cont_btn").addEventListener("click",function(e){e.preventDefault(),$("footer").addClass("active")}),document.querySelector(".footer_close").addEventListener("click",function(){$("footer").removeClass("active")}),e(),t(),document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var n=0;n<document.getElementsByClassName("tel_num").length;n++)document.getElementsByClassName("tel_num")[n].addEventListener("mouseenter",o),document.getElementsByClassName("tel_num")[n].addEventListener("mouseleave",r);i(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",s),window.addEventListener("click",c),window.addEventListener("touchstart",c),d(),u(),m(),y(),document.getElementsByTagName("button")&&h(),w()}();var ScrollDirection={getKeyCode:function(e){return 40==e.keyCode?"down":38==e.keyCode?"up":void 0},getTouchCoord:function(e){return e.touches[0].clientY},getSwipeDirection:function(e){if("touchstart"==e.type)this.firstCoord=this.getTouchCoord(e),this.lastCoord=NaN;else if("touchmove"==e.type)this.lastCoord=this.getTouchCoord(e);else{if(this.lastCoord-this.firstCoord>GlobalVariables.touch_sensitivity)return"up";if(this.lastCoord-this.firstCoord<-GlobalVariables.touch_sensitivity)return"down"}},getWheelDirection:function(e){return e.deltaY>0?"down":e.deltaY<0?"up":void 0},defineScrollDirection:function(e){return"keydown"==e.type?this.getKeyCode(e):"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type?this.getSwipeDirection(e):"wheel"==e.type?this.getWheelDirection(e):void 0}};if(addHeaderContactButton(),manageHeader(),setFooterOffset(),$(window).on("resize",setFooterOffset),function(){"use strict";function l(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",a);document.querySelector("section.work_part a")&&document.querySelector("section.work_part a").addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",a);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",a);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",c)}function a(t){var n;t.target.classList.contains("submit_app_btn")||!t.target.classList.contains("modal_resume")&&!t.target.classList.contains("modal_comment")&&"A"==t.target.tagName?n=0:t.target.classList.contains("modal_resume")?(t.preventDefault(),n=1):t.target.classList.contains("modal_comment")&&(t.preventDefault(),n=2),document.getElementsByClassName("modal")[n].removeAttribute("hidden"),document.getElementsByClassName("modal")[n].style.opacity="1",e=window.pageYOffset,document.body.style.top="-"+e+"px",document.body.classList.add("hidden")}function c(t){var n;"modal_order"==t.target.parentElement.parentElement.id?n=0:"modal_resume"==t.target.parentElement.parentElement.id?n=1:"modal_comment"==t.target.parentElement.parentElement.id&&(n=2),document.getElementsByClassName("modal")[n].setAttribute("hidden",""),document.getElementsByClassName("modal")[n].style.opacity="0",document.body.classList.remove("hidden"),document.body.style.top="0",window.scrollTo(0,e)}function d(){t&&t.addEventListener("click",u),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",m),document.getElementById("tel_modal").addEventListener("blur",f))}function u(){t.classList.contains("active")?(t.classList.remove("active"),t.parentElement.querySelector("ul").setAttribute("hidden",""),t.parentElement.querySelector("ul").style.opacity="0"):(t.classList.add("active"),t.parentElement.querySelector("ul").removeAttribute("hidden"),t.parentElement.querySelector("ul").style.opacity="1")}function m(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function f(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function g(){if(o.length>0)for(var e=1;e<o.length;e++){var t=o[e].getElementsByClassName("slide");o[e].querySelector(".slides_wrapper").style.width=100*t.length+"%";for(var r=(100*t.length,0);r<t.length;r++)t[r].style.width=100/t.length+"%"}}function _(e){var t=e.target;if(console.log(e.target),!t.classList.contains("slider")){for(;!t.parentElement.classList.contains("slider");)t=t.parentElement;var n=t.parentElement.querySelector('input[type="hidden"]'),o=parseInt(t.parentElement.querySelector(".slide_index").getAttribute("data-slider")),i=parseInt(n.value);"right"==t.getAttribute("data-direction")||"left"==r&&0!=i?(n.value=i-1,i-=1,0===i?y(o,0):i===t.parentElement.querySelectorAll(".slide").length-2&&h(o,1)):("left"==t.getAttribute("data-direction")||"right"==r&&i!=t.parentElement.querySelectorAll(".slide").length-1)&&(n.value=i+1,i+=1,console.log(i),i==t.parentElement.querySelectorAll(".slide").length-1&&y(o,1),i>=1&&h(o,0));var s=t.parentElement.querySelector(".slides_wrapper");s.style.transform="translateX(-"+100*i/s.querySelectorAll(".slide").length+"%)"}}function p(){for(var e=0;e<document.querySelectorAll(".slider .arrow").length;e++)document.querySelectorAll(".slider .arrow")[e].addEventListener("click",_)}function y(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function h(e,t){o[e]&&o[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function v(){for(var e=0;e<o.length;e++)o[e]&&(y(e,0),o[e].getElementsByClassName("slide").length<2&&y(e,1))}function w(){for(var e=0;e<o.length;e++)o[e].querySelector('input[type="hidden"]').value="0"}function k(){for(var e=0;e<o.length;e++)o[e].addEventListener("touchstart",b),o[e].addEventListener("touchmove",b),o[e].addEventListener("touchend",b)}function b(e){"touchstart"==e.type?i=e.touches[0].clientX:"touchmove"==e.type?s=e.touches[0].clientX:"touchend"==e.type&&E(e)}function E(e){r=null;var t=i-s;i>s&&t>10&&0!==s?(r="right",i=0,s=0):s>i&&-10>t&&(r="left",i=0,s=0),null!==r&&_(e)}function S(){var e=document.querySelector(".screens_wrapper");e&&(e.style.width=parseFloat(getComputedStyle(e.querySelector("img")).width)*e.querySelectorAll("img").length+"px")}var e,r,i,s,t=document.querySelector(".toggle_btn"),o=(document.querySelector(".lang_btn"),document.getElementsByClassName("slider"));l(),d(),g(),p(),v(),w(),k(),S()}(),showIndexPageSaparately(),function(){function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/(3*o)+"%")})}function i(){var t=e.find(".slide");t[0]&&t[0].setAttribute("data-slide-position","left"),t[1]&&t[1].setAttribute("data-slide-position","top"),t[2]&&t[2].setAttribute("data-slide-position","right"),t[3]&&t[3].setAttribute("data-slide-position","right_bottom")}function l(e){var t,r,i;if("right"==e.target.getAttribute("data-direction")&&0!=s){s-=1,0===s&&hideSliderArrow(2,0),s===o-4&&showSliderArrow(2,1);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].setAttribute("data-slide-position","left"),i=n[l].previousElementSibling;break;case"left":n[l].setAttribute("data-slide-position","top");break;case"top":n[l].setAttribute("data-slide-position","right");break;case"right":n[l].setAttribute("data-slide-position","right_bottom");break;case"right_bottom":n[l].removeAttribute("data-slide-position")}i&&i.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&s!=o-3){s+=1,s==o-3&&hideSliderArrow(2,1),s>=1&&showSliderArrow(2,0);for(var l=0;o>l;l++)switch(t=n[l].getAttribute("data-slide-position")){case"left_bottom":n[l].removeAttribute("data-slide-position");break;case"left":n[l].setAttribute("data-slide-position","left_bottom");break;case"top":n[l].setAttribute("data-slide-position","left");break;case"right":n[l].setAttribute("data-slide-position","top");break;case"right_bottom":n[l].setAttribute("data-slide-position","right"),r=n[l].nextElementSibling}r&&r.setAttribute("data-slide-position","right_bottom")}a(e)}function a(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*s/(3*o)+"%)"}if($(".work_directions").length>0){var e=$("section.team .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r(),i(),e.find(".arrow").on("click",function(e){l(e)});var s=0}}(),$(".work_directions").length>0){var slider=document.querySelectorAll(".slider");hideArrowsByDefault()}!function(){"use strict";function t(){if(e.slide_arr().length>1&&e.pag().length>0)for(var t=0;t<e.slides_amount();t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),e.pag().find(">div").append(n)}}function n(){e.slide_arr()[0].classList.add("active"),e.slide_arr()[0].querySelector(".slide_content_wrapper").style.opacity="1",e.current_slider.find(".nav_item").length>0&&e.current_slider.find(".nav_item")[0].classList.add("active")}function o(){for(var t=0;t<e.slides_amount();t++)e.slide_arr()[t].setAttribute("data-slide-num",t)}function r(){e.current_slider.find(".nav_item").each(function(){this.addEventListener("click",function(e){i(e)})})}function i(e){end_animation_marker=!1;for(var t,n,o=e.target.getAttribute("data-slide-num"),r=e.target.parentElement.getElementsByClassName("nav_item"),i=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+o+'"]'),s=0;s<r.length;s++)r[s].classList.contains("active")&&(t=s,r[s].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),i.classList.add("active"),i.querySelector(".slide_content_wrapper").style.opacity="1"}if($(".work_directions").length>0){var e={wrapper:function(){return this.current_slider.find(".slides_wrapper")},slide_arr:function(){return this.wrapper().find(".slide")},pag:function(){return this.current_slider.find(".pagination")},slides_amount:function(){return this.slide_arr().length}};e.current_slider=$("section.full_screen_slider .slider"),t(),n(),o(),r()}}(),function(){"use strict";function r(){t.css("width",o+"00%"),n.each(function(){$(this).css("width",100/o+"%")})}function s(e){var t=e.target.parentElement.querySelector(".slides_wrapper");t.style.transform="translateX(-"+100*i/o+"%)"}function l(e){"right"===e.target.getAttribute("data-direction")&&0!==i?(i-=1,0===i?hideSliderArrow(1,0):i===e.target.parentElement.querySelectorAll(".slide").length-2&&showSliderArrow(1,1)):"left"===e.target.getAttribute("data-direction")&&i!==e.target.parentElement.querySelectorAll(".slide").length-1&&(i+=1,i===e.target.parentElement.querySelectorAll(".slide").length-1&&hideSliderArrow(1,1),i>=1&&showSliderArrow(1,0)),s(e)}if($(".work_directions").length>0){var e=$("section.review .slider"),t=e.find(".slides_wrapper"),n=t.find(".slide"),o=n.length;r();var i=0;e.find(".arrow").on("click",function(e){l(e)})}}();var end_animation_marker=!0;if(createSlideAnimation(),function(){function e(){if(header){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=s()}}function t(){elem_position="0",elem_name="body"}function n(){elem_position=e()-document.getElementsByTagName("footer")[0].offsetHeight-s(),elem_name="footer .invisible_scroll"}function o(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-s(),elem_name="section.work_directions .invisible_scroll"}function r(){elem_position=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-s(),elem_name="section.performed_works .invisible_scroll"}function i(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=s()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+s()+"px"}function s(){return header.offsetHeight}function l(e){var t=e.pageY;e.preventDefault();var n=setInterval(function(){arguments[1]=elem_position,console.log(arguments[1]),arguments[2]=elem_name,t<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(n))):t>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(n),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function a(){document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",l),document.getElementById("logo_btn").addEventListener("click",t)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",l),document.getElementById("cont_btn").addEventListener("click",n)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",l),document.getElementById("offers_btn").addEventListener("click",o)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",l),document.getElementById("works_btn").addEventListener("click",r))}window.innerWidth/window.innerHeight<=aspect_ratio&&(i(),a())}(),window.innerWidth/window.innerHeight<=aspect_ratio){var scroll_size=70,fps=30,elem_name,elem_position;setElemForPropertyScrolling();var cancel_condition,transition_size;$("#works_btn").on("click",function(e){$(".crepla_ru").length>0?(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=$(elem_name).parent().offset().top,manageMoving(e)):$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.performed_works .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight+document.querySelector("section.work_directions").offsetHeight-getHeaderHeight(),
manageMoving(e))}),$("#cont_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_position=calcPageHeight()-document.getElementsByTagName("footer")[0].offsetHeight-getHeaderHeight(),elem_name="footer .invisible_scroll",manageMoving(e))}),$("#logo_btn").on("click",function(e){($(".crepla_ru").length>0||$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio)&&(e.preventDefault(),elem_name="body",elem_position="0",manageMoving(e))}),$("#offers_btn").on("click",function(e){$(".work_directions").length>0&&window.innerWidth/window.innerHeight<=aspect_ratio&&(e.preventDefault(),elem_name="section.work_directions .invisible_scroll",elem_position=document.querySelector("section.full_screen_slider").offsetHeight-getHeaderHeight(),manageMoving(e))})}!function(){"use strict";function e(){return $("header").outerHeight()}function t(){if($("header")){for(var t=0,n=0;n<document.body.children.length;n++)t+=document.body.children[n].offsetHeight;return t-=e()}}function n(){var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h");e.length>2&&(window.pageYOffset>t()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight?document.querySelector("section.team .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".performed_works").offsetHeight+document.querySelector(".work_directions").offsetHeight?document.querySelector("section.review .main_h .thin_red_line").style.width="100rem":window.pageYOffset>document.querySelector(".slide_content_wrapper").offsetHeight+document.querySelector(".work_directions").offsetHeight/2&&(document.querySelector("section.performed_works .main_h .thin_red_line").style.width="100rem"))}function o(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function r(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function i(e){e.target.querySelector("img").classList.add("zoom_img")}function s(e){e.target.querySelector("img").classList.remove("zoom_img")}function l(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function a(){if(document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",l),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",o),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",r),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",i),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",s)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1"}function c(){a(),window.addEventListener("scroll",n)}c()}();var window_offset;!function(){"use strict";function g(){c=document.getElementsByClassName("slider"),d=document.getElementsByTagName("header")[0],c.length>0&&_(0),d&&X(),document.getElementsByClassName("slider")[2]&&p()}function _(e){if(o=c[e].querySelector(".slides_wrapper"),i=o.querySelectorAll(".slide"),l=c[e].querySelector(".pagination"),s=i.length,i[0].classList.add("active"),i[0].querySelector(".slide_content_wrapper").style.opacity="1",i.length>1&&l)for(var t=0;s>t;t++){var n=document.createElement("div");n.className="nav_item",n.setAttribute("data-slide-num",t),n.addEventListener("click",$);l.querySelector("div").appendChild(n);i[t].setAttribute("data-slide-num",t),0===t&&n.classList.add("active")}}function p(){var e=document.getElementsByClassName("slider")[2].querySelectorAll(".slide");e[0]&&e[0].setAttribute("data-slide-position","left"),e[1]&&e[1].setAttribute("data-slide-position","top"),e[2]&&e[2].setAttribute("data-slide-position","right"),e[3]&&e[3].setAttribute("data-slide-position","right_bottom")}function y(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("glowing"),t[n].insertBefore(o,e[n])}}function h(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].setAttribute("hidden","")}function v(e,t){c[e]&&c[e].getElementsByClassName("arrow")[t].removeAttribute("hidden")}function w(){c.length>0&&(1===c[1].getElementsByClassName("slide").length&&h(1,1),c[2].getElementsByClassName("slide").length<4&&c[2].getElementsByClassName("slide").length>1&&h(2,1))}function k(){if(!device.desktop()&&document.querySelector("header .contacts .tel")){var e=document.createElement("div");document.querySelector("header .contacts .tel").appendChild(e),e.classList.add("correct_work_on_tablet")}}function b(){if(c.length>0)for(var e=1;e<c.length;e++){i=c[e].getElementsByClassName("slide");var t=i[0].offsetWidth;window.innerWidth>1200?c[e].querySelector(".slides_wrapper").style.width=t*i.length+"rem":c[e].querySelector(".slides_wrapper").style.width=t*Math.ceil(100/window.innerWidth*1e3)/1e3*1e3/82*i.length+"rem"}}function E(){if(d){for(var e=0,t=0;t<document.body.children.length;t++)e+=document.body.children[t].offsetHeight;return e-=B()}}function S(){t="0",n="body"}function q(){t=E()-document.getElementsByTagName("footer")[0].offsetHeight-B(),n="footer .invisible_scroll"}function L(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight-B(),n="section.work_directions .invisible_scroll"}function A(){t=document.getElementsByClassName("full_screen_slider")[0].offsetHeight+document.getElementsByClassName("work_directions")[0].offsetHeight-B(),n="section.performed_works .invisible_scroll"}function C(){for(var e=0;e<document.getElementsByClassName("invisible_scroll").length;e++)document.getElementsByClassName("invisible_scroll")[e].style.height=B()+"px",document.getElementsByClassName("invisible_scroll")[e].style.top="-"+B()+"px"}function B(){return d.offsetHeight}function N(){var e=window.innerHeight-30,t=document.createElement("div"),n=document.createElement("style");document.body.appendChild(t),t.appendChild(n),t.classList.add("style_tag");var o=document.createTextNode(".highslide-container {position: fixed !important; overflow: auto !important; height: "+e+"px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}");n.appendChild(o)}function $(e){var t,n;a=e.target.getAttribute("data-slide-num");for(var o=e.target.parentElement.getElementsByClassName("nav_item"),r=e.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="'+a+'"]'),i=0;i<o.length;i++)o[i].classList.contains("active")&&(t=i,o[i].classList.remove("active"),n=e.target.parentElement.parentElement.parentElement.querySelectorAll(".slide")[t]);n.classList.remove("active"),n.querySelector(".slide_content_wrapper").style.opacity="0",e.target.classList.add("active"),r.classList.add("active"),r.querySelector(".slide_content_wrapper").style.opacity="1"}function H(e){"right"==e.target.getAttribute("data-direction")&&0!=m?(m-=1,0===m?h(1,0):m===e.target.parentElement.querySelectorAll(".slide").length-2&&v(1,1)):"left"==e.target.getAttribute("data-direction")&&m!=e.target.parentElement.querySelectorAll(".slide").length-1&&(m+=1,m==e.target.parentElement.querySelectorAll(".slide").length-1&&h(1,1),m>=1&&v(1,0)),r=e.target.parentElement.querySelector(".slides_wrapper"),r.style.transform="translateX(-"+100*m/r.querySelectorAll(".slide").length+"%)"}function I(e){r=e.target.parentElement.querySelector(".slides_wrapper");var n,o,t=r.querySelectorAll(".slide");if("right"==e.target.getAttribute("data-direction")&&0!=f){f-=1,0===f&&h(2,0),f===e.target.parentElement.querySelectorAll(".slide").length-4&&v(2,1);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"right_bottom"==s?t[i].removeAttribute("data-slide-position"):"right"==s?t[i].setAttribute("data-slide-position","right_bottom"):"top"==s?t[i].setAttribute("data-slide-position","right"):"left"==s?t[i].setAttribute("data-slide-position","top"):"left_bottom"==s&&(t[i].setAttribute("data-slide-position","left"),o=t[i].previousElementSibling)}o&&o.setAttribute("data-slide-position","left_bottom")}else if("left"==e.target.getAttribute("data-direction")&&f!=e.target.parentElement.querySelectorAll(".slide").length-3){f+=1,f==e.target.parentElement.querySelectorAll(".slide").length-3&&h(2,1),f>=1&&v(2,0);for(var i=0;i<t.length;i++){var s=t[i].getAttribute("data-slide-position");"left_bottom"==s?t[i].removeAttribute("data-slide-position"):"left"==s?t[i].setAttribute("data-slide-position","left_bottom"):"top"==s?t[i].setAttribute("data-slide-position","left"):"right"==s?t[i].setAttribute("data-slide-position","top"):"right_bottom"==s&&(t[i].setAttribute("data-slide-position","right"),n=t[i].nextElementSibling)}n&&n.setAttribute("data-slide-position","right_bottom")}r.style.transform="translateX(-"+100*f/r.querySelectorAll(".slide").length+"%)"}function x(){for(var e=0;e<document.querySelectorAll(".review .slider .arrow").length;e++)document.querySelectorAll(".review .slider .arrow")[e].addEventListener("click",H)}function T(){for(var e=0;e<document.querySelectorAll(".team .slider .arrow").length;e++)document.querySelectorAll(".team .slider .arrow")[e].addEventListener("click",I)}function W(){for(var e=0;e<document.getElementsByClassName("submit_app_btn").length;e++)document.getElementsByClassName("submit_app_btn")[e].addEventListener("click",M);document.querySelector("section.work_top_part .bg_top .wrapper .description a")&&document.querySelector("section.work_top_part .bg_top .wrapper .description a").addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_comment").length;e++)document.getElementsByClassName("modal_comment")[e].addEventListener("click",M);for(var e=0;e<document.getElementsByClassName("modal_resume").length;e++)document.getElementsByClassName("  modal_resume")[e].addEventListener("click",M);document.querySelector("footer .contacts >p >a")&&document.querySelector("footer .contacts >p >a").addEventListener("click",M);for(var e=0;e<document.querySelectorAll(".modal .close").length;e++)document.querySelectorAll(".modal .close")[e].addEventListener("click",R)}function O(e){document.getElementsByClassName("lang").length>0&&(!e.target.classList.contains("lang")||e.target.classList.contains("lang")&&e.target.classList.contains("active")?(e.target.classList.contains("lang")&&e.target.classList.remove("active"),K("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.remove("active")):e.target.classList.contains("lang")&&(G("lang"),e.target.parentElement.querySelector(".arrow")&&e.target.parentElement.querySelector(".arrow").classList.add("active")))}function D(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",j),e[t].addEventListener("mouseleave",J)}function Y(){for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++)e[t].addEventListener("click",Q)}function z(){if(document.getElementById("logo_btn")&&(document.getElementById("logo_btn").addEventListener("click",V),document.getElementById("logo_btn").addEventListener("click",S)),document.getElementById("cont_btn")&&(document.getElementById("cont_btn").addEventListener("click",V),document.getElementById("cont_btn").addEventListener("click",q)),document.getElementById("offers_btn")&&(document.getElementById("offers_btn").addEventListener("click",V),document.getElementById("offers_btn").addEventListener("click",L)),document.getElementById("works_btn")&&(document.getElementById("works_btn").addEventListener("click",V),document.getElementById("works_btn").addEventListener("click",A)),document.getElementById("tel_modal")&&(document.getElementById("tel_modal").addEventListener("focus",Z),document.getElementById("tel_modal").addEventListener("blur",ee)),document.getElementsByTagName("button")&&Y(),document.querySelectorAll(".portfolio >div").length>0)for(var e=0;e<document.querySelectorAll(".portfolio >div").length;e++)document.querySelectorAll(".portfolio >div")[e].addEventListener("click",P),device.desktop()?(document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",te),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",ne),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseenter",ce),document.querySelectorAll(".portfolio >div")[e].addEventListener("mouseleave",de)):document.querySelectorAll(".portfolio >div .hover_logo")[e].style.zIndex="-1";if(document.getElementsByClassName("tel_num").length>0&&device.desktop())for(var e=0;e<document.getElementsByClassName("tel_num").length;e++)document.getElementsByClassName("tel_num")[e].addEventListener("mouseenter",oe),document.getElementsByClassName("tel_num")[e].addEventListener("mouseleave",re);k(),document.querySelector(".correct_work_on_tablet")&&document.querySelector(".correct_work_on_tablet").addEventListener("click",se)}function P(e){"IMG"==e.target.tagName?document.location.href=e.target.parentElement.getElementsByTagName("a")[0].getAttribute("href"):document.location.href=e.target.getElementsByTagName("a")[0].getAttribute("href")}function F(){var e=document.querySelectorAll(".work_content a.highslide");if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",ie)}function M(e){e.preventDefault(),le(e);var t=e.target.getAttribute("data-modal-id");document.getElementById(t).style.display="block";var n=setInterval(function(){getComputedStyle(document.getElementById(t)).opacity<.98?document.getElementById(t).style.opacity=+document.getElementById(t).style.opacity+.1:clearInterval(n)},30),o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",d.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),d.style.display="none"}function R(e){for(var t=e.target;!t.classList.contains("modal");)t=t.parentElement;var n=t.id;document.getElementById(n).style.display="none",document.getElementById(n).style.opacity="0",document.body.style.marginRight=0,d.style.marginRight=0,document.body.style.width=document.body.offsetHeight>=1200?"100%":"100vw",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset),d.style.display="block"}function X(){d&&(window.pageYOffset>0?d.getElementsByClassName("header_bg")[0].style.opacity="0.9":d.getElementsByClassName("header_bg")[0].style.opacity="0")}function V(e){var o=e.pageY;e.preventDefault();var r=setInterval(function(){arguments[1]=t,console.log(arguments[1]),arguments[2]=n,o<arguments[1]?(window.scrollBy(0,70),window.pageYOffset>=arguments[1]&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)),window.pageYOffset+document.documentElement.clientHeight>=document.body.offsetHeight&&(console.log(window.pageYOffset),console.log(document.documentElement.clientHeight),console.log(document.body.offsetHeight),clearInterval(r))):o>arguments[1]&&(window.scrollBy(0,-70),window.pageYOffset<=arguments[1]+70&&(clearInterval(r),document.querySelector(arguments[2]).scrollIntoView(!0)))},30)}function G(e){document.getElementsByClassName(e)[0].classList.add("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].removeAttribute("hidden")}function K(e){document.getElementsByClassName(e)[0].classList.remove("active");for(var t=1;t<document.getElementsByClassName(e).length;t++)document.getElementsByClassName(e)[t].setAttribute("hidden","")}function U(){for(var e=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service img"),t=document.querySelectorAll(".work_directions .wrapper .direction .direction_wrapper .service .glowing"),n=0;n<t.length;n++)t[n].style.left="5%",t[n].style.top=e[n].offsetHeight/4+"px",t[n].style.width="20%",t[n].style.height=e[n].offsetHeight/2+"px"}function j(e){e.target.querySelector(".glowing").classList.add("active")}function J(e){e.target.querySelector(".glowing").classList.remove("active")}function Q(e){for(var t=e.target.parentElement.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].classList.add("valid")}function Z(){var e=document.querySelector(".tel_comment");e.style.visibility="visible",e.style.opacity="1"}function ee(){var e=document.querySelector(".tel_comment");e.style.visibility="hidden",e.style.opacity="0"}function te(e){e.target.querySelector(".portfolio .hover_logo").classList.add("active")}function ne(e){e.target.querySelector(".portfolio .hover_logo").classList.remove("active")}function oe(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].removeAttribute("hidden");document.querySelector("header .contacts .tel").querySelector("span").classList.add("active"),document.querySelector("header .contacts .tel").classList.add("active")}function re(e){for(var t=1;t<document.querySelector("header .contacts .tel").getElementsByClassName("tel_num").length;t++)document.querySelector("header .contacts .tel").getElementsByClassName("tel_num")[t].setAttribute("hidden","");document.querySelector("header .contacts .tel").querySelector("span").classList.remove("active"),document.querySelector("header .contacts .tel").classList.remove("active")}function ie(){var e=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-e+"px",document.body.style.width=e+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden"),document.querySelector("header").style.display="none",N()}function se(){document.querySelector(".correct_work_on_tablet").classList.contains("active")?(document.querySelector(".correct_work_on_tablet").classList.remove("active"),re()):(document.querySelector(".correct_work_on_tablet").classList.add("active"),oe())}function le(e){e.target.hasAttribute("data-trigger-ident")&&(document.getElementById("takes_used_button").value=e.target.getAttribute("data-trigger-ident"))}function ae(){var e=document.querySelector('section.work_top_part .description a[href^="#"]');e&&(console.log("link exist"),e.setAttribute("data-modal-id","modal_order"),e.setAttribute("data-trigger-ident","vnutryak"))}function ce(e){e.target.querySelector("img").classList.add("zoom_img")}function de(e){e.target.querySelector("img").classList.remove("zoom_img")}function ue(){var e=document.querySelectorAll(".full_screen_slider .slide"),t=1;e.length>0&&(u=setInterval(function(){t<e.length-1?(me(t),t++):(me(t),t=0)},7e3))}function me(e){var t=document.querySelectorAll(".full_screen_slider .slide"),n=document.querySelectorAll(".pagination .nav_item");0!==e?(n[e-1].classList.remove("active"),t[e-1].classList.remove("active"),t[e-1].querySelector(".slide_content_wrapper").style.opacity="0"):(n[n.length-1].classList.remove("active"),t[t.length-1].classList.remove("active"),t[t.length-1].querySelector(".slide_content_wrapper").style.opacity="0"),n[e].classList.add("active"),t[e].classList.add("active"),t[e].querySelector(".slide_content_wrapper").style.opacity="1"}function fe(){for(var e=0;e<document.querySelectorAll(".pagination .nav_item").length;e++)document.querySelectorAll(".pagination .nav_item")[e].addEventListener("click",ge)}function ge(){clearInterval(u)}function _e(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;t++)e[t].classList.add("up");console.log(document.querySelector(".tel"))}function pe(){var e=document.querySelectorAll(".up"),t=0;setInterval(function(){t<e.length&&e[t].classList.remove("up"),t++},500)}function ye(){window.pageYOffset>E()-document.getElementsByTagName("footer")[0].offsetHeight-2*document.querySelector("section.team").offsetHeight&&(console.log("dfg"),document.querySelector("section.team .main_h .thin_red_line").style.width="100rem")}function he(){console.log("sdfg");for(var e=document.querySelectorAll(".performed_works .main_h, .review .main_h, .team .main_h"),t=0;t<e.length;t++){var n=document.createElement("div"),o=e[t].appendChild(n);o.classList.add("thin_red_line")}}var t,n,o,r,i,s,l,a,c,d,u,m=0,f=0;g(),z(),b(),x(),T(),W(),C(),y(),U(),D(),h(1,0),h(2,0),w(),F(),window.addEventListener("click",O),window.addEventListener("scroll",X),window.addEventListener("resize",E),window.addEventListener("resize",U),ae(),ue(),fe(),_e(),pe(),window.addEventListener("scroll",ye),he()}();
;
(function () {
    'use strict';
    if ($('.work_directions').length > 0) {

        var CustomScrollSettings = {
            wrapper_selector: '.scroll_container_wrapper',
            container_selector: '.scroll_container',
            container_step_size: 300,
            /* Amount of scrolling pictures */
            runner_step: 0, //don't touch
            runner_marker: true, //don't touch
            runner_selector: '.scroll_runner',
            step: 0, //don't touch
            marker: '.scroll_marker',
            scroll_position_trigger: true,
            scroll_position_selector: '.scroll_position',
            scroll_position: 'start',
        };


        function addScrollListeners() {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    pageScroll(e);
                })
            }
        };


        function pageScroll(e) {
            if (document.querySelector(CustomScrollSettings.marker).value) {
                CustomScrollSettings.direction = ScrollDirection.defineScrollDirection(e);
                ElementsMoving.containerMove();
                ElementsMoving.runnerMove();
            }
        }

        function setScrollPositionValue() {
            if (CustomScrollSettings.scroll_position_trigger) {
                document.querySelector(CustomScrollSettings.scroll_position_selector).value = CustomScrollSettings.scroll_position
            }
        }



        var ElementsDefinition = {

            container: function () {
                return document.querySelector(CustomScrollSettings.container_selector)
            },

            thumb: function () {
                return this.container().parentElement.querySelector(CustomScrollSettings.runner_selector)
            },

        }


        var ElementsSizes = {

            wrapper_height: function (elem) {
                return elem.parentElement.offsetHeight;
            },

            container_height: function (elem) {
                return elem.offsetHeight;
            },

            container_step_size: function () {
                return (100 * CustomScrollSettings.container_step_size / this.container_height(ElementsDefinition.container()))
            },

            runner_step_size: function () {
                return this.container_step_size()
            },

            setRunnerSize: function () {
                var container = ElementsDefinition.container();
                ElementsDefinition.thumb().style.height = 100 / this.container_height(container) * this.wrapper_height(container) + "%";
            },

        }


        var ScrollDirection = {

            getKeyCode: function (e) {
                if (e.keyCode == 40) {
                    return 'down'
                } else if (e.keyCode == 38) {
                    return 'up'
                }
            },

            getTouchCoord: function (e) {
                return e.touches[0].clientY
            },

            getSwipeDirection: function (e) {
                if (e.type == 'touchstart') {
                    this.firstCoord = this.getTouchCoord(e);
                } else if (e.type == 'touchmove') {
                    this.lastCoord = this.getTouchCoord(e);
                } else if (e.type == 'touchend') {
                    if (this.lastCoord - this.firstCoord > 10) {
                        return 'up';
                    } else if (this.lastCoord - this.firstCoord < -10) {
                        return 'down';
                    }
                }
            },

            getWheelDirection: function (e) {
                if (e.deltaY > 0) {
                    return 'down'
                } else if (e.deltaY < 0) {
                    return 'up'
                }
            },

            defineScrollDirection: function (e) {
                if (e.type == "keydown") {
                    return this.getKeyCode(e);
                } else if (e.type == "touchstart" || e.type == "touchmove" || e.type == "touchend") {
                    return this.getSwipeDirection(e);
                } else if (e.type == "wheel") {
                    return this.getWheelDirection(e);
                }
            },

        }


        var ElementsMoving = {


            runnerMove: function () {

                var direction = CustomScrollSettings.direction,
                    step_size = ElementsSizes.container_step_size(),
                    runner_marker = CustomScrollSettings.runner_marker,
                    thumb = ElementsDefinition.thumb(),
                    runner_step_size = ElementsSizes.runner_step_size();


                if (direction == 'down') { //-
                    if (runner_marker) {
                        CustomScrollSettings.runner_step += runner_step_size;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    } else {
                        CustomScrollSettings.runner_step = (100 - parseFloat(thumb.style.height));
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    }
                } else if (direction == 'up') { //+
                    if (runner_marker) {
                        CustomScrollSettings.runner_step -= runner_step_size;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    } else {
                        CustomScrollSettings.runner_step = 0;
                        thumb.style.top = CustomScrollSettings.runner_step + "%";
                    }
                }
            },


            containerMove: function () {
                var direction = CustomScrollSettings.direction,
                    step_size = CustomScrollSettings.container_step_size,
                    container = ElementsDefinition.container(),
                    wrapper_height = ElementsSizes.wrapper_height(container),
                    container_height = ElementsSizes.container_height(container);

                if (direction == 'down') {
                    if (container_height - wrapper_height + CustomScrollSettings.step > step_size) { //-  
                        CustomScrollSettings.runner_marker = true;
                        CustomScrollSettings.step -= step_size;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "";
                        setScrollPositionValue();
                    } else {
                        CustomScrollSettings.runner_marker = false;
                        container.style.transform = "translateY(-" + (container_height - wrapper_height) + "px)";
                        CustomScrollSettings.scroll_position = "end";
                        setScrollPositionValue();
                    }
                } else if (direction == 'up') {
                    if (CustomScrollSettings.step + step_size < 0) {
                        CustomScrollSettings.runner_marker = true;
                        CustomScrollSettings.step += step_size;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "";
                        setScrollPositionValue();
                    } else {
                        CustomScrollSettings.runner_marker = false;
                        CustomScrollSettings.step = 0;
                        container.style.transform = "translateY(" + CustomScrollSettings.step + "px)";
                        CustomScrollSettings.scroll_position = "start";
                        setScrollPositionValue();
                    }
                }
            },

        }

        ElementsSizes.setRunnerSize();

        addScrollListeners();

    }

})();
/*! device.js 0.2.7 */
(function(){var a,b,c,d,e,f,g,h,i,j;b=window.device,a={},window.device=a,d=window.document.documentElement,j=window.navigator.userAgent.toLowerCase(),a.ios=function(){return a.iphone()||a.ipod()||a.ipad()},a.iphone=function(){return!a.windows()&&e("iphone")},a.ipod=function(){return e("ipod")},a.ipad=function(){return e("ipad")},a.android=function(){return!a.windows()&&e("android")},a.androidPhone=function(){return a.android()&&e("mobile")},a.androidTablet=function(){return a.android()&&!e("mobile")},a.blackberry=function(){return e("blackberry")||e("bb10")||e("rim")},a.blackberryPhone=function(){return a.blackberry()&&!e("tablet")},a.blackberryTablet=function(){return a.blackberry()&&e("tablet")},a.windows=function(){return e("windows")},a.windowsPhone=function(){return a.windows()&&e("phone")},a.windowsTablet=function(){return a.windows()&&e("touch")&&!a.windowsPhone()},a.fxos=function(){return(e("(mobile;")||e("(tablet;"))&&e("; rv:")},a.fxosPhone=function(){return a.fxos()&&e("mobile")},a.fxosTablet=function(){return a.fxos()&&e("tablet")},a.meego=function(){return e("meego")},a.cordova=function(){return window.cordova&&"file:"===location.protocol},a.nodeWebkit=function(){return"object"==typeof window.process},a.mobile=function(){return a.androidPhone()||a.iphone()||a.ipod()||a.windowsPhone()||a.blackberryPhone()||a.fxosPhone()||a.meego()},a.tablet=function(){return a.ipad()||a.androidTablet()||a.blackberryTablet()||a.windowsTablet()||a.fxosTablet()},a.desktop=function(){return!a.tablet()&&!a.mobile()},a.television=function(){var a;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],a=0;a<television.length;){if(e(television[a]))return!0;a++}return!1},a.portrait=function(){return window.innerHeight/window.innerWidth>1},a.landscape=function(){return window.innerHeight/window.innerWidth<1},a.noConflict=function(){return window.device=b,this},e=function(a){return-1!==j.indexOf(a)},g=function(a){var b;return b=new RegExp(a,"i"),d.className.match(b)},c=function(a){var b=null;g(a)||(b=d.className.replace(/^\s+|\s+$/g,""),d.className=b+" "+a)},i=function(a){g(a)&&(d.className=d.className.replace(" "+a,""))},a.ios()?a.ipad()?c("ios ipad tablet"):a.iphone()?c("ios iphone mobile"):a.ipod()&&c("ios ipod mobile"):a.android()?c(a.androidTablet()?"android tablet":"android mobile"):a.blackberry()?c(a.blackberryTablet()?"blackberry tablet":"blackberry mobile"):a.windows()?c(a.windowsTablet()?"windows tablet":a.windowsPhone()?"windows mobile":"desktop"):a.fxos()?c(a.fxosTablet()?"fxos tablet":"fxos mobile"):a.meego()?c("meego mobile"):a.nodeWebkit()?c("node-webkit"):a.television()?c("television"):a.desktop()&&c("desktop"),a.cordova()&&c("cordova"),f=function(){a.landscape()?(i("portrait"),c("landscape")):(i("landscape"),c("portrait"))},h=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(h,f,!1):window.attachEvent?window.attachEvent(h,f):window[h]=f,f(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:window.device=a}).call(this);

var header = document.getElementsByTagName('header')[0];



/**
 * set modal button
 */
function setModalButton() {
    for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
        document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
    }
    if (document.querySelector('section.work_top_part .bg_top .wrapper .description a')) {
        document.querySelector('section.work_top_part .bg_top .wrapper .description a').addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
        document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
        document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
    }
    if (document.querySelector('footer .contacts >p >a')) {
        document.querySelector('footer .contacts >p >a').addEventListener('click', modalOpen);
    }
    for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
        document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
    }
}



function modalOpen(e) {
	mark = false;
    e.preventDefault();
    takeUsedButton(e);
    var modal_id = e.target.getAttribute('data-modal-id');

    document.getElementById(modal_id).style.display = "block";
    var int = setInterval(function () {
        if ((getComputedStyle(document.getElementById(modal_id)).opacity) < 0.98) {
            document.getElementById(modal_id).style.opacity = +document.getElementById(modal_id).style.opacity + 0.1;
        } else {
            clearInterval(int)
        }
    }, 30)
    var body_width = document.body.offsetWidth;
    window_offset = window.pageYOffset;
    document.body.style.marginRight = window.innerWidth - body_width + "px";
    header.style.marginRight = window.innerWidth - body_width + "px";
    document.body.style.width = body_width + "px";
    document.body.style.top = "-" + window_offset + "px";
    document.body.classList.add('hidden');
    header.style.display = "none";

}

function modalClose(e) {
    checkSize();
    var elem = e.target;
    while (!elem.classList.contains('modal')) {
        elem = elem.parentElement;
    }
    var modal_id = elem.id;
    document.getElementById(modal_id).style.display = "none";
    document.getElementById(modal_id).style.opacity = "0";
    document.body.style.marginRight = 0;
    header.style.marginRight = 0;
    document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
    document.body.classList.remove('hidden');
    window.scrollTo(0, window_offset);
    header.style.display = "block";
}

function takeUsedButton(e) {
    if (e.target.hasAttribute('data-trigger-ident') && $('.work_directions').length > 0) {
        document.getElementById('takes_used_button').value = e.target.getAttribute('data-trigger-ident')
    }
}



setModalButton()





function setModalAttribute() {
    var elem = document.querySelector('section.work_top_part .description a[href^="#"]');
    if (elem) {
        console.log('link exist');
        elem.setAttribute('data-modal-id', 'modal_order');
        elem.setAttribute('data-trigger-ident', 'vnutryak')
    }


}


setModalAttribute()




if (document.getElementById('tel_modal')) {
    document.getElementById('tel_modal').addEventListener('focus', showTelComment);
    document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
}

/**
 * show comment for tel form in modal window
 */
function showTelComment() {
    var tel_comment = document.querySelector('.tel_comment');
    tel_comment.style.visibility = "visible";
    tel_comment.style.opacity = "1";
}

function hideTelComment() {
    var tel_comment = document.querySelector('.tel_comment');
    tel_comment.style.visibility = "hidden";
    tel_comment.style.opacity = "0";
}
;
var window_offset;
var aspect_ratio = 1280 / 900;
var mark;
var version;
checkSize();
setDefaultVersion();

	$(window).on('resize', checkSize)

	
	function checkSize(){
		if (window.innerWidth / window.innerHeight > aspect_ratio) {
			mark = true;
			version = "desktop";
			
			
		} else  {
			mark = false;
			version = "tablet";
			
			
		}	
	}

	function setDefaultVersion(){
		if (mark) {			
			version = "desktop";			
			
		} else  {		
			version = "tablet";		
			
		}	
	}



(function () {
    'use strict';

    if ($('.work_content').length > 0) {

        $('body').css('overflow', 'auto')
    }





    // Show/hide footer on header in button click

    document.querySelector('#cont_btn').addEventListener('click', function (e) {
        e.preventDefault();
        $('footer').addClass('active');
    })

    document.querySelector('.footer_close').addEventListener('click', function () {
        $('footer').removeClass('active');
    })

    /* -----------------------------------------  Header ----------------------------------------- */




    /* Sliding header elems when page has loaded */



    function addTransitionClassToHeaderElems() {
        var header_elem = document.querySelectorAll('header nav ul li, header nav .logo, header .contacts .tel, header .contacts .lang_btn, header .contacts .submit_app_btn ');
        for (var i = 0; i < header_elem.length; i++) {
            header_elem[i].classList.add('trans_right');
        }
    }


    function slideHeaderElems() {
        var header_elem = document.querySelectorAll('.trans_right');
        var i = 0;
        var interval = setInterval(function () {
            if (i < header_elem.length) {
                header_elem[i].classList.remove('trans_right');
                i++
            } else(clearInterval(interval))
        }, 300)
    }


    addTransitionClassToHeaderElems(); //this commented on the site
    slideHeaderElems(); //this commented on the site



    /**
     * show header lang onhover
     * @param {object} e [[lang elem]]
     */

    if (document.getElementsByClassName('tel_num').length > 0 && device.desktop()) {
        for (var i = 0; i < document.getElementsByClassName('tel_num').length; i++) {
            document.getElementsByClassName('tel_num')[i].addEventListener('mouseenter', showHeaderTel);
            document.getElementsByClassName('tel_num')[i].addEventListener('mouseleave', hideHeaderTel);
        }
    }


    function showHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].removeAttribute('hidden');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.add('active');
        document.querySelector('header .contacts .tel').classList.add('active');
    }

    function hideHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].setAttribute('hidden', '');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.remove('active');
        document.querySelector('header .contacts .tel').classList.remove('active');

    }


    /**
     * elem on tel header
     */
    function createElemsForTablets() {
        if (!device.desktop() && document.querySelector('header .contacts .tel')) {
            var area = document.createElement('div');
            document.querySelector('header .contacts .tel').appendChild(area);
            area.classList.add('correct_work_on_tablet');
        }
    }
    createElemsForTablets();


    /**
     * [show header tels on tablets]
     */
    function tabletHeaderTelToggle() {
        if (document.querySelector('.correct_work_on_tablet').classList.contains('active')) {
            document.querySelector('.correct_work_on_tablet').classList.remove('active');
            hideHeaderTel()
        } else {
            document.querySelector('.correct_work_on_tablet').classList.add('active');
            showHeaderTel()
        }
    }


    if (document.querySelector('.correct_work_on_tablet')) {
        document.querySelector('.correct_work_on_tablet').addEventListener('click', tabletHeaderTelToggle);
    }





    /**
     * show and hide header lists
     * @param {[[string]]} elem_class_name [name of class of list element]
     */
    function showElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.add('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].removeAttribute('hidden')
        }
    }

    function hideElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.remove('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].setAttribute('hidden', '')
        }
    }






    /**
     * for header menus
     * @param {object} e [clicked elem]
     */
    function checkTarget(e) {
        if (document.getElementsByClassName('lang').length > 0) {
            if (!e.target.classList.contains('lang') || (e.target.classList.contains('lang') && e.target.classList.contains('active'))) {
                if (e.target.classList.contains('lang')) {
                    e.target.classList.remove('active')
                }
                hideElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.remove('active')
                }
            } else if (e.target.classList.contains('lang')) {
                showElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.add('active')
                }
            }
        }
    }

    window.addEventListener('click', checkTarget);
    window.addEventListener('touchstart', checkTarget);



    /* ----------------------------------------- < HEADER ----------------------------------------- */



    /* ----------------------------------------- PLANETS > ----------------------------------------- */



    /**
     * add listeners for animated planets glowing
     */
    function manageGlowing() {
        var elem = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < elem.length; i++) {
            elem[i].addEventListener('mouseenter', showGlowing);
            elem[i].addEventListener('mouseleave', hideGlowing);
        }
    };
    manageGlowing();


    /**
     * create glowing across animated planets
     */
    function createGlowingPlanets() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var parent = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < img.length; i++) {
            var new_elem = document.createElement('div');
            new_elem.classList.add('glowing');
            parent[i].insertBefore(new_elem, img[i]);
        }
    };
    createGlowingPlanets();

    /**
     * tuning of glowing planets
     */
    function glowingPlanet() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img'),
            planet = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service .glowing');
        for (var i = 0; i < planet.length; i++) {
            planet[i].style.left = '5%';
            planet[i].style.top = img[i].offsetHeight / 4 + 'px';
            planet[i].style.width = '20%';
            planet[i].style.height = img[i].offsetHeight / 2 + 'px';
        }
    };
    glowingPlanet();

    function showGlowing(e) {
        e.target.querySelector(".glowing").classList.add('active');
    }

    function hideGlowing(e) {
        e.target.querySelector(".glowing").classList.remove('active');
    }


    /* ----------------------------------------- < PLANETS ----------------------------------------- */


    /* ----------------------------------------- HIGHSLIDE FIX > ----------------------------------------- */




    /**
     * [highslide run as modal window]
     */
    function bodyFixOn() {
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        document.querySelector('header').style.display = "none";
        addStyleForHighslide()
    }

    /* replace to highslide.js
    function bodyFixOut() {
         document.body.style.marginRight = 0;
         document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
         document.body.classList.remove('hidden');
         window.scrollTo(0, window_offset);
         document.body.removeChild(document.querySelector('.style_tag'))
     }*/


    /**
     * [calc height for slide depends on window height and add style on page]
     */
    function addStyleForHighslide() {
        var height = window.innerHeight - 30;
        var div = document.createElement('div');
        var style = document.createElement('style');
        document.body.appendChild(div);
        div.appendChild(style);
        div.classList.add('style_tag');
        var newtext = document.createTextNode('.highslide-container {position: fixed !important; overflow: auto !important; height: ' + height + 'px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}');
        style.appendChild(newtext);
    }
    /**
     * [on page 'works' add listener on links bounded with highslide module ]
     */
    function highSlidePopUp() {
        var slide_link = document.querySelectorAll('.work_content a.highslide');
        if (slide_link.length > 0) {
            for (var i = 0; i < slide_link.length; i++) {
                slide_link[i].addEventListener('click', bodyFixOn)
            }
        }
    };
    highSlidePopUp();

    /* ----------------------------------------- < HIGHSLIDE FIX ----------------------------------------- */



    /* ----------------------------------------- FORMS > ----------------------------------------- */

    if (document.getElementsByTagName('button')) {
        addButtonListener()
    }


    /**
     * listener for change color of invalid field
     */
    function addButtonListener() {
        var form_button = document.getElementsByTagName('button')
        for (var i = 0; i < form_button.length; i++) {
            form_button[i].addEventListener('click', changeInvalidColor)
        }
    }
    /**
     * change color of input form if there is wrong value
     * @param {object} e [get clicked element (search in it's parent)]
     */
    function changeInvalidColor(e) {
        var form_input = e.target.parentElement.getElementsByTagName('input');
        for (var i = 0; i < form_input.length; i++) {
            form_input[i].classList.add('valid')
        }
    }



    /* ----------------------------------------- < FORMS ----------------------------------------- */


    /* ----------------------------------------- OTHER > ----------------------------------------- */



    function createRedLine() {
        var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');

        if (title.length > 2) {
            for (var i = 0; i < title.length; i++) {
                var elem = document.createElement('div')
                var line = title[i].appendChild(elem);
                line.classList.add('thin_red_line');
            }
        }
    }

    createRedLine();


    /* ----------------------------------------- < OTHER ----------------------------------------- */


})();




var ScrollDirection = {

    getKeyCode: function (e) {
        if (e.keyCode == 40) {
            return 'down'
        } else if (e.keyCode == 38) {
            return 'up'
        }
    },

    getTouchCoord: function (e) {
        return e.touches[0].clientY
    },

    getSwipeDirection: function (e) {
        if (e.type == 'touchstart') {
            this.firstCoord = this.getTouchCoord(e);
            this.lastCoord = NaN;
        } else if (e.type == 'touchmove') {
            this.lastCoord = this.getTouchCoord(e);
        } else {
            if (this.lastCoord - this.firstCoord > GlobalVariables.touch_sensitivity) {
                return 'up';
            } else if (this.lastCoord - this.firstCoord < -GlobalVariables.touch_sensitivity) {
                return 'down';
            }
        }

    },

    getWheelDirection: function (e) {
        if (e.deltaY > 0) {
            return 'down'
        } else if (e.deltaY < 0) {
            return 'up'
        }
    },

    defineScrollDirection: function (e) {
        if (e.type == "keydown") {
            return this.getKeyCode(e);
        } else if (e.type == "touchstart" || e.type == "touchmove" || e.type == "touchend") {
            return this.getSwipeDirection(e);
        } else if (e.type == "wheel") {
            return this.getWheelDirection(e);
        }
    },
}




function fixBodyForSafari() {

    $('body').addClass('fix_for_safari');

}



function unfixBodyForSafari() {

    $('body').removeClass('fix_for_safari');

}


/* HEADER & FOOTER > */


function changeHeaderColor() {
    if ($("header").length > 0) {
        if (window.pageYOffset > 0) {
            showHeaderBg();
        } else {
            hideHeaderBg();
        }
    }
}

function showHeaderBg() {
    $('header .header_bg').css('opacity', '0.9');
}

function hideHeaderBg() {
    $('header .header_bg').css('opacity', '0');
}



function addHeaderContactButton() {
    if (window.innerWidth / window.innerHeight > aspect_ratio) {

        document.querySelector('#cont_btn').addEventListener('click', function (e) {
            e.preventDefault();
            $('footer').addClass('active');
        })

        document.querySelector('.footer_close').addEventListener('click', function (e) {
            e.preventDefault();
            $('footer').removeClass('active');
        })
    }

}

addHeaderContactButton();



function manageHeader() {
    if (window.innerWidth / window.innerHeight <= aspect_ratio || $('.work_content').length > 0) {
        unfixBodyForSafari();
        window.addEventListener('scroll', changeHeaderColor);
    } else {
        window.removeEventListener('scroll', changeHeaderColor);
    }
}

manageHeader();

function setFooterOffset() {
    if (window.innerWidth / window.innerHeight > aspect_ratio && $('.work_directions').length > 0 || $('.best_works_screen').length > 0 || $('.work_content').length > 0 ) {
        $('footer').css('bottom', -$('footer').innerHeight());
    }
	else { $('footer').css('bottom', 0);}
}
setFooterOffset()

$(window).on('resize', setFooterOffset)



/* < HEADER & FOOTER */

;
(function () {
    'use strict';

    var window_offset;
    var head_nav_btn = document.querySelector('.toggle_btn');
    var lang_btn = document.querySelector('.lang_btn');
    var slider = document.getElementsByClassName('slider');
    var direction;
    var x1, x2;

    setModalButton();
    addListeners();




    /**
     * set modal button
     */
    function setModalButton() {
        for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
            document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('section.work_part a')) {
            document.querySelector('section.work_part a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
            document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
            document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
            document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
        }
    }




    /**
     * modal_window + smooth display
     */
    function modalOpen(e) {
        var index;
        if (e.target.classList.contains('submit_app_btn') || (!e.target.classList.contains('modal_resume') && !e.target.classList.contains('modal_comment') && e.target.tagName == 'A')) {
            index = 0;
        } else if (e.target.classList.contains('modal_resume')) {
            e.preventDefault();
            index = 1
        } else if (e.target.classList.contains('modal_comment')) {
            e.preventDefault();
            index = 2
        }

        document.getElementsByClassName('modal')[index].removeAttribute('hidden');
        document.getElementsByClassName('modal')[index].style.opacity = "1";
        window_offset = window.pageYOffset;
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
    }

    function modalClose(e) {
        var index;
        if (e.target.parentElement.parentElement.id == 'modal_order') {
            index = 0
        } else if (e.target.parentElement.parentElement.id == 'modal_resume') {
            index = 1
        } else if (e.target.parentElement.parentElement.id == 'modal_comment') {
            index = 2
        }
        document.getElementsByClassName('modal')[index].setAttribute('hidden', '');
        document.getElementsByClassName('modal')[index].style.opacity = "0";

        document.body.classList.remove('hidden');
        document.body.style.top = "0";
        window.scrollTo(0, window_offset);
    }


    /**
     * add listeners for toggle elements
     */
    function addListeners() {
        if (head_nav_btn) {
            head_nav_btn.addEventListener('click', toggleNav);
        }

        if (document.getElementById('tel_modal')) {
            document.getElementById('tel_modal').addEventListener('focus', showTelComment);
            document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
        }
    }

    /**
     * show/hide header nav
     */

    function toggleNav() {
        if (head_nav_btn.classList.contains('active')) {
            head_nav_btn.classList.remove('active');
            head_nav_btn.parentElement.querySelector('ul').setAttribute('hidden', '');
            head_nav_btn.parentElement.querySelector('ul').style.opacity = "0"

        } else {
            head_nav_btn.classList.add('active');
            head_nav_btn.parentElement.querySelector('ul').removeAttribute('hidden')
            head_nav_btn.parentElement.querySelector('ul').style.opacity = "1"
        }
    }



    /**
     * show comment for tel form in modal window
     */
    function showTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "visible";
        tel_comment.style.opacity = "1";
    }

    function hideTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "hidden";
        tel_comment.style.opacity = "0";
    }









    /**
     * set width of slider_wrapper
     */
    function setSliderWidth() {
        if (slider.length > 0) {
            for (var i = 1; i < slider.length; i++) {
                var slide = slider[i].getElementsByClassName('slide');

                slider[i].querySelector('.slides_wrapper').style.width = slide.length * 100 + '%';
                var full_width = slide.length * 100;
                for (var j = 0; j < slide.length; j++) {
                    slide[j].style.width = 100 / slide.length + '%';
                }


            }
        }
    }



    setSliderWidth()






    /* --------------------------------------------- sliders --------------------------------------------- */


    /**
     * slider: moving + arrow hiding;
     * @param {object} e [clicked element]
     */
    function sliderArrowMove(e) {
        var elem = e.target;
        console.log(e.target)
        if (!elem.classList.contains('slider')) {

            while (!elem.parentElement.classList.contains('slider')) {
                elem = elem.parentElement;

            }


            //    if (elem.parentElement.classList.contains('slider')) {





            var control = elem.parentElement.querySelector('input[type="hidden"]');
            var slide_index = parseInt(elem.parentElement.querySelector('.slide_index').getAttribute('data-slider'));
            var tick = parseInt(control.value);


            if (elem.getAttribute('data-direction') == 'right' || direction == 'left' && tick != 0) {
                control.value = tick - 1;
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(slide_index, 0);
                } else if (tick === (elem.parentElement.querySelectorAll('.slide').length - 2)) {
                    showSliderArrow(slide_index, 1);
                }
            } else if (elem.getAttribute('data-direction') == 'left' || direction == 'right' && tick != (elem.parentElement.querySelectorAll('.slide').length - 1)) {
                control.value = tick + 1;
                tick += 1;
                console.log(tick);
                if (tick == (elem.parentElement.querySelectorAll('.slide').length - 1)) {
                    hideSliderArrow(slide_index, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(slide_index, 0);
                }
            }
            var slides_wrapper = elem.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";


        }



    }


    /*
    
    
    function sliderArrowMove(e) {console.log(e.target);
                                 
                                 
                                 
                                 
                                 
        var control = e.target.parentElement.querySelector('input[type="hidden"]');
        var slide_index = parseInt(e.target.parentElement.querySelector('.slide_index').getAttribute('data-slider')) ;
        var tick = parseInt(control.value);


        if (e.target.getAttribute('data-direction') == 'right' || sliderTouch() == 'left') {
            control.value = tick - 1;
            tick -= 1;
            if (tick === 0) {

                hideSliderArrow(slide_index, 0);
            } else if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                showSliderArrow(slide_index, 1);
            }
        } else if (e.target.getAttribute('data-direction') == 'left' || sliderTouch() == 'right') {
            control.value = tick + 1;
            tick += 1;
            console.log(tick);
            if (tick == (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                hideSliderArrow(slide_index, 1);
            }
            if (tick >= 1) {
                showSliderArrow(slide_index, 0);
            }
        }
        var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        slides_wrapper.style.transform = "translateX(-" + tick * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";
                                 
                                 
                                 
                                 

    }

    
    */

    /* --------------------------------------------- events --------------------------------------------- */

    /**
     * add listener for arrows at sliders
     */
    function getArrows() {
        for (var i = 0; i < document.querySelectorAll('.slider .arrow').length; i++) {
            document.querySelectorAll('.slider .arrow')[i].addEventListener('click', sliderArrowMove);
        }
    }


    getArrows()



    /**
     * Hiding arrows when slides ends
     * @param {[[num]]} indexSlider [[index of slider on page]]
     * @param {[[num]]} indexArrow  [[index of arrow]]
     */

    function hideSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
        }

    }

    function showSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
        }
    }

    function checkIfSlidesExist() {
        for (var i = 0; i < slider.length; i++) {
            if (slider[i]) {
                hideSliderArrow(i, 0);
                if (slider[i].getElementsByClassName('slide').length < 2) {

                    hideSliderArrow(i, 1)
                }
            }
        }
    }
    checkIfSlidesExist()


    function sliderController() {
        for (var i = 0; i < slider.length; i++) {
            slider[i].querySelector('input[type="hidden"]').value = "0";
        }
    }


    sliderController()




    function sliderTouch() {
        for (var i = 0; i < slider.length; i++) {
            slider[i].addEventListener('touchstart', sliderTouchMove);
            slider[i].addEventListener('touchmove', sliderTouchMove)
            slider[i].addEventListener('touchend', sliderTouchMove);
        }

    }





    function sliderTouchMove(e) {

        if (e.type == "touchstart") {
            x1 = e.touches[0].clientX;
        } else if (e.type == "touchmove") {
            x2 = e.touches[0].clientX;
        } else if (e.type == "touchend") {
            calcTouchDifference(e)
        }
    }


    function calcTouchDifference(e) {
        direction = null;
        var difference = x1 - x2;
        if (x1 > x2 && difference > 10 && x2 !== 0) {
            direction = 'right';
            x1 = 0;
            x2 = 0;
        } else if (x2 > x1 && difference < -10) {
            direction = "left";
            x1 = 0;
            x2 = 0;
        }
        if (direction !== null) {
            sliderArrowMove(e)


        }
    }


    sliderTouch()
    
    
    function workCarouselSize() {
        var scr_wrap = document.querySelector('.screens_wrapper');
        if (scr_wrap) {
            scr_wrap.style.width = parseFloat(getComputedStyle(scr_wrap.querySelector('img')).width) * scr_wrap.querySelectorAll('img').length + 'px';
                               
                      }
        
        
    }
    workCarouselSize() 

    
 







})();
function showIndexPageSaparately() {
	 'use strict';
	if ($('.work_directions').length > 0) {

    /* INDEX PAGE ON WIDE SCREEN*/


   
	
	$(window).on('resize', checkVersion)
	
	function checkVersion(){
	if (mark && version == "tablet") {
			version = "desktop";	
			changeParameters();
		} else if (!mark && version == "desktop"){
			version = "tablet";
			changeParameters();
		}
	}

	function changeParameters() {
		GlobalVariables.screen_num = 1;
		translateFullScreen(screen_effect.scr1);
		removeAllClassesFromPortfolio();
		window.scrollTo(0,0);
  
	}
	



        fixBodyForSafari();

        var GlobalVariables = {
            transition_time: "700",
            screen_num: 1,          
            touch_sensitivity: 30,

        }

        var screen_effect = {
            scr1: "0",
            scr2: "-100%",
            scr3: "-200%",
            scr4: "-300%",
        }



        function addScrollListeners(funcName) {
            var listeners = ['wheel', 'keydown', 'touchstart', 'touchmove', 'touchend'];
            for (var i = 0; i < listeners.length; i++) {
                window.addEventListener(listeners[i], function (e) {
                    funcName(e);
                })
            }
        };

        addScrollListeners(pageScroll)



        function addTransitionTime(selector) {
            for (var i = 0; i < arguments.length; i++) {
                if (document.querySelector(arguments[i])) {
                    document.querySelector(arguments[i]).style.transition = GlobalVariables.transition_time + "ms";
                }
            }
        }

        addTransitionTime('.main_wrapper',
            '.single_work:nth-of-type(1)',
            '.single_work:nth-of-type(1) >div:nth-of-type(1)',
            '.single_work:nth-of-type(1) >div:nth-of-type(2)',
            '.single_work:nth-of-type(2)',
            '.single_work:nth-of-type(3)',
            '.single_work:nth-of-type(4)',
            '.single_work:nth-of-type(5) >div:nth-of-type(1)',
            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
            '.single_work:nth-of-type(6)');




        function pageScroll(e) {
            var direction = ScrollDirection.defineScrollDirection(e);
            if (direction == 'down') {
                if (mark) {
                    mark = false;
                    translateBody('down');
                    if (!GlobalVariables.screen_num == 2) {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    } else {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    }
                }
            } else if (direction == 'up' && GlobalVariables.screen_num > 1) {
                if (mark) {
                   mark = false;
                    translateBody('up');
                    if (!GlobalVariables.screen_num == 3) {
                        setSecurityTrigger(GlobalVariables.transition_time)
                    } else {
                        setSecurityTrigger(GlobalVariables.transition_time * 2)
                    }
                }
            }
        }



        function setSecurityTrigger(time) {
            setTimeout(function () {
                mark = true;
            }, time)
        }






        //  

        function displayOn(selector) {
            for (var i = 0; i < arguments.length; i++) {
                document.querySelector(arguments[i]).style.display = "block"
            }

        }

        function displayOff(is_transit, transit_time, selector) {
            var time = transit_time || GlobalVariables.transition_time;

            function dOff() {
                for (var i = 2; i < arguments.length; i++) {
                    document.querySelector(arguments[i]).style.display = "none"
                }
            }
            var args = arguments;

            if (is_transit) {
                setTimeout(function () {
                    dOff.apply(null, args)
                }, time)
            } else {
                dOff.apply(null, arguments)
            }
        }

        function translateFullScreen(coord) {
            return document.querySelector('.main_wrapper').style.top = coord;
        }

        function addClass(classSelector, selector) {
            for (var i = 1; i < arguments.length; i++) {
                document.querySelector(arguments[i]).classList.add(classSelector);
            }
        }

        function removeClass(classSelector, selector) {
            for (var i = 1; i < arguments.length; i++) {
                document.querySelector(arguments[i]).classList.remove(classSelector);
            }
        }

        function setHeight(selector) {
            document.querySelector(selector).style.height = getHeight(selector) + 'px';
        }

        function getHeight(selector) {
            return document.querySelector(selector).offsetHeight
        }



        function removeAllClassesFromPortfolio() {
            var work = document.querySelectorAll('.single_work');
            for (var i = 1; i <= work.length; i++) {
                displayOff(true, false, '.single_work:nth-of-type(' + i + ')')
            }

            removeClass('active',
                '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                '.single_work:nth-of-type(1) >div:nth-of-type(2)',
                '.single_work:nth-of-type(2)',
                '.single_work:nth-of-type(3)',
                '.single_work:nth-of-type(4)',
                '.single_work:nth-of-type(5) >div:nth-of-type(1)',
                '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                '.single_work:nth-of-type(6)'
            );

            removeClass('remove',
                '.single_work:nth-of-type(1)',
                '.single_work:nth-of-type(2)',
                '.single_work:nth-of-type(3)',
                '.single_work:nth-of-type(4)',
                '.single_work:nth-of-type(5) >div:nth-of-type(2)');

        }




        function translateBody(direction) {


            if (direction == "down") {

                switch (GlobalVariables.screen_num) {

                    case 1:

                        translateFullScreen(screen_effect.scr2);

                        showUnderlinePlanets();

                        GlobalVariables.screen_num++;

                        break;

                    case 2:

                        translateFullScreen(screen_effect.scr3);

                        displayOn('.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)',
                            '.single_work:nth-of-type(4)');

                        setTimeout(function () {
                            addClass('active',
                                '.scroll_mouse',
                                '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                                '.single_work:nth-of-type(1) >div:nth-of-type(2)');

                        }, GlobalVariables.transition_time);

                        setTimeout(function () {
                            displayOn('.single_work:nth-of-type(1) .hover_logo');

                        }, GlobalVariables.transition_time * 2);

                        GlobalVariables.screen_num++;
                        break;

                    case 3:
                        addClass('active',
                            '.single_work:nth-of-type(2)');

                        GlobalVariables.screen_num++;
                        break;

                    case 4:
                        addClass('active',
                            '.single_work:nth-of-type(3)');

                        GlobalVariables.screen_num++;
                        break;

                    case 5:

                        addClass('remove',
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        addClass('active',
                            '.single_work:nth-of-type(4)');

                        displayOn('.single_work:nth-of-type(5)',
                            '.single_work:nth-of-type(6)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo',
                            '.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num++;
                        break;

                    case 6:
                        addClass('remove',
                            '.single_work:nth-of-type(4)');

                        addClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');


                        displayOff(true,
                            false,
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        displayOn('.single_work:nth-of-type(5) .hover_logo');

                        GlobalVariables.screen_num++;
                        break;

                    case 7:
                        addClass('remove',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                        addClass('active',
                            '.single_work:nth-of-type(6)',
                            '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        removeClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo');

                        manageNavArrows();

                        GlobalVariables.screen_num++;
                        break;

                    case 8:
                        translateFullScreen(screen_effect.scr4);

                        setHeight('.scroll_container_wrapper .scroll_block');

                        addClass('remove', '.scroll_mouse');

                        removeClass('active', '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        GlobalVariables.screen_num++;
                        break;

                    case 9:
                        document.querySelector('.scroll_marker').value = "true";
                        if (document.querySelector('.scroll_position').value == "end") {
                            addClass('active', 'footer');
                        }
                        break;



                }
            } else if (direction == "up") {

                switch (GlobalVariables.screen_num) {

                    case 1:
                        break;

                    case 2:
                        translateFullScreen(screen_effect.scr1);

                        GlobalVariables.screen_num--;
                        break;

                    case 3:
                        removeClass('active',
                            '.scroll_mouse',
                            '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                            '.single_work:nth-of-type(1) >div:nth-of-type(2)')

                        displayOff(true,
                            false,
                            '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)',
                            '.single_work:nth-of-type(4)');

                        setTimeout(function () {
                            translateFullScreen(screen_effect.scr2);

                        }, GlobalVariables.transition_time)

                        showUnderlinePlanets();

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num--;
                        break;

                    case 4:
                        removeClass('active',
                            '.single_work:nth-of-type(2)');

                        GlobalVariables.screen_num--;
                        break;

                    case 5:

                        removeClass('active', '.single_work:nth-of-type(3)');

                        GlobalVariables.screen_num--;
                        break;

                    case 6:
                        removeClass('remove', '.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        removeClass('active', '.single_work:nth-of-type(4)');

                        displayOff(true, false,
                            '.single_work:nth-of-type(5)',
                            '.single_work:nth-of-type(6)');

                        displayOn('.single_work:nth-of-type(1) .hover_logo');

                        GlobalVariables.screen_num--;
                        break;

                    case 7:
                        removeClass('remove',
                            '.single_work:nth-of-type(4)');

                        removeClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOn('.single_work:nth-of-type(1)',
                            '.single_work:nth-of-type(2)',
                            '.single_work:nth-of-type(3)');

                        displayOff(false,
                            false,
                            '.single_work:nth-of-type(5) .hover_logo');


                        GlobalVariables.screen_num--;
                        break;

                    case 8:
                        removeClass('remove',
                            '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                        removeClass('active',
                            '.single_work:nth-of-type(6)',
                            '.single_work_full_bg',
                            '.works_arrows_wrapper',
                            'section.performed_works .main_h');

                        addClass('active',
                            '.single_work:nth-of-type(5) >div:nth-of-type(1)');

                        displayOn('.single_work:nth-of-type(5) .hover_logo');

                        GlobalVariables.screen_num--
                            break;

                    case 9:
                        document.querySelector('.scroll_marker').value = "";

                        if (document.querySelector('footer').classList.contains('active')) {

                            removeClass('active', 'footer');

                        } else if (document.querySelector('.scroll_container').style.transform == "translateY(0px)") {
                            document.querySelector('.scroll_marker').value = "";

                            translateFullScreen(screen_effect.scr3);

                            displayOn('.single_work:nth-of-type(5)',
                                '.single_work:nth-of-type(6)');

                            addClass('active',
                                '.single_work_full_bg',
                                '.works_arrows_wrapper',
                                'section.performed_works .main_h');

                            GlobalVariables.screen_num--;
                        } else {

                            document.querySelector('.scroll_marker').value = "true";
                        }

                        break;



                }
            }


        }









        /* PORT ARROWS > */

        function createNavArrows(inner_name, outer_name) {
            inner_name = $("<div>").addClass(inner_name);
            $(outer_name).append(inner_name);

        }

        createNavArrows('works_arrows_wrapper', 'section.performed_works');

        createNavArrows('up_arrow', '.works_arrows_wrapper');

        createNavArrows('down_arrow', '.works_arrows_wrapper');





        function manageNavArrows() {

            $('.works_arrows_wrapper').css('display', 'block');

            $('.works_arrows_wrapper .up_arrow').on('click', function () {
                if (GlobalVariables.screen_num > 2 && GlobalVariables.screen_num < 9) {
                    GlobalVariables.screen_num = 3;
                    translateBody('up');
                    removeAllClassesFromPortfolio();
                    removeClass('active',
                        '.single_work_full_bg',
                        '.works_arrows_wrapper',
                        'section.performed_works .main_h');
                }
            });

            $('.works_arrows_wrapper .down_arrow').on('click', function () {

                GlobalVariables.screen_num = 8;

                translateBody('down');

                addClass('active',
                    '.single_work:nth-of-type(1) >div:nth-of-type(1)',
                    '.single_work:nth-of-type(1) >div:nth-of-type(2)',
                    '.single_work:nth-of-type(2)',
                    '.single_work:nth-of-type(3)',
                    '.single_work:nth-of-type(4)',
                    '.single_work:nth-of-type(5) >div:nth-of-type(2)',
                    '.single_work:nth-of-type(6)');

                addClass('remove',
                    '.single_work:nth-of-type(1)',
                    '.single_work:nth-of-type(2)',
                    '.single_work:nth-of-type(3)',
                    '.single_work:nth-of-type(4)',
                    '.single_work:nth-of-type(5) >div:nth-of-type(2)');

                removeClass('active',
                    '.single_work:nth-of-type(5) >div:nth-of-type(1)',
                    '.single_work_full_bg',
                    '.works_arrows_wrapper',
                    'section.performed_works .main_h');

            });

        }


        /* < PORT ARROWS */









        /* DEFAULT SETTINGS > */


        document.querySelector('.scroll_container').style.transform = "translateY(0px)";


        /* < DEFAULT SETTINGS */









        /* --------- --------- ---------  UNDERLINES > --------- --------- --------- */


        // last work
        $('.single_work:nth-of-type(6)').on('mouseenter', function () {
            $(this).find('div').addClass('active');
        })


        $('.single_work:nth-of-type(6)').on('mouseleave', function () {
            $(this).find('div').removeClass('active');
        })



        // headers
        var scroll_container_height = document.querySelector('.scroll_container').offsetHeight,
            window_height = window.innerHeight;


        function showRedLine() {
            var scrolled_distance_str = document.querySelector('.scroll_container').style.transform,
                scrolled_distance_num = parseInt(scrolled_distance_str.slice(scrolled_distance_str.indexOf('(') + 1)) * -1;
            if (GlobalVariables.screen_num == 3) {
                setTimeout(function () {
                    setUnderline('section.performed_works .main_h .thin_red_line', "100rem")
                }, GlobalVariables.transition_time)


            } else if (GlobalVariables.screen_num == 9) {
                //console.log(scrolled_distance_num + '' + scroll_container_height);

                if (scrolled_distance_num > 0) {
                    setUnderline('section.review .main_h .thin_red_line', "100rem")


                }
                if (scrolled_distance_num > scroll_container_height * 2 / 5) {
                    setUnderline('section.team .main_h .thin_red_line', "100rem")
                }


            }
        }


        function setUnderline(selector, size) {
            return document.querySelector(selector).style.width = size;


        }


        addScrollListeners(showRedLine);






        //planets
        var long_line = $('section.work_directions .lines .direct_line'),
            skew_line = long_line.find('.skew_line'),
            _1_circle = long_line.find('.first_circle'),
            _2_circle = long_line.find('.second_circle'),
            _3_circle = long_line.find('.third_circle');


        function hideUnderlinePlanets() {
            long_line.css('width', '0');
            skew_line.css('width', '0');
            _1_circle.css('opacity', '0');
            _2_circle.css('opacity', '0');
            _3_circle.css('opacity', '0');
        }

        hideUnderlinePlanets()

        function showUnderlinePlanets() {
            long_line.delay(700).animate({
                width: '205rem'
            }, 600);
            skew_line.delay(2100).animate({
                width: '55rem'
            }, 600)
            _1_circle.delay(1500).animate({
                opacity: '1'
            }, 200);
            _2_circle.delay(1300).animate({
                opacity: '1'
            }, 200);
            _3_circle.delay(1300).animate({
                opacity: '1'
            }, 200);
        }

        /* --------- --------- --------- < UNDERLINES --------- --------- --------- */









        /* --------- --------- ---------  HEADER & FOOTER > --------- --------- ---------  */

        /*  change color of fixed nav block when scrolled under nth px       */



        function changeHeaderColor() {
            if ($("header").length > 0) {
                if (GlobalVariables.screen_num > 1) {
                    showHeaderBg();
                } else {
                    hideHeaderBg();
                }
            }
        }

        window.addEventListener('touchstart', changeHeaderColor);
        window.addEventListener('wheel', changeHeaderColor);
        window.addEventListener('keydown', changeHeaderColor);






        // Scroll to position from header button 

        document.querySelector('#works_btn').addEventListener('click', function (e) {
            e.preventDefault();
            changeHeaderColor();
            removeClass('active', 'footer');
            if (GlobalVariables.screen_num > 8) {
                translateFullScreen(screen_effect.scr3);
                GlobalVariables.screen_num = 8;
            } else if (GlobalVariables.screen_num < 3) {
                GlobalVariables.screen_num = 2;
                translateBody('down');
            }
        })



        document.querySelector('#offers_btn').addEventListener('click', function (e) {
            e.preventDefault();
            changeHeaderColor();
            removeClass('active', 'footer');
            translateFullScreen(screen_effect.scr2);
            GlobalVariables.screen_num = 2;
            removeAllClassesFromPortfolio()
        })





        /* --------- --------- --------- < HEADER & FOOTER --------- --------- --------- */







        /* --------- --------- --------- PORTFOLIO HOVERS > --------- --------- --------- */


        var port = document.querySelectorAll('.dynamic_portfolio >div');

        function hoverShow(e) {

            e.target.querySelector('.hover_logo').classList.add('active');
        }

        function hoverHide(e) {
            e.target.querySelector('.hover_logo').classList.remove('active');
        }

        function goToWorkPage(e) {
            document.location.href = e.target.querySelector('a').getAttribute('href');
        }

        function addPortfolioListeners() {
            for (var i = 0; i < port.length - 1; i++) {
                if (i !== 0 && i !== 4) {
                    port[i].addEventListener('mouseenter', function (e) {
                        hoverShow(e)
                    });
                    port[i].addEventListener('mouseleave', function (e) {
                        hoverHide(e)
                    });
                    port[i].addEventListener('click', function (e) {
                        goToWorkPage(e)
                    });
                }

            }
        }

        addPortfolioListeners();

        function addHoverToWideImagesPortfolio(block_index) {
            for (var i = 0; i < arguments.length; i++) {
                port[arguments[i]].addEventListener('mouseenter',
                    function (e) {
                        hoverShow(e)
                    });

                port[arguments[i]].addEventListener('mouseleave',
                    function (e) {
                        hoverHide(e)
                    });
                port[arguments[i]].addEventListener('click',
                    function (e) {
                        goToWorkPage(e)
                    });
            }
        }

        addHoverToWideImagesPortfolio(0, 4);



        /* --------- --------- --------- PORTFOLIO HOVERS < --------- --------- --------- */


        /* ANCHOR FIX > */
        function checkLocation() {
            if (window.innerWidth / window.innerHeight > aspect_ratio && document.querySelector('.work_directions')) {
                var url = $(location).attr('href');

                if (url.indexOf('#') != -1) {
                    var from = url.indexOf('#');
                    if (url.indexOf('?') != -1) {
                        var to = url.indexOf('?');
                    }
                    var anchor = url.slice(from, to || url.length);

                    switch (anchor) {

                        case '#portfolio':

                            GlobalVariables.screen_num = 2;

                            translateBody('down');

                            changeHeaderColor();

                            showRedLine();

                            break;

                        case '#services':

                            GlobalVariables.screen_num = 1;

                            translateBody('down');

                            changeHeaderColor();

                            break;
                    }
                }
            }
        }

        checkLocation();

        /* < ANCHOR FIX  */
		
		$('.single_work:eq(5)').on('click', function(){
	 
			location.href="best_works.html"
		
		})






}

    
}


showIndexPageSaparately();

//window.addEventListener('resize', showIndexPageSaparately);

;
(function () {


    if (($('.work_directions').length > 0)) {

        var current_slider = $('section.team .slider'),
            wrapper = current_slider.find('.slides_wrapper'), // slides_wrapper
            slide = wrapper.find('.slide'), //slide_position
            amount = slide.length;


        function setWidthOnSliderElements() {

            wrapper.css('width', amount + "00%");
            slide.each(function () {
                $(this).css('width', 100 / (amount * 3) + '%')

            })
        }


        setWidthOnSliderElements();

        function setElemsAttr() {
            var slide_position = current_slider.find('.slide');
            if (slide_position[0]) {
                slide_position[0].setAttribute('data-slide-position', 'left');
            }
            if (slide_position[1]) {
                slide_position[1].setAttribute('data-slide-position', 'top');
            }
            if (slide_position[2]) {
                slide_position[2].setAttribute('data-slide-position', 'right');
            }
            if (slide_position[3]) {
                slide_position[3].setAttribute('data-slide-position', 'right_bottom');
            }
        }

        setElemsAttr()


        current_slider.find('.arrow').on('click', function (e) {
            manageSlider(e)
        })




        var tick = 0;


        function manageSlider(e) {




            var position, next, prev;
            if (e.target.getAttribute('data-direction') == 'right' && tick != 0) {
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(2, 0);
                }
                if (tick === (amount - 4)) {
                    showSliderArrow(2, 1);
                }
                for (var j = 0; j < amount; j++) {
                    position = slide[j].getAttribute('data-slide-position');

                    switch (position) {
                    case 'left_bottom':
                        slide[j].setAttribute('data-slide-position', 'left');
                        prev = slide[j].previousElementSibling;
                        break;
                    case 'left':
                        slide[j].setAttribute('data-slide-position', 'top');
                        break;
                    case 'top':
                        slide[j].setAttribute('data-slide-position', 'right')
                        break;
                    case 'right':
                        slide[j].setAttribute('data-slide-position', 'right_bottom');
                        break;
                    case 'right_bottom':
                        slide[j].removeAttribute('data-slide-position');
                        break;
                    }
                }

                if (prev) {
                    prev.setAttribute('data-slide-position', 'left_bottom');
                }
            } else if (e.target.getAttribute('data-direction') == 'left' && tick != (amount - 3)) {
                tick += 1;

                if (tick == (amount - 3)) {
                    hideSliderArrow(2, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(2, 0);
                }

                for (var j = 0; j < amount; j++) {
                    position = slide[j].getAttribute('data-slide-position');

                    switch (position) {
                    case 'left_bottom':
                        slide[j].removeAttribute('data-slide-position');
                        break;
                    case 'left':
                        slide[j].setAttribute('data-slide-position', 'left_bottom');
                        break;
                    case 'top':
                        slide[j].setAttribute('data-slide-position', 'left');
                        break;
                    case 'right':
                        slide[j].setAttribute('data-slide-position', 'top');
                        break;
                    case 'right_bottom':
                        slide[j].setAttribute('data-slide-position', 'right');
                        next = slide[j].nextElementSibling;
                        break;
                    }
                }

                if (next) {
                    next.setAttribute('data-slide-position', 'right_bottom');
                }
            }
            sliderArrowMove(e);

        }



        function sliderArrowMove(e) {
            var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / (amount * 3) + "%)";
        }


    }

})();
	    if (($('.work_directions').length > 0)) {

	        var slider = document.querySelectorAll('.slider');

	        function hideSliderArrow(indexSlider, indexArrow) {
	            if (slider[indexSlider]) {
	                slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
	            }

	        }

	        function showSliderArrow(indexSlider, indexArrow) {
	            if (slider[indexSlider]) {
	                slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
	            }
	        }



	        function hideArrowsByDefault() {
	            if (slider.length > 0) {
	                if (slider[1].getElementsByClassName('slide').length === 1) {
	                    hideSliderArrow(1, 1)
	                }
	                if (slider[2].getElementsByClassName('slide').length < 4 && slider[2].getElementsByClassName('slide').length > 1) {
	                    hideSliderArrow(2, 1)
	                }
	            }
	        }

	        hideArrowsByDefault()
	    }
;
(function () {

    'use strict';

    if (($('.work_directions').length > 0)) {

        var SliderPaginationSettings = {
            wrapper: function () {
                return this.current_slider.find('.slides_wrapper')
            },
            slide_arr: function () {
                return this.wrapper().find('.slide')
            },
            pag: function () {
                return this.current_slider.find('.pagination')
            },
            slides_amount: function () {
                return this.slide_arr().length
            }
        }

        SliderPaginationSettings.current_slider = $('section.full_screen_slider .slider');





        function createNav() {
            if (SliderPaginationSettings.slide_arr().length > 1 && SliderPaginationSettings.pag().length > 0) {
                for (var i = 0; i < SliderPaginationSettings.slides_amount(); i++) {
                    var new_elem = document.createElement('div');
                    new_elem.className = 'nav_item';
                    new_elem.setAttribute('data-slide-num', i);
                    SliderPaginationSettings.pag().find('>div').append(new_elem);
                }
            }
        };

        createNav()




        function addDefaultSettingsOnSlides() {
            SliderPaginationSettings.slide_arr()[0].classList.add('active'); //for fade in effect
            SliderPaginationSettings.slide_arr()[0].querySelector('.slide_content_wrapper').style.opacity = "1"; //for fade in effect
            if (SliderPaginationSettings.current_slider.find('.nav_item').length > 0) {
                SliderPaginationSettings.current_slider.find('.nav_item')[0].classList.add('active');
            }
        }


        addDefaultSettingsOnSlides()



        function setAttrOnSlides() {
            for (var i = 0; i < SliderPaginationSettings.slides_amount(); i++) {
                SliderPaginationSettings.slide_arr()[i].setAttribute('data-slide-num', i)
            }
        }
        setAttrOnSlides()


        function addPaginationListeners() {
            SliderPaginationSettings.current_slider.find('.nav_item').each(function () {
                this.addEventListener('click', function (e) {
                    sliderPagMove(e)
                });
            });
        }

        addPaginationListeners()



        /**
         * for slider with pagination
         * @param {object} slide_index [clicked element]
         */
        function sliderPagMove(ev) {
            end_animation_marker = false;
            var prev_index,
                active_slide,
                pag_index = ev.target.getAttribute('data-slide-num'),
                nav_item = ev.target.parentElement.getElementsByClassName('nav_item'),
                slide = ev.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="' + pag_index + '"]');
            for (var j = 0; j < nav_item.length; j++) {
                if (nav_item[j].classList.contains('active')) {
                    prev_index = j;
                    nav_item[j].classList.remove('active'); //change style of nav elem
                    active_slide = ev.target.parentElement.parentElement.parentElement.querySelectorAll('.slide')[prev_index];
                }
            }
            active_slide.classList.remove('active');
            active_slide.querySelector('.slide_content_wrapper').style.opacity = "0";
            ev.target.classList.add('active'); //change style of nav elem
            slide.classList.add('active'); //show slide
            slide.querySelector('.slide_content_wrapper').style.opacity = "1";
        }

    }
})();
;
(function () {


    'use strict';


    if ($('.work_directions').length > 0) {

        var current_slider = $('section.review .slider'),
            wrapper = current_slider.find('.slides_wrapper'),
            slide = wrapper.find('.slide'),
            amount = slide.length;


        function setWidthOnSliderElements() {

            wrapper.css('width', amount + "00%");
            slide.each(function () {
                $(this).css('width', 100 / amount + '%');

            });
        }



        setWidthOnSliderElements();




        /**
         * for slider with arrows where moving all slide: moving + arrow hiding;
         * @param {object} e [clicked element]
         */

        var tick = 0;


        function sliderArrowMove(e) {
            var slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
            slides_wrapper.style.transform = "translateX(-" + tick * 100 / amount + "%)";
        }


        function manageSlider(e) {
            if (e.target.getAttribute('data-direction') === 'right' && tick !== 0) {
                tick -= 1;
                if (tick === 0) {
                    hideSliderArrow(1, 0);
                } else if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                    showSliderArrow(1, 1);
                }
            } else if (e.target.getAttribute('data-direction') === 'left' && tick !== (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                tick += 1;
                if (tick === (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                    hideSliderArrow(1, 1);
                }
                if (tick >= 1) {
                    showSliderArrow(1, 0);
                }
            }
            sliderArrowMove(e);
        }


        current_slider.find('.arrow').on('click', function (e) {
            manageSlider(e);
        })


    }
})();
var end_animation_marker = true;

function createSlideAnimation() { /* INDEX PAGE */



    'use strict';


    if ($('.work_directions').length > 0) {





        function animateGuys() {


            setTimeout(function () {
                moveOld();
            }, 1500)


        }


        var AnimationSettings = {
            fps: 20,
            transition_old: 1,
            transition_young: 1,
            frame_state: true,
        }



        var old = document.querySelector('.old_guy'),
            image_1 = "url(" + old.getAttribute('data-img-1') + ")",
            image_2 = "url(" + old.getAttribute('data-img-2') + ")";

        function moveOld() {

            if (AnimationSettings.frame_state) {
                old.style.backgroundImage = image_1;
                AnimationSettings.frame_state = false
            } else {
                old.style.backgroundImage = image_2;
                AnimationSettings.frame_state = true;
            }
            old.style.transform = "translateX(" + AnimationSettings.transition_old + "rem)";
            AnimationSettings.transition_old += (window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 100;
            setTimeout(function () {
                if (AnimationSettings.transition_old > (((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 3))) {
                    cancelAnimationFrame(moveOld);
                    document.querySelector('.old_guy .speak').classList.add('active');
                    AnimationSettings.frame_state = true;
                    showBtn();


                    return
                }
                requestAnimationFrame(moveOld);

            }, 1000 / AnimationSettings.fps);
        }


        var young = document.querySelector('.young_guy'),
            image_3 = "url(" + young.getAttribute('data-img-1') + ")",
            image_4 = "url(" + young.getAttribute('data-img-2') + ")";

        function moveYoung() {

            if (AnimationSettings.frame_state) {
                young.style.backgroundImage = image_3;
                AnimationSettings.frame_state = false
            } else {
                young.style.backgroundImage = image_4;
                AnimationSettings.frame_state = true;
            }
            young.style.transform = "translateX(" + AnimationSettings.transition_young + "rem)";
            AnimationSettings.transition_young += (window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 50;
            setTimeout(function () {
                if (AnimationSettings.transition_young > (((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 3))) {
                    cancelAnimationFrame(moveYoung);
                    document.querySelector('.young_guy .speak').classList.add('active');
                    setTimeout(function () {
                        if (end_animation_marker) {
                            autonomicSlider()
                        }
                    }, 3000);


                    return
                }
                requestAnimationFrame(moveYoung);

            }, 1000 / AnimationSettings.fps);
        }

        function setYoungPos() {
            document.querySelector('.young_guy').style.right = ((window.innerWidth - document.querySelector('.slide_content').offsetWidth) / 2) + 'px';
        }

        setYoungPos();


        function showBtn() {
            setTimeout(function () {
                document.querySelector('.slide_content .submit_app_btn').classList.add('active');
                showCaterpillar()
            }, 500)

        }

        function showCaterpillar() {
            setTimeout(function () {
                document.querySelector('.slide_content .icons_block').classList.add('active');
                showYoungGuy();
            }, 500)

        }

        function showYoungGuy() {
            document.querySelector('.young_guy').classList.add('active');
            moveYoung()
        }

        animateGuys();


        var slider_counter = 0,
            pag_slide = document.querySelectorAll('.full_screen_slider .slide');

        var slider_interval = setInterval(function () {
            if (slider_counter < pag_slide.length - 1) {
                sliderAutoMove(slider_counter, pag_slide);
                slider_counter++
            } else {
                sliderAutoMove(slider_counter, pag_slide);
                slider_counter = 0;
            }
        }, 7000)


        function sliderAutoMove(slider_counter, pag_slide) {
            var nav_item = document.querySelectorAll('.pagination .nav_item');
            if (slider_counter !== 0) {
                nav_item[slider_counter - 1].classList.remove('active');
                pag_slide[slider_counter - 1].classList.remove('active');
                pag_slide[slider_counter - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
            } else {
                nav_item[nav_item.length - 1].classList.remove('active');
                pag_slide[pag_slide.length - 1].classList.remove('active');
                pag_slide[pag_slide.length - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
            }
            nav_item[slider_counter].classList.add('active'); //change style of nav elem
            pag_slide[slider_counter].classList.add('active'); //show slide
            pag_slide[slider_counter].querySelector('.slide_content_wrapper').style.opacity = "1";
        }



        function autonomicSlider() {

            if (pag_slide.length > 0) {
                sliderAutoMove(slider_counter, pag_slide)

            }
        }



        function autoSliderStop() {
            for (var i = 0; i < document.querySelectorAll('.pagination .nav_item').length; i++) {
                document.querySelectorAll('.pagination .nav_item')[i].addEventListener('click', sliderStop)
            }
        }



        function sliderStop() {
            clearInterval(slider_interval)
        }


        autoSliderStop();

    }


}

createSlideAnimation();

 ;
 (function () {
     if (window.innerWidth / window.innerHeight <= aspect_ratio) {

         /**
          * total page height
          * @returns {num} [page_height]
          */
         function calcPageHeight() {
             if (header) {
                 var total = 0;
                 for (var i = 0; i < document.body.children.length; i++) {
                     total += document.body.children[i].offsetHeight;
                 }
                 total -= getHeaderHeight();
                 return total;
             }
         }

         /**
          * Define to what elem should scrolling in setTimeOut func 
          * first param: which elem I want to see 
          * second param: border when scrolling should stop (created additional element for fixed header offset)
          */
         function setScrollingArguments0() {
             elem_position = "0";
             elem_name = 'body'
         }

         function setScrollingArguments1() {

             elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
             elem_name = 'footer .invisible_scroll'
         }

         function setScrollingArguments2() {

             elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight - getHeaderHeight();
             elem_name = 'section.work_directions .invisible_scroll'
         }

         function setScrollingArguments3() {

             elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight + document.getElementsByClassName('work_directions')[0].offsetHeight - getHeaderHeight();
             elem_name = 'section.performed_works .invisible_scroll'
         }

         /**
          * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
          */
         function setElemForPropertyScrolling() {
             for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
                 document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
                 document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
             }
         }
         setElemForPropertyScrolling();

         function getHeaderHeight() {
             return header.offsetHeight;
         }




         /**
          * smooth scrolling 
          * @param {object} e [coord of clicked link from what is scrolling]
          * arguments --> look in "sizes" part, there is a points where scrolling stop
          * scrollIntoView(true): stop whete element on top of a page
          * last "if" mean "stop at the end of page"
          */
         function scrollingButtonAction(e) {
             var button_coord = e.pageY;
             e.preventDefault();
             var scroll_interval = setInterval(function scrolling() {
                 arguments[1] = elem_position;
                 console.log(arguments[1]);
                 arguments[2] = elem_name;
                 if (button_coord < arguments[1]) {
                     window.scrollBy(0, 70);
                     if (window.pageYOffset >= arguments[1]) {
                         clearInterval(scroll_interval);
                         document.querySelector(arguments[2]).scrollIntoView(true)
                     }
                     if (window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) {
                         console.log(window.pageYOffset);
                         console.log(document.documentElement.clientHeight);
                         console.log(document.body.offsetHeight);
                         clearInterval(scroll_interval)
                     }
                 } else if (button_coord > arguments[1]) {
                     window.scrollBy(0, -70);
                     if (window.pageYOffset <= arguments[1] + 70) {
                         clearInterval(scroll_interval);
                         document.querySelector(arguments[2]).scrollIntoView(true)
                     }
                 }
             }, 30);
         }



         function addListeners() {
             if (document.getElementById('logo_btn')) {
                 document.getElementById('logo_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('logo_btn').addEventListener('click', setScrollingArguments0);
             }
             if (document.getElementById('cont_btn')) {
                 document.getElementById('cont_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('cont_btn').addEventListener('click', setScrollingArguments1);
             }

             if (document.getElementById('offers_btn')) {
                 document.getElementById('offers_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('offers_btn').addEventListener('click', setScrollingArguments2);
             }
             if (document.getElementById('works_btn')) {
                 document.getElementById('works_btn').addEventListener('click', scrollingButtonAction);
                 document.getElementById('works_btn').addEventListener('click', setScrollingArguments3);
             }
         }

         addListeners()


     }
 })();




    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if (header) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }

    var scroll_size = 70;
    var fps = 30;
    var elem_name, elem_position;



    /**
     * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
     */
    function setElemForPropertyScrolling() {
        for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
            document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
            document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
        }
    }
    setElemForPropertyScrolling();

    function getHeaderHeight() {
        return header.offsetHeight;
    }



    var cancel_condition, transition_size;

    function movePage() {

        if (cancel_condition()) {
            //  document.querySelector(elem_name).scrollIntoView(true);
            window.scrollTo(0, elem_position);
            cancelAnimationFrame(movePage);
            return
        }

        window.scrollBy(0, transition_size);
        setTimeout(function () {
            requestAnimationFrame(movePage);

        }, 1000 / fps)

    }



    function calcConditionCaseDown() {
        if ((window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) || (window.pageYOffset >= elem_position - scroll_size)) {
            return true
        } else {
            return false
        }
    }


    function calcConditionCaseUp() {
        if ((document.body.offsetHeight <= document.documentElement.clientHeight) || (window.pageYOffset <= elem_position + scroll_size)) {
            return true
        } else {
            return false
        }
    }


    /**
     * smooth scrolling 
     * @param {object} e [coord of clicked link from what is scrolling]
     * arguments --> look in "sizes" part, there is a points where scrolling stop
     * scrollIntoView(true): stop whete element on top of a page
     * last "if" mean "stop at the end of page"
     */
    function manageMoving(e) {

        var button_coord = e.pageY;
        e.preventDefault();
        if (button_coord < elem_position) {
            transition_size = scroll_size;
            cancel_condition = calcConditionCaseDown;
            movePage();




        } else if (button_coord > elem_position) {

            transition_size = -scroll_size;
            cancel_condition = calcConditionCaseUp;
            movePage();


        }
    }


    $('#works_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0) {
            e.preventDefault();
            elem_name = 'section.performed_works .invisible_scroll';
            elem_position = $(elem_name).parent().offset().top;
            manageMoving(e);
        } else if ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio)) {
            e.preventDefault();
            elem_name = 'section.performed_works .invisible_scroll';
            elem_position = document.querySelector('section.full_screen_slider').offsetHeight + document.querySelector('section.work_directions').offsetHeight - getHeaderHeight();
            manageMoving(e);
        }
    });

    $('#cont_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0 || ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio))) {
            e.preventDefault();
            elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
            elem_name = 'footer .invisible_scroll';
            manageMoving(e);
        }
    })

    $('#logo_btn').on('click', function (e) {
        if ($('.crepla_ru').length > 0 || ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio))) {
            e.preventDefault();
            elem_name = 'body';
            elem_position = "0";
            manageMoving(e);
        }

    })

    $('#offers_btn').on('click', function (e) {
        if ($('.work_directions').length > 0 && (window.innerWidth / window.innerHeight <= aspect_ratio)) {
            e.preventDefault();
            elem_name = 'section.work_directions .invisible_scroll';
            elem_position = document.querySelector('section.full_screen_slider').offsetHeight - getHeaderHeight();
            manageMoving(e);
        }
    })





;
(function () {
    'use strict';
    /* INDEX PAGE ON THIN SCREEN*/




    function getHeaderHeight() {
        return $('header').outerHeight();
    }

    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if ($("header")) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }


    /*  Show red line below titles when page scrolling */

    function showRedLine() {
        var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');

        if (title.length > 2) {
            if (window.pageYOffset > (calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight) - (document.querySelector('section.team').offsetHeight * 2)) {
                document.querySelector('section.team .main_h .thin_red_line').style.width = "100rem";
            } else if (window.pageYOffset >
                (document.querySelector('.slide_content_wrapper').offsetHeight + document.querySelector('.performed_works').offsetHeight + document.querySelector('.work_directions').offsetHeight)) {
                document.querySelector('section.review .main_h .thin_red_line').style.width = "100rem";
            } else if (window.pageYOffset > (document.querySelector('.slide_content_wrapper').offsetHeight + (document.querySelector('.work_directions').offsetHeight / 2))) {
                document.querySelector('section.performed_works .main_h .thin_red_line').style.width = "100rem";
            }
        }
    }









    /* ----------------------------------------- PORTFOLIO > ----------------------------------------- */

    /**
     * [hover effect for portfolio]
     * @param {object} e [portfolio item]
     */
    function showPortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.add('active');
    }

    function hidePortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.remove('active');
    }

    function zoomInImg(e) {
        e.target.querySelector('img').classList.add('zoom_img')
    }

    function zoomOutImg(e) {
        e.target.querySelector('img').classList.remove('zoom_img')
    }

    /**
     * field with image in portfolio section becomes clickable (takes link from hover area) itself
     * @param {object} e [[direct project image]]
     */
    function goPortfolioLink(e) {
        if (e.target.tagName == 'IMG') {
            document.location.href = e.target.parentElement.getElementsByTagName('a')[0].getAttribute('href')
        } else {
            document.location.href = e.target.getElementsByTagName('a')[0].getAttribute('href')
        }
    }

    /* ----------------------------------------- < PORTFOLIO ----------------------------------------- */


    function addPortfolioListeners() {
        if (document.querySelectorAll('.portfolio >div').length > 0) {
            for (var i = 0; i < document.querySelectorAll('.portfolio >div').length; i++) {
                document.querySelectorAll('.portfolio >div')[i].addEventListener('click', goPortfolioLink);
                if (device.desktop()) {
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', showPortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', hidePortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', zoomInImg);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', zoomOutImg);
                } else {
                    document.querySelectorAll('.portfolio >div .hover_logo')[i].style.zIndex = "-1";
                }

            }
        }

    }





    function managePage() {
       // if (window.innerWidth / window.innerHeight <= aspect_ratio) {
          
            addPortfolioListeners();
            window.addEventListener('scroll', showRedLine);

       // } else {
          //  window.removeEventListener('scroll', showRedLine);

       // }
    }

    managePage()





  //  window.addEventListener('resize', managePage);




})();
var window_offset;

;



//for modal windows - create modal window with class "modal" and id, create trigger with "data-modal-id" attribute, with value is modal id. in func "set modal button" add trigger selector
(function () {
    'use strict';

    var element,
        elem_position,
        elem_name,
        wrapper,
        slides_wrapper,
        slide,
        slides_amount,
        pag,
        pag_index,
        slider,
        header,
        slider_interval,

        // window_offset,
        tick1 = 0,
        tick2 = 0;

    /* --------------------------------------------- calls --------------------------------------------- */

    callFunctions();
    addListeners();
    setSliderWidth();
    getArrows();
    getArrowsInParticularSlider();
    setModalButton();
    setElemForPropertyScrolling();
    createGlowingPlanets();
    glowingPlanet();
    manageGlowing();
    hideSliderArrow(1, 0);
    hideSliderArrow(2, 0);
    checkIfSlidesExist();
    highSlidePopUp();




    function callFunctions() {
        slider = document.getElementsByClassName('slider');
        header = document.getElementsByTagName('header')[0];
        if (slider.length > 0) {
            createNav(0);
        }
        if (header) {
            changeHeaderColor();
        }
        if (document.getElementsByClassName('slider')[2]) {
            setElemsAttr();
        }
    }

    /* --------------------------------------------- create elements --------------------------------------------- */

    /**
     * create pagination for slider and attr for slides
     * @param {number} slider_num [number of slider on page]
     */
    function createNav(slider_num) {
        wrapper = slider[slider_num].querySelector('.slides_wrapper');
        slide = wrapper.querySelectorAll('.slide');
        pag = slider[slider_num].querySelector('.pagination');
        slides_amount = slide.length;
        slide[0].classList.add('active'); //for fade in effect
        slide[0].querySelector('.slide_content_wrapper').style.opacity = "1"; //for fade in effect

        if (slide.length > 1 && pag) {
            for (var i = 0; i < slides_amount; i++) {
                var new_elem = document.createElement('div');
                new_elem.className = 'nav_item';
                new_elem.setAttribute('data-slide-num', i);
                new_elem.addEventListener('click', sliderMove);
                var full_elem = pag.querySelector('div').appendChild(new_elem) //.setAttribute('data-slide', i)
                ;
                slide[i].setAttribute('data-slide-num', i)
                if (i === 0) {
                    new_elem.classList.add('active');
                }
            }
        }
    };

    /**
     * set attr elems for slider with part slides
     */
    function setElemsAttr() {
        var slide_position = document.getElementsByClassName('slider')[2].querySelectorAll('.slide');
        if (slide_position[0]) {
            slide_position[0].setAttribute('data-slide-position', 'left');
        }
        if (slide_position[1]) {
            slide_position[1].setAttribute('data-slide-position', 'top');
        }
        if (slide_position[2]) {
            slide_position[2].setAttribute('data-slide-position', 'right');
        }
        if (slide_position[3]) {
            slide_position[3].setAttribute('data-slide-position', 'right_bottom');
        }
    }
    /**
     * create glowing across animated planets
     */
    function createGlowingPlanets() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var parent = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < img.length; i++) {
            var new_elem = document.createElement('div');
            new_elem.classList.add('glowing');
            parent[i].insertBefore(new_elem, img[i]);
        }
    }

    /**
     * Hiding arrows when slides ends
     * @param {[[num]]} indexSlider [[index of slider on page]]
     * @param {[[num]]} indexArrow  [[index of arrow]]
     */

    function hideSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].setAttribute('hidden', '');
        }

    }

    function showSliderArrow(indexSlider, indexArrow) {
        if (slider[indexSlider]) {
            slider[indexSlider].getElementsByClassName('arrow')[indexArrow].removeAttribute('hidden');
        }
    }

    function checkIfSlidesExist() {
        if (slider.length > 0) {
            if (slider[1].getElementsByClassName('slide').length === 1) {
                hideSliderArrow(1, 1)
            }
            if (slider[2].getElementsByClassName('slide').length < 4 && slider[2].getElementsByClassName('slide').length > 1) {
                hideSliderArrow(2, 1)
            }
        }
    }

    /**
     * elem on tel header
     */
    function createElemsForTablets() {
        if (!device.desktop() && document.querySelector('header .contacts .tel')) {
            var area = document.createElement('div');
            document.querySelector('header .contacts .tel').appendChild(area);
            area.classList.add('correct_work_on_tablet');
        }
    }
    /* --------------------------------------------- sizes --------------------------------------------- */



    /**
     * set width of slider_wrapper
     */
    function setSliderWidth() {
        if (slider.length > 0) {
            for (var i = 1; i < slider.length; i++) {
                slide = slider[i].getElementsByClassName('slide');
                var width = slide[0].offsetWidth;
                if (window.innerWidth > 1200) {
                    slider[i].querySelector('.slides_wrapper').style.width = width * slide.length + "rem"
                } else {
                    slider[i].querySelector('.slides_wrapper').style.width = (width /*n px*/ * Math.ceil((100 / window.innerWidth) * 1000) / 1000) /*n vw*/ * 1000 / 82 * slide.length + "rem";
                }
            }
        }
    }

    /**
     * total page height
     * @returns {num} [page_height]
     */
    function calcPageHeight() {
        if (header) {
            var total = 0;
            for (var i = 0; i < document.body.children.length; i++) {
                total += document.body.children[i].offsetHeight;
            }
            total -= getHeaderHeight();
            return total;
        }
    }

    /**
     * Define to what elem should scrolling in setTimeOut func 
     * first param: which elem I want to see 
     * second param: border when scrolling should stop (created additional element for fixed header offset)
     */
    function setScrollingArguments0() {
        elem_position = "0";
        elem_name = 'body'
    }

    function setScrollingArguments1() {

        elem_position = calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight - getHeaderHeight();
        elem_name = 'footer .invisible_scroll'
    }

    function setScrollingArguments2() {

        elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight - getHeaderHeight();
        elem_name = 'section.work_directions .invisible_scroll'
    }

    function setScrollingArguments3() {

        elem_position = document.getElementsByClassName('full_screen_slider')[0].offsetHeight + document.getElementsByClassName('work_directions')[0].offsetHeight - getHeaderHeight();
        elem_name = 'section.performed_works .invisible_scroll'
    }

    /**
     * set actual parameters of fixed header for invisible elem, which define, when scrolling stops. inisible elem should be put at the top part of relatively position elem where I want to stop scrolling
     */
    function setElemForPropertyScrolling() {
        for (var i = 0; i < document.getElementsByClassName('invisible_scroll').length; i++) {
            document.getElementsByClassName('invisible_scroll')[i].style.height = getHeaderHeight() + "px";
            document.getElementsByClassName('invisible_scroll')[i].style.top = "-" + getHeaderHeight() + "px";
        }
    }

    /**
     * get header height (for adaptivity)
     * @returns {[num]} [height of header]
     */
    function getHeaderHeight() {
        return header.offsetHeight;
    }

    /**
     * [calc height for slide depends on window height and add style on page]
     */
    function addStyleForHighslide() {
        var height = window.innerHeight - 30;
        var div = document.createElement('div');
        var style = document.createElement('style');
        document.body.appendChild(div);
        div.appendChild(style);
        div.classList.add('style_tag');
        var newtext = document.createTextNode('.highslide-container {position: fixed !important; overflow: auto !important; height: ' + height + 'px !important} .highslide-wrapper {width: 1200rem !important; height: auto !important;     margin: auto !important; left: 0!important; right: 0; !important} .highslide-image {width: 100% !important; height: auto !important} .drop-shadow {display: none !important}');
        style.appendChild(newtext);
    }

    /* --------------------------------------------- sliders --------------------------------------------- */

    /**
     * for slider with pagination
     * @param {object} slide_index [clicked element]
     */
    function sliderMove(slide_index) {
        var prev_index;
        var active_slide;
        pag_index = slide_index.target.getAttribute('data-slide-num');
        var nav_item = slide_index.target.parentElement.getElementsByClassName('nav_item');
        var slide = slide_index.target.parentElement.parentElement.parentElement.querySelector('.slide[data-slide-num="' + pag_index + '"]');
        for (var j = 0; j < nav_item.length; j++) {
            if (nav_item[j].classList.contains('active')) {
                prev_index = j;
                nav_item[j].classList.remove('active'); //change style of nav elem
                active_slide = slide_index.target.parentElement.parentElement.parentElement.querySelectorAll('.slide')[prev_index];
            }
        }
        active_slide.classList.remove('active');
        active_slide.querySelector('.slide_content_wrapper').style.opacity = "0";
        slide_index.target.classList.add('active'); //change style of nav elem
        slide.classList.add('active'); //show slide
        slide.querySelector('.slide_content_wrapper').style.opacity = "1";
    }

    /**
     * for slider with arrows where moving all slide: moving + arrow hiding;
     * @param {object} e [clicked element]
     */
    function sliderArrowMove(e) {
        //checkWidth(e, 1);

        if (e.target.getAttribute('data-direction') == 'right' && tick1 != 0) {
            tick1 -= 1;
            if (tick1 === 0) {
                hideSliderArrow(1, 0);
            } else if (tick1 === (e.target.parentElement.querySelectorAll('.slide').length - 2)) {
                showSliderArrow(1, 1);
            }
        } else if (e.target.getAttribute('data-direction') == 'left' && tick1 != (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
            tick1 += 1;
            if (tick1 == (e.target.parentElement.querySelectorAll('.slide').length - 1)) {
                hideSliderArrow(1, 1);
            }
            if (tick1 >= 1) {
                showSliderArrow(1, 0);
            }
        }
        slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        //var width = parseFloat(getComputedStyle(slides_wrapper.querySelector('.slide')).width);
        //slides_wrapper.style.right = tick1 * width + "px";
        slides_wrapper.style.transform = "translateX(-" + tick1 * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";

    }

    /**
     * for slider with arrows where moving part of slide + hiding arrows
     * @param {object} e [clicked element]
     */
    function sliderArrowMoveInParticularSlider(e) {
        //checkWidth(e, 3);
        slides_wrapper = e.target.parentElement.querySelector('.slides_wrapper');
        var slide_position = slides_wrapper.querySelectorAll('.slide'),
            next, prev;
        if (e.target.getAttribute('data-direction') == 'right' && tick2 != 0) {
            tick2 -= 1;
            if (tick2 === 0) {
                hideSliderArrow(2, 0);
            }
            if (tick2 === (e.target.parentElement.querySelectorAll('.slide').length - 4)) {
                showSliderArrow(2, 1);
            }
            for (var j = 0; j < slide_position.length; j++) {
                var position = slide_position[j].getAttribute('data-slide-position');
                if (position == 'right_bottom') {
                    slide_position[j].removeAttribute('data-slide-position');
                } else if (position == 'right') {
                    slide_position[j].setAttribute('data-slide-position', 'right_bottom');
                } else if (position == 'top') {
                    slide_position[j].setAttribute('data-slide-position', 'right')
                } else if (position == 'left') {
                    slide_position[j].setAttribute('data-slide-position', 'top');
                } else if (position == 'left_bottom') {
                    slide_position[j].setAttribute('data-slide-position', 'left');
                    prev = slide_position[j].previousElementSibling;
                }
            }
            if (prev) {
                prev.setAttribute('data-slide-position', 'left_bottom');
            }
        } else if (e.target.getAttribute('data-direction') == 'left' && tick2 != (e.target.parentElement.querySelectorAll('.slide').length - 3)) {
            tick2 += 1;

            if (tick2 == (e.target.parentElement.querySelectorAll('.slide').length - 3)) {
                hideSliderArrow(2, 1);
            }
            if (tick2 >= 1) {
                showSliderArrow(2, 0);
            }

            for (var j = 0; j < slide_position.length; j++) {
                var position = slide_position[j].getAttribute('data-slide-position');
                if (position == 'left_bottom') {
                    slide_position[j].removeAttribute('data-slide-position')
                } else if (position == 'left') {
                    slide_position[j].setAttribute('data-slide-position', 'left_bottom');
                } else if (position == 'top') {
                    slide_position[j].setAttribute('data-slide-position', 'left')
                } else if (position == 'right') {
                    slide_position[j].setAttribute('data-slide-position', 'top');
                } else if (position == 'right_bottom') {
                    slide_position[j].setAttribute('data-slide-position', 'right');
                    next = slide_position[j].nextElementSibling;
                }
            }
            if (next) {
                next.setAttribute('data-slide-position', 'right_bottom');
            }
        }
        //var width = parseFloat(getComputedStyle(slides_wrapper.querySelector('.slide')).width);
        //slides_wrapper.style.right = tick2 * width + "px";
        slides_wrapper.style.transform = "translateX(-" + tick2 * 100 / slides_wrapper.querySelectorAll('.slide').length + "%)";

    }

    /* --------------------------------------------- events --------------------------------------------- */

    /**
     * add listener for arrows at slider with arrows where moving all slide
     */
    function getArrows() {
        for (var i = 0; i < document.querySelectorAll('.review .slider .arrow').length; i++) {
            document.querySelectorAll('.review .slider .arrow')[i].addEventListener('click', sliderArrowMove)
        }
    }
    /**
     * add listener for arrows at slider with arrows where moving part of slide
     */
    function getArrowsInParticularSlider() {
        for (var i = 0; i < document.querySelectorAll('.team .slider .arrow').length; i++) {
            document.querySelectorAll('.team .slider .arrow')[i].addEventListener('click', sliderArrowMoveInParticularSlider)
        }
    }

    /**
     * set modal button
     */
    function setModalButton() {
        for (var i = 0; i < document.getElementsByClassName('submit_app_btn').length; i++) {
            document.getElementsByClassName('submit_app_btn')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('section.work_top_part .bg_top .wrapper .description a')) {
            document.querySelector('section.work_top_part .bg_top .wrapper .description a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_comment').length; i++) {
            document.getElementsByClassName('modal_comment')[i].addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.getElementsByClassName('modal_resume').length; i++) {
            document.getElementsByClassName('  modal_resume')[i].addEventListener('click', modalOpen);
        }
        if (document.querySelector('footer .contacts >p >a')) {
            document.querySelector('footer .contacts >p >a').addEventListener('click', modalOpen);
        }
        for (var i = 0; i < document.querySelectorAll('.modal .close').length; i++) {
            document.querySelectorAll('.modal .close')[i].addEventListener('click', modalClose);
        }
    }

    /**
     * for header menus
     * @param {object} e [clicked elem]
     */
    function checkTarget(e) {
        if (document.getElementsByClassName('lang').length > 0) {
            if (!e.target.classList.contains('lang') || (e.target.classList.contains('lang') && e.target.classList.contains('active'))) {
                if (e.target.classList.contains('lang')) {
                    e.target.classList.remove('active')
                }
                hideElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.remove('active')
                }
            } else if (e.target.classList.contains('lang')) {
                showElems('lang');
                if (e.target.parentElement.querySelector('.arrow')) {
                    e.target.parentElement.querySelector('.arrow').classList.add('active')
                }
            }
        }
    }

    /**
     * add listeners for animated planets glowing
     */
    function manageGlowing() {
        var elem = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service');
        for (var i = 0; i < elem.length; i++) {
            elem[i].addEventListener('mouseenter', showGlowing);
            elem[i].addEventListener('mouseleave', hideGlowing);
        }
    }

    /**
     * listener for change color of invalid field
     */
    function addButtonListener() {
        var form_button = document.getElementsByTagName('button')
        for (var i = 0; i < form_button.length; i++) {
            form_button[i].addEventListener('click', changeInvalidColor)
        }
    }

    /**
     * checking if element exist - add listener
     */
    function addListeners() {
        if (document.getElementById('logo_btn')) {
            document.getElementById('logo_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('logo_btn').addEventListener('click', setScrollingArguments0);
        }
        if (document.getElementById('cont_btn')) {
            document.getElementById('cont_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('cont_btn').addEventListener('click', setScrollingArguments1);
        }

        if (document.getElementById('offers_btn')) {
            document.getElementById('offers_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('offers_btn').addEventListener('click', setScrollingArguments2);
        }
        if (document.getElementById('works_btn')) {
            document.getElementById('works_btn').addEventListener('click', scrollingButtonAction);
            document.getElementById('works_btn').addEventListener('click', setScrollingArguments3);
        }
        if (document.getElementById('tel_modal')) {
            document.getElementById('tel_modal').addEventListener('focus', showTelComment);
            document.getElementById('tel_modal').addEventListener('blur', hideTelComment);
        }
        if (document.getElementsByTagName('button')) {
            addButtonListener()
        }
        if (document.querySelectorAll('.portfolio >div').length > 0) {
            for (var i = 0; i < document.querySelectorAll('.portfolio >div').length; i++) {
                document.querySelectorAll('.portfolio >div')[i].addEventListener('click', goPortfolioLink);
                if (device.desktop()) {
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', showPortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', hidePortfolioLogo);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseenter', zoomInImg);
                    document.querySelectorAll('.portfolio >div')[i].addEventListener('mouseleave', zoomOutImg);
                } else {
                    document.querySelectorAll('.portfolio >div .hover_logo')[i].style.zIndex = "-1";
                }

            }
        }
        if (document.getElementsByClassName('tel_num').length > 0 && device.desktop()) {
            for (var i = 0; i < document.getElementsByClassName('tel_num').length; i++) {
                document.getElementsByClassName('tel_num')[i].addEventListener('mouseenter', showHeaderTel);
                document.getElementsByClassName('tel_num')[i].addEventListener('mouseleave', hideHeaderTel);
            }
        }
        createElemsForTablets();
        if (document.querySelector('.correct_work_on_tablet')) {
            document.querySelector('.correct_work_on_tablet').addEventListener('click', tabletHeaderTelToggle);
        }
    }

    /**
     * field with image in portfolio section becomes clickable (takes link from hover area) itself
     * @param {object} e [[direct project image]]
     */
    function goPortfolioLink(e) {
        if (e.target.tagName == 'IMG') {
            document.location.href = e.target.parentElement.getElementsByTagName('a')[0].getAttribute('href')
        } else {
            document.location.href = e.target.getElementsByTagName('a')[0].getAttribute('href')
        }
    }


    /**
     * [on page 'works' add listener on links bounded with highslide module ]
     */
    function highSlidePopUp() {
        var slide_link = document.querySelectorAll('.work_content a.highslide');
        if (slide_link.length > 0) {
            for (var i = 0; i < slide_link.length; i++) {
                slide_link[i].addEventListener('click', bodyFixOn)
            }
        }
    }


    window.addEventListener('click', checkTarget);
    window.addEventListener('scroll', changeHeaderColor);
    //window.addEventListener('resize', setSliderWidth);	
    window.addEventListener('resize', calcPageHeight);
    window.addEventListener('resize', glowingPlanet);


    /* --------------------------------------------- other functions --------------------------------------------- */

    /**
     * modal_window + smooth display
     */
    /*function modalOpen(e) {
        var index;
        if (e.target.classList.contains('submit_app_btn') || (!e.target.classList.contains('modal_resume') && !e.target.classList.contains('modal_comment') && e.target.tagName == 'A')) {
            index = 0;
        } else if (e.target.classList.contains('modal_resume')) {
            e.preventDefault();
            index = 1
        } else if (e.target.classList.contains('modal_comment')) {
            e.preventDefault();
            index = 2
        }
        document.getElementsByClassName('modal')[index].style.display = "block";
        var int = setInterval(function () {
            if ((getComputedStyle(document.getElementsByClassName('modal')[index]).opacity) < 0.98) {
                document.getElementsByClassName('modal')[index].style.opacity = +document.getElementsByClassName('modal')[index].style.opacity + 0.1;
            } else {
                clearInterval(int)
            }
        }, 30)


        document.body.style.marginRight = window.innerWidth - document.body.offsetWidth + "px";
        header.style.marginRight = window.innerWidth - document.body.offsetWidth + "px";
        document.body.style.width = "initial";
        document.body.classList.add('hidden');


    }

    function modalClose(e) {
        var index;
        if (e.target.parentElement.parentElement.parentElement.id == 'modal_order') {
            index = 0
        } else if (e.target.parentElement.parentElement.parentElement.id == 'modal_resume') {
            index = 1
        } else if (e.target.parentElement.parentElement.parentElement.id == 'modal_comment') {
            index = 2
        }
        document.getElementsByClassName('modal')[index].style.display = "none";
        document.getElementsByClassName('modal')[index].style.opacity = "0";
        document.body.style.marginRight = 0;
        header.style.marginRight = 0;
        document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
        document.body.classList.remove('hidden');
    }*/


    function modalOpen(e) {
        e.preventDefault();
        takeUsedButton(e);
        var modal_id = e.target.getAttribute('data-modal-id');

        document.getElementById(modal_id).style.display = "block";
        var int = setInterval(function () {
            if ((getComputedStyle(document.getElementById(modal_id)).opacity) < 0.98) {
                document.getElementById(modal_id).style.opacity = +document.getElementById(modal_id).style.opacity + 0.1;
            } else {
                clearInterval(int)
            }
        }, 30)
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        header.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        header.style.display = "none";


        // window.addEventListener('scroll', scrollBodySync)
    }

    function modalClose(e) {
        var elem = e.target;
        while (!elem.classList.contains('modal')) {
            elem = elem.parentElement;
        }
        var modal_id = elem.id;
        document.getElementById(modal_id).style.display = "none";
        document.getElementById(modal_id).style.opacity = "0";
        document.body.style.marginRight = 0;
        header.style.marginRight = 0;
        document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
        document.body.classList.remove('hidden');
        window.scrollTo(0, window_offset);
        header.style.display = "block";
        // window.removeEventListener('scroll', scrollBodySync)
    }



    /**
     * change color of fixed nav block when scrolled under nth px
     */
    function changeHeaderColor() {
        if (header) {
            if (window.pageYOffset > 0) {
                header.getElementsByClassName('header_bg')[0].style.opacity = "0.9";

            } else {
                header.getElementsByClassName('header_bg')[0].style.opacity = "0";

            }
        }
    }

    /**
     * smooth scrolling 
     * @param {object} e [coord of clicked link from what is scrolling]
     * arguments --> look in "sizes" part, there is a points where scrolling stop
     * scrollIntoView(true): stop whete element on top of a page
     * last "if" mean "stop at the end of page"
     */
    function scrollingButtonAction(e) {
        var button_coord = e.pageY;
        e.preventDefault();
        var scroll_interval = setInterval(function scrolling() {
            arguments[1] = elem_position;
            console.log(arguments[1]);
            arguments[2] = elem_name;
            if (button_coord < arguments[1]) {
                window.scrollBy(0, 70);
                if (window.pageYOffset >= arguments[1]) {
                    clearInterval(scroll_interval);
                    document.querySelector(arguments[2]).scrollIntoView(true)
                }
                if (window.pageYOffset + document.documentElement.clientHeight >= document.body.offsetHeight) {
                    console.log(window.pageYOffset);
                    console.log(document.documentElement.clientHeight);
                    console.log(document.body.offsetHeight);
                    clearInterval(scroll_interval)
                }
            } else if (button_coord > arguments[1]) {
                window.scrollBy(0, -70);
                if (window.pageYOffset <= arguments[1] + 70) {
                    clearInterval(scroll_interval);
                    document.querySelector(arguments[2]).scrollIntoView(true)
                }
            }
        }, 30);
    }

    /**
     * show and hide header lists
     * @param {[[string]]} elem_class_name [name of class of list element]
     */
    function showElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.add('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].removeAttribute('hidden')
        }
    }

    function hideElems(elem_class_name) {
        document.getElementsByClassName(elem_class_name)[0].classList.remove('active');
        for (var i = 1; i < document.getElementsByClassName(elem_class_name).length; i++) {
            document.getElementsByClassName(elem_class_name)[i].setAttribute('hidden', '')
        }
    }


    /**
     * tuning of glowing planets
     */
    function glowingPlanet() {
        var img = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service img');
        var planet = document.querySelectorAll('.work_directions .wrapper .direction .direction_wrapper .service .glowing');
        for (var i = 0; i < planet.length; i++) {
            planet[i].style.left = '5%';
            planet[i].style.top = img[i].offsetHeight / 4 + 'px';
            planet[i].style.width = '20%';
            planet[i].style.height = img[i].offsetHeight / 2 + 'px';
        }
    };

    function showGlowing(e) {
        e.target.querySelector(".glowing").classList.add('active');
    }

    function hideGlowing(e) {
        e.target.querySelector(".glowing").classList.remove('active');
    }

    /**
     * change color of input form if there is wrong value
     * @param {object} e [get clicked element (search in it's parent)]
     */
    function changeInvalidColor(e) {
        var form_input = e.target.parentElement.getElementsByTagName('input');
        for (var i = 0; i < form_input.length; i++) {
            form_input[i].classList.add('valid')
        }
    }

    /**
     * show comment for tel form in modal window
     */
    function showTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "visible";
        tel_comment.style.opacity = "1";
    }

    function hideTelComment() {
        var tel_comment = document.querySelector('.tel_comment');
        tel_comment.style.visibility = "hidden";
        tel_comment.style.opacity = "0";
    }
    /**
     * [hover effect for portfolio]
     * @param {object} e [portfolio item]
     */
    function showPortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.add('active');
    }

    function hidePortfolioLogo(e) {
        e.target.querySelector('.portfolio .hover_logo').classList.remove('active');
    }

    /**
     * show header lang onhover
     * @param {object} e [[lang elem]]
     */

    function showHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].removeAttribute('hidden');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.add('active');
        document.querySelector('header .contacts .tel').classList.add('active');
    }

    function hideHeaderTel(e) {
        for (var i = 1; i < document.querySelector('header .contacts .tel').getElementsByClassName('tel_num').length; i++) {
            document.querySelector('header .contacts .tel').getElementsByClassName('tel_num')[i].setAttribute('hidden', '');
        }
        document.querySelector('header .contacts .tel').querySelector('span').classList.remove('active');
        document.querySelector('header .contacts .tel').classList.remove('active');

    }

    /**
     * [highslide run as modal window]
     */
    function bodyFixOn() {
        var body_width = document.body.offsetWidth;
        window_offset = window.pageYOffset;
        document.body.style.marginRight = window.innerWidth - body_width + "px";
        document.body.style.width = body_width + "px";
        document.body.style.top = "-" + window_offset + "px";
        document.body.classList.add('hidden');
        document.querySelector('header').style.display = "none";
        addStyleForHighslide()
    }

    /* replace to highslide.js
    function bodyFixOut() {
         document.body.style.marginRight = 0;
         document.body.style.width = (document.body.offsetHeight >= 1200) ? "100%" : "100vw";
         document.body.classList.remove('hidden');
         window.scrollTo(0, window_offset);
         document.body.removeChild(document.querySelector('.style_tag'))
     }*/

    /**
     * [show header tels on tablets]
     */
    function tabletHeaderTelToggle() {
        if (document.querySelector('.correct_work_on_tablet').classList.contains('active')) {
            document.querySelector('.correct_work_on_tablet').classList.remove('active');
            hideHeaderTel()
        } else {
            document.querySelector('.correct_work_on_tablet').classList.add('active');
            showHeaderTel()
        }
    }




    /*
	
	
	
	
	


    $('.arrow_right').on('click', function () {
    	if (click_amount == 0) {
    		click_amount++;
    		if (ind == 0) {
    			ind = sliderPictures.length
    		}
    		ind--;
    		$('.off').remove();
    		$('.central_slide').before('<div class="prev_slide"></div>');
    		$('.prev_slide').css('background-image', sliderPictures[ind]);
    		$('.central_slide, .prev_slide').animate({
    			left: '100%',
    		});
    		$('.central_slide').addClass('off');
    		setTimeout(function () {
    			$('.central_slide').addClass('next_slide').removeClass('central_slide');
    			$('.prev_slide').addClass('central_slide').removeClass('prev_slide').css('left', 'initial');
    			click_amount = 0
    		}, 410)
    	}
    });
	
	
	
    var sli_com = document.getElementsByClassName('slider')[1];
    var sli_team = document.getElementsByClassName('slider')[2]
    var arr_l = sli_com.querySelector('.arrow.left');
    var arr_r = sli_com.querySelector('.arrow.right');
    arr_l.addEventListener('click', moveToRight);
    arr_r.addEventListener('click', moveToLeft);
	
	
	
    $('.arrow_left').on('click', function () {
    	if (click_amount == 0) {
    		click_amount++;
    		ind++;
    		if (ind == sliderPictures.length) {
    			ind = 0
    		}
    		$('.off').remove();
    		$('.central_slide').after('<div class="next_slide"></div>');
    		$('.next_slide').css('background-image', sliderPictures[ind]);
    		$('.central_slide, .next_slide').animate({
    			right: '100%',
    		});
    		$('.central_slide').addClass('off');
    		setTimeout(function () {
    			$('.central_slide').addClass('prev_slide').removeClass('central_slide');
    			$('.next_slide').addClass('central_slide').removeClass('next_slide').css('right', 'initial');
    			click_amount = 0
    		}, 410)
    	}
    });
	
    function moveToRight(e) {
    	var slide = e.target.parentElement.getElementsByClassName('slide');
    }
	
	
	
    function sliderVisibility() {
    	for (var i = 1; i<sli_com.getElementsByClassName('slide').length; i++ ) {
    		sli_com.getElementsByClassName('slide')[i].setAttribute('hidden', '')			
    	}
    		for (var i = 3; i<sli_team.getElementsByClassName('slide').length; i++ ) {
    		sli_team.getElementsByClassName('slide')[i].setAttribute('hidden', '')			
    	}	
    }
	
	
	
	
    */





    /*function checkWidth(e, slides_part_amount) {	if  (e.target.parentElement.querySelector('.slides_wrapper').offsetWidth < e.target.parentElement.querySelectorAll('.slide')[0].offsetWidth * e.target.parentElement.querySelectorAll('.slide').length / slides_part_amount ) {console.log('script didnt work last time');
	setSliderWidth()
}}*/





    /*function scrollBodySync(e) {console.log('sdf    ')
        //e.preventDefault()

       //console.log(window.pageYOffset);
       // document.body.style.marginTop = window.pageYOffset + "px";
    document.body.style.


    }*/









    /*
       
           hs.registerOverlay({
        html: '<div class=\"close_btn\" onclick=\"return hs.close(this)\" title=\"Close\"></div>',
        position: 'top right',
        fade: 2 // fading the semi-transparent overlay looks bad in IE
    });
       
       */


    /*  
    window.addEventListener('mousemove', 'checkSlideClosing')
    
    function checkSlideClosing() {
        if (document.querySelectorAll('.highslide-container table') > 0) {
        for(var i = 0; i < document.querySelectorAll('.highslide-container table') )
    if (document.querySelectorAll('.highslide-container table')) {
            bodyFixOut()
        }}

}*/


    function takeUsedButton(e) {
        if (e.target.hasAttribute('data-trigger-ident')) {
            document.getElementById('takes_used_button').value = e.target.getAttribute('data-trigger-ident')
        }
    }


    function setModalAttribute() {
        var elem = document.querySelector('section.work_top_part .description a[href^="#"]');
        if (elem) {
            console.log('link exist');
            elem.setAttribute('data-modal-id', 'modal_order');
            elem.setAttribute('data-trigger-ident', 'vnutryak')
        }


    }


    setModalAttribute()


    function zoomInImg(e) {
        e.target.querySelector('img').classList.add('zoom_img')
    }

    function zoomOutImg(e) {
        e.target.querySelector('img').classList.remove('zoom_img')
    }



    function autonomicSlider() {
        var slide = document.querySelectorAll('.full_screen_slider .slide');
        var i = 1;
        if (slide.length > 0) {
            slider_interval = setInterval(function () {
                if (i < slide.length - 1) {
                    sliderAutoMove(i);
                    i++
                } else {
                    sliderAutoMove(i);
                    i = 0;
                }
            }, 7000)
        }
    }


    function sliderAutoMove(i) {
        var slide = document.querySelectorAll('.full_screen_slider .slide');
        var nav_item = document.querySelectorAll('.pagination .nav_item');
        if (i !== 0) {
            nav_item[i - 1].classList.remove('active');
            slide[i - 1].classList.remove('active');
            slide[i - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
        } else {
            nav_item[nav_item.length - 1].classList.remove('active');
            slide[slide.length - 1].classList.remove('active');
            slide[slide.length - 1].querySelector('.slide_content_wrapper').style.opacity = "0";
        }
        nav_item[i].classList.add('active'); //change style of nav elem
        slide[i].classList.add('active'); //show slide
        slide[i].querySelector('.slide_content_wrapper').style.opacity = "1";
    }



    function autoSliderStop() {
        for (var i = 0; i < document.querySelectorAll('.pagination .nav_item').length; i++) {
            document.querySelectorAll('.pagination .nav_item')[i].addEventListener('click', sliderStop)
        }
    }


    function sliderStop() {
        clearInterval(slider_interval)

    }




    autonomicSlider()
    autoSliderStop()

    
    
    /*new*/



    function slideDownHeaderElems() {

        var header_elem = document.querySelectorAll('header nav ul li');
        for (var i = 0; i < header_elem.length; i++) {
            header_elem[i].classList.add('up');
        }
        // document.querySelector('.tel').classList.add('up');
         //  document.querySelector('.submit_app_btn').classList.add('up');
            //  document.querySelector('.lang_btn').classList.add('up');
        console.log( document.querySelector('.tel'))
        
  
       


    }


    function slideDownElems() {
      
        var header_elem = document.querySelectorAll('.up');
        var i = 0;

        setInterval(function () {
            if (i < header_elem.length)

                header_elem[i].classList.remove('up');
            i++

        }, 500)



    }




    slideDownHeaderElems();

    slideDownElems();
    
     
    
    

    
    
    /*  new  */
    
    function showRedLine()  {
        if (window.pageYOffset > (calcPageHeight() - document.getElementsByTagName('footer')[0].offsetHeight) - (document.querySelector('section.team').offsetHeight*2)) {
            console.log('dfg');
        document.querySelector('section.team .main_h .thin_red_line').style.width = "100rem";
            
        }
        
        
     
        
        
    }
    
    
    window.addEventListener('scroll', showRedLine)

    
    function createRedLine() { console.log('sdfg');
       var title = document.querySelectorAll('.performed_works .main_h, .review .main_h, .team .main_h');
        for (var i = 0; i < title.length; i++) {
            var elem = document.createElement('div')
            var line = title[i].appendChild(elem);
            line.classList.add('thin_red_line');
        }
        
        
    }
    
     createRedLine()



})();
